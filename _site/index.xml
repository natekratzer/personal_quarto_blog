<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Nate Kratzer</title>
<link>https://www.natekratzer.com/index.html</link>
<atom:link href="https://www.natekratzer.com/index.xml" rel="self" type="application/rss+xml"/>
<description>A data science blog</description>
<generator>quarto-1.2.335</generator>
<lastBuildDate>Sat, 18 Mar 2023 04:00:00 GMT</lastBuildDate>
<item>
  <title>Partitioned Regression with Palmer Penguins and Scikit-Learn</title>
  <link>https://www.natekratzer.com/posts/partitioned_regression/index.html</link>
  <description><![CDATA[ 



<p>Partitioned regression is a helpful way to gain more intuition for how regression works. What does it mean when we say that regression allows us to adjust for (or control for) other variables? By looking at a regression in multiple pieces we can gain a better understanding of what’s happening and also produce a pretty cool visualization of our key result. (Partitioned regression could also come in handy if you ever have to run a regression on a computer with limited RAM, but that’s not our focus here).</p>
<section id="getting-started" class="level2">
<h2 class="anchored" data-anchor-id="getting-started">Getting Started</h2>
<p>Like most Python projects, we’ll start by loading some libraries.</p>
<ul>
<li>Numpy is standard for numerical arrays, and Pandas for dataframes and dataframe manipulation.</li>
<li>Altair is a visualization library. It’s not as well known as matplotlib or Plotly, but I like the aesthetics of the plots it produces and I find it’s grammar of graphics a bit more intuitive.</li>
<li>palmerpenguins is an easy way to load the demonstration data set I’ll be using here. You could also download it as a .csv file from <a href="https://github.com/allisonhorst/palmerpenguins/blob/main/inst/extdata/penguins.csv">here</a></li>
<li>I’m using scikit-learn (sklearn) for the regression because it’s a useful package to learn for additional work in Python. Statsmodels is another choice that would have worked well for everything in this post.</li>
</ul>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;">import</span> numpy <span class="im" style="color: #00769E;">as</span> np</span>
<span id="cb1-2"><span class="im" style="color: #00769E;">import</span> pandas <span class="im" style="color: #00769E;">as</span> pd</span>
<span id="cb1-3"><span class="im" style="color: #00769E;">import</span> altair <span class="im" style="color: #00769E;">as</span> alt</span>
<span id="cb1-4"><span class="im" style="color: #00769E;">from</span> palmerpenguins <span class="im" style="color: #00769E;">import</span> load_penguins</span>
<span id="cb1-5"><span class="im" style="color: #00769E;">from</span> sklearn.linear_model <span class="im" style="color: #00769E;">import</span> LinearRegression</span>
<span id="cb1-6"><span class="im" style="color: #00769E;">from</span> sklearn <span class="im" style="color: #00769E;">import</span> preprocessing</span></code></pre></div>
</div>
<p>Loading the penguins data and showing the first few rows</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1">df <span class="op" style="color: #5E5E5E;">=</span> load_penguins()</span>
<span id="cb2-2"></span>
<span id="cb2-3"><span class="co" style="color: #5E5E5E;"># if you download the .csv instead of using the library</span></span>
<span id="cb2-4"><span class="co" style="color: #5E5E5E;"># df = pd.read_csv("palmer_penguins.csv")</span></span>
<span id="cb2-5"></span>
<span id="cb2-6">df.head()</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>species</th>
      <th>island</th>
      <th>bill_length_mm</th>
      <th>bill_depth_mm</th>
      <th>flipper_length_mm</th>
      <th>body_mass_g</th>
      <th>sex</th>
      <th>year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.1</td>
      <td>18.7</td>
      <td>181.0</td>
      <td>3750.0</td>
      <td>male</td>
      <td>2007</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>39.5</td>
      <td>17.4</td>
      <td>186.0</td>
      <td>3800.0</td>
      <td>female</td>
      <td>2007</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>40.3</td>
      <td>18.0</td>
      <td>195.0</td>
      <td>3250.0</td>
      <td>female</td>
      <td>2007</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2007</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Adelie</td>
      <td>Torgersen</td>
      <td>36.7</td>
      <td>19.3</td>
      <td>193.0</td>
      <td>3450.0</td>
      <td>female</td>
      <td>2007</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://www.natekratzer.com/posts/partitioned_regression/palmer_penguins.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">Penguins illustrated by Allison Horst</figcaption><p></p>
</figure>
</div>
<p>The penguins dataset is a small dataset that’s useful for doing demonstrations for everyone who is tired of the iris dataset and thinks penguins are cute.</p>
</section>
<section id="preparing-the-data" class="level2">
<h2 class="anchored" data-anchor-id="preparing-the-data">Preparing the data</h2>
<p>Before we can run any regressions we need to clean up the data a bit. There’s a row that is NA that we can drop and we have some categorical variables that can’t be used directly. We’ll remove the NA data and transform the categorical variables into a series of dichotomous variables that have the same information but can be used in our analysis.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1">df <span class="op" style="color: #5E5E5E;">=</span> df.dropna().reset_index() <span class="co" style="color: #5E5E5E;"># if you don't reset the index then merging on index later will result in data mismatches and destroy your data silently. </span></span>
<span id="cb3-2">enc <span class="op" style="color: #5E5E5E;">=</span> preprocessing.OneHotEncoder(sparse_output <span class="op" style="color: #5E5E5E;">=</span> <span class="va" style="color: #111111;">False</span>) <span class="co" style="color: #5E5E5E;"># important to have sparse_output = False for the array to be easily put back into a dataframe afterwards</span></span>
<span id="cb3-3">encoded_results <span class="op" style="color: #5E5E5E;">=</span> enc.fit_transform(df[[<span class="st" style="color: #20794D;">'sex'</span>, <span class="st" style="color: #20794D;">'species'</span>]])</span>
<span id="cb3-4"></span>
<span id="cb3-5"><span class="co" style="color: #5E5E5E;"># names are not automatically preserved in this process, so if you want feature names you need to bring them back out. </span></span>
<span id="cb3-6">df2 <span class="op" style="color: #5E5E5E;">=</span> pd.DataFrame(encoded_results, columns <span class="op" style="color: #5E5E5E;">=</span> enc.get_feature_names_out())</span>
<span id="cb3-7"></span>
<span id="cb3-8"><span class="co" style="color: #5E5E5E;"># putting the dichotomous variables in along with everything else</span></span>
<span id="cb3-9"><span class="co" style="color: #5E5E5E;"># this still has the original categorial versions, so check that everything lines up correctly</span></span>
<span id="cb3-10">df <span class="op" style="color: #5E5E5E;">=</span> pd.concat([df, df2], axis <span class="op" style="color: #5E5E5E;">=</span> <span class="dv" style="color: #AD0000;">1</span>)</span>
<span id="cb3-11"></span>
<span id="cb3-12"><span class="co" style="color: #5E5E5E;">#instead of using scikit-learns preprocessing features you could do this manually with np.where</span></span>
<span id="cb3-13"><span class="co" style="color: #5E5E5E;">#df['male'] = np.where(df['sex'] == 'male', 1, 0)</span></span></code></pre></div>
</div>
</section>
<section id="partitioned-regression" class="level2">
<h2 class="anchored" data-anchor-id="partitioned-regression">Partitioned regression</h2>
<p>Let’s say we’re interested in the relationship between bill depth and bill length. Bill length will be our dependent (or target) variable. We think there are things other than bill depth that are related to bill length, so we want to adjust for those when considering the relationship between depth and length. I’m going to put all of those other variables into a matrix called X. (For the dichotomous variables one category has to be left out).</p>
<p>Then we’re going to run three different regressions. First we’ll regress bill length on all the X variables. Then we’ll also regress bill depth on all of the X variables. Finally, we’ll regress the residuals from the first regression on the residuals from the second regression. The residuals represent what is left unexplained about the dependent variable after accounting for the control variables. And by regressing both bill length and bill depth on the same set of control variables, we get residuals that can be thought of as bill length and bill depth after adjusting for everything in X. That lets us see the relationship between bill length and bill depth after accounting for anything else we think is relevant.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1">y <span class="op" style="color: #5E5E5E;">=</span> df[<span class="st" style="color: #20794D;">'bill_length_mm'</span>] <span class="co" style="color: #5E5E5E;"># target variable</span></span>
<span id="cb4-2">z <span class="op" style="color: #5E5E5E;">=</span> df[<span class="st" style="color: #20794D;">'bill_depth_mm'</span>] <span class="co" style="color: #5E5E5E;"># effect we're interested in</span></span>
<span id="cb4-3">X <span class="op" style="color: #5E5E5E;">=</span> df[[<span class="st" style="color: #20794D;">'flipper_length_mm'</span>, <span class="st" style="color: #20794D;">'body_mass_g'</span>, <span class="st" style="color: #20794D;">'sex_female'</span>, <span class="st" style="color: #20794D;">'species_Adelie'</span>, <span class="st" style="color: #20794D;">'species_Chinstrap'</span>]] <span class="co" style="color: #5E5E5E;"># other variables we want to adjust for</span></span>
<span id="cb4-4"></span>
<span id="cb4-5"></span>
<span id="cb4-6">model1 <span class="op" style="color: #5E5E5E;">=</span> LinearRegression().fit(X, y)</span>
<span id="cb4-7"><span class="co" style="color: #5E5E5E;">#residuals aren't actually saved by scikit-learn, but we can create them from the original data and the predictions</span></span>
<span id="cb4-8">residuals_y_on_X <span class="op" style="color: #5E5E5E;">=</span> (y <span class="op" style="color: #5E5E5E;">-</span> model1.predict(X))</span>
<span id="cb4-9"></span>
<span id="cb4-10">model2 <span class="op" style="color: #5E5E5E;">=</span> LinearRegression().fit(X, z)</span>
<span id="cb4-11">residuals_z_on_X <span class="op" style="color: #5E5E5E;">=</span> (z <span class="op" style="color: #5E5E5E;">-</span> model2.predict(X))</span>
<span id="cb4-12"></span>
<span id="cb4-13"><span class="co" style="color: #5E5E5E;">#need to reshape for scikit learn to work with a single feature input</span></span>
<span id="cb4-14">z_resids <span class="op" style="color: #5E5E5E;">=</span> residuals_z_on_X.to_numpy().reshape(<span class="op" style="color: #5E5E5E;">-</span><span class="dv" style="color: #AD0000;">1</span>, <span class="dv" style="color: #AD0000;">1</span>)</span>
<span id="cb4-15">y_resids <span class="op" style="color: #5E5E5E;">=</span> residuals_y_on_X.to_numpy().reshape(<span class="op" style="color: #5E5E5E;">-</span><span class="dv" style="color: #AD0000;">1</span>, <span class="dv" style="color: #AD0000;">1</span>)</span>
<span id="cb4-16"></span>
<span id="cb4-17">part_reg_outcome <span class="op" style="color: #5E5E5E;">=</span> LinearRegression().fit(z_resids, y_resids)</span>
<span id="cb4-18"></span>
<span id="cb4-19"><span class="co" style="color: #5E5E5E;">#has to be np.round, not round. And has to be [0, 0] not [0] for a 1d array</span></span>
<span id="cb4-20"><span class="bu" style="color: null;">print</span>(<span class="st" style="color: #20794D;">"The regression coefficient using partitioned regression is </span><span class="sc" style="color: #5E5E5E;">{}</span><span class="st" style="color: #20794D;">"</span>.<span class="bu" style="color: null;">format</span>(np.<span class="bu" style="color: null;">round</span>((part_reg_outcome.coef_[<span class="dv" style="color: #AD0000;">0</span>, <span class="dv" style="color: #AD0000;">0</span>]), <span class="dv" style="color: #AD0000;">3</span>)))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The regression coefficient using partitioned regression is 0.313</code></pre>
</div>
</div>
<p>We can also verify that we’d get the same result from an ordinary linear regression</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><span class="co" style="color: #5E5E5E;">#add the bill depth variable back into the X array</span></span>
<span id="cb6-2">X2 <span class="op" style="color: #5E5E5E;">=</span> df[[<span class="st" style="color: #20794D;">'bill_depth_mm'</span>, <span class="st" style="color: #20794D;">'flipper_length_mm'</span>, <span class="st" style="color: #20794D;">'body_mass_g'</span>, <span class="st" style="color: #20794D;">'sex_female'</span>, <span class="st" style="color: #20794D;">'species_Adelie'</span>, <span class="st" style="color: #20794D;">'species_Chinstrap'</span>]]</span>
<span id="cb6-3"></span>
<span id="cb6-4"><span class="co" style="color: #5E5E5E;">#here we can just use [0] for some reasons</span></span>
<span id="cb6-5">lr_outcome <span class="op" style="color: #5E5E5E;">=</span> LinearRegression().fit(X2, y)</span>
<span id="cb6-6"><span class="bu" style="color: null;">print</span>(<span class="st" style="color: #20794D;">"The regression coefficient using linear regression is </span><span class="sc" style="color: #5E5E5E;">{}</span><span class="st" style="color: #20794D;">"</span>.<span class="bu" style="color: null;">format</span>(np.<span class="bu" style="color: null;">round</span>(lr_outcome.coef_[<span class="dv" style="color: #AD0000;">0</span>], <span class="dv" style="color: #AD0000;">3</span>)))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>The regression coefficient using linear regression is 0.313</code></pre>
</div>
</div>
<p>One advantage of the partitioned regression is that it allows us to look at the relationship visually. Instead of just having the point estimate, standard error, and any test statistics (e.g.&nbsp;p-value) we can visually inspect a full scatterplot of the data. I’ve added a regression line, and the slope of the line is equal to the regression coefficients found above. You can visually see from this plot that it isn’t a very strong relationship.</p>
<div class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1">plt_df <span class="op" style="color: #5E5E5E;">=</span> pd.DataFrame(data <span class="op" style="color: #5E5E5E;">=</span> {<span class="st" style="color: #20794D;">'Adjusted Bill Length'</span>: residuals_y_on_X, <span class="st" style="color: #20794D;">'Adjusted Bill Depth'</span>: residuals_z_on_X})</span>
<span id="cb8-2"></span>
<span id="cb8-3">sp_pr <span class="op" style="color: #5E5E5E;">=</span> alt.Chart(plt_df, title <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"Bill Depth and Bill Length (Adjusted)"</span>).mark_circle().encode(</span>
<span id="cb8-4">    alt.X(<span class="st" style="color: #20794D;">'Adjusted Bill Depth'</span>, scale <span class="op" style="color: #5E5E5E;">=</span> alt.Scale(zero <span class="op" style="color: #5E5E5E;">=</span> <span class="va" style="color: #111111;">False</span>)),</span>
<span id="cb8-5">    alt.Y(<span class="st" style="color: #20794D;">'Adjusted Bill Length'</span>, scale <span class="op" style="color: #5E5E5E;">=</span> alt.Scale(zero <span class="op" style="color: #5E5E5E;">=</span> <span class="va" style="color: #111111;">False</span>)),</span>
<span id="cb8-6">)</span>
<span id="cb8-7"></span>
<span id="cb8-8">plt_pr <span class="op" style="color: #5E5E5E;">=</span> sp_pr <span class="op" style="color: #5E5E5E;">+</span> sp_pr.transform_regression(<span class="st" style="color: #20794D;">'Adjusted Bill Depth'</span>, <span class="st" style="color: #20794D;">'Adjusted Bill Length'</span>).mark_line()</span>
<span id="cb8-9"></span>
<span id="cb8-10">plt_pr</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">

<div id="altair-viz-e2de533ec8c244c7bc209bfa5dc8f9ef"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-e2de533ec8c244c7bc209bfa5dc8f9ef") {
      outputDiv = document.getElementById("altair-viz-e2de533ec8c244c7bc209bfa5dc8f9ef");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": "circle", "encoding": {"x": {"type": "quantitative", "field": "Adjusted Bill Depth", "scale": {"zero": false}}, "y": {"type": "quantitative", "field": "Adjusted Bill Length", "scale": {"zero": false}}}, "title": "Bill Depth and Bill Length (Adjusted)"}, {"mark": "line", "encoding": {"x": {"type": "quantitative", "field": "Adjusted Bill Depth", "scale": {"zero": false}}, "y": {"type": "quantitative", "field": "Adjusted Bill Length", "scale": {"zero": false}}}, "title": "Bill Depth and Bill Length (Adjusted)", "transform": [{"on": "Adjusted Bill Depth", "regression": "Adjusted Bill Length"}]}], "data": {"name": "data-196569a14e4a83fb2654445155277887"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-196569a14e4a83fb2654445155277887": [{"Adjusted Bill Length": -0.2601513578575734, "Adjusted Bill Depth": 0.03997357158251802}, {"Adjusted Bill Length": 2.035496642236673, "Adjusted Bill Depth": -0.4197989691318256}, {"Adjusted Bill Length": 2.848999954607251, "Adjusted Bill Depth": 0.28988004636727993}, {"Adjusted Bill Length": -0.8519714293113196, "Adjusted Bill Depth": 1.521858470103684}, {"Adjusted Bill Length": -0.6134782222537112, "Adjusted Bill Depth": 1.7971150586267939}, {"Adjusted Bill Length": 2.0333134475903094, "Adjusted Bill Depth": 0.18895338289142316}, {"Adjusted Bill Length": -2.3819742503889216, "Adjusted Bill Depth": 0.11134737507775228}, {"Adjusted Bill Length": 4.693176489436674, "Adjusted Bill Depth": 0.20535238601837946}, {"Adjusted Bill Length": -1.5778981840537085, "Adjusted Bill Depth": 2.2908272198392403}, {"Adjusted Bill Length": -6.862007739886998, "Adjusted Bill Depth": 1.6993498767812163}, {"Adjusted Bill Length": -0.663064526715182, "Adjusted Bill Depth": 0.05842914427185519}, {"Adjusted Bill Length": 0.9970754315998249, "Adjusted Bill Depth": 1.1776411448317994}, {"Adjusted Bill Length": 0.9875065681537194, "Adjusted Bill Depth": 1.2653390886494158}, {"Adjusted Bill Length": -2.315229476531833, "Adjusted Bill Depth": 0.8909857472868197}, {"Adjusted Bill Length": 5.091823061298143, "Adjusted Bill Depth": 2.300023428860456}, {"Adjusted Bill Length": 1.7450645227846593, "Adjusted Bill Depth": 0.9699827855704228}, {"Adjusted Bill Length": -1.3957313960575704, "Adjusted Bill Depth": 0.1462614103700659}, {"Adjusted Bill Length": -1.7909330663966117, "Adjusted Bill Depth": 1.3138750429603512}, {"Adjusted Bill Length": -1.7139821590427147, "Adjusted Bill Depth": -0.7606999804967245}, {"Adjusted Bill Length": -0.5476559190650079, "Adjusted Bill Depth": -1.4659774911654146}, {"Adjusted Bill Length": -2.2399799273077576, "Adjusted Bill Depth": 1.0580923682322343}, {"Adjusted Bill Length": 1.340820026061003, "Adjusted Bill Depth": 0.007995147846116879}, {"Adjusted Bill Length": 3.7157936417145336, "Adjusted Bill Depth": 0.39480907283867595}, {"Adjusted Bill Length": 2.310923315632813, "Adjusted Bill Depth": 1.4544987377616572}, {"Adjusted Bill Length": 0.9634006886794282, "Adjusted Bill Depth": 0.1498433326829769}, {"Adjusted Bill Length": 3.332101636862525, "Adjusted Bill Depth": -0.6342726888217278}, {"Adjusted Bill Length": -2.1226650414798556, "Adjusted Bill Depth": -0.5778796166612707}, {"Adjusted Bill Length": 2.51435481066639, "Adjusted Bill Depth": 0.2165809594349959}, {"Adjusted Bill Length": 1.1244755412535667, "Adjusted Bill Depth": 0.08946840752308205}, {"Adjusted Bill Length": -1.145471741520538, "Adjusted Bill Depth": -0.7522095417085239}, {"Adjusted Bill Length": -1.7961489470388443, "Adjusted Bill Depth": 1.8838658289724464}, {"Adjusted Bill Length": -1.4913650067648518, "Adjusted Bill Depth": 1.0287567063235699}, {"Adjusted Bill Length": 5.503261713262532, "Adjusted Bill Depth": 0.95315163360317}, {"Adjusted Bill Length": 1.1426907974773926, "Adjusted Bill Depth": 1.8713415978865804}, {"Adjusted Bill Length": -0.9202414200242899, "Adjusted Bill Depth": -0.13142747323496806}, {"Adjusted Bill Length": 0.1561576201885302, "Adjusted Bill Depth": 0.6334121114022508}, {"Adjusted Bill Length": 0.19423327626486042, "Adjusted Bill Depth": -0.653726881472263}, {"Adjusted Bill Length": -0.5827675272373227, "Adjusted Bill Depth": 1.073037186242356}, {"Adjusted Bill Length": 2.7889453992018645, "Adjusted Bill Depth": 0.34356720205309443}, {"Adjusted Bill Length": 0.6186713038108138, "Adjusted Bill Depth": -0.44873470035396323}, {"Adjusted Bill Length": -1.510119706538994, "Adjusted Bill Depth": -0.5360197236667439}, {"Adjusted Bill Length": 2.073749422485072, "Adjusted Bill Depth": 0.5002531239417323}, {"Adjusted Bill Length": -1.3255417206780393, "Adjusted Bill Depth": 0.1881844580115022}, {"Adjusted Bill Length": 1.6812339006832815, "Adjusted Bill Depth": 2.0944091421521485}, {"Adjusted Bill Length": 2.513383426747815, "Adjusted Bill Depth": 0.04855938317139419}, {"Adjusted Bill Length": -0.48127978293899787, "Adjusted Bill Depth": -0.22344404609164314}, {"Adjusted Bill Length": -2.3255417206780393, "Adjusted Bill Depth": 0.1881844580115022}, {"Adjusted Bill Length": 0.8279070362871508, "Adjusted Bill Depth": 0.2515506291964229}, {"Adjusted Bill Length": -1.9063195737743257, "Adjusted Bill Depth": 0.7631674251418978}, {"Adjusted Bill Length": 1.3480640774500046, "Adjusted Bill Depth": -0.25305332939301906}, {"Adjusted Bill Length": 1.8504022959959627, "Adjusted Bill Depth": -0.17950034221247435}, {"Adjusted Bill Length": 0.27114867685743604, "Adjusted Bill Depth": -0.15339010543263853}, {"Adjusted Bill Length": 0.6095209742441057, "Adjusted Bill Depth": -0.5761208736585886}, {"Adjusted Bill Length": -2.7413467619351337, "Adjusted Bill Depth": 0.1525609573152913}, {"Adjusted Bill Length": -0.8702720884447501, "Adjusted Bill Depth": -0.5329138765055745}, {"Adjusted Bill Length": 0.06442196874628792, "Adjusted Bill Depth": 1.7656758646890367}, {"Adjusted Bill Length": 0.4628977347885339, "Adjusted Bill Depth": -0.6854514049604035}, {"Adjusted Bill Length": 0.5317195926425811, "Adjusted Bill Depth": -0.8715800697160532}, {"Adjusted Bill Length": 0.283091265610814, "Adjusted Bill Depth": -0.14244686156640896}, {"Adjusted Bill Length": 1.157681854146297, "Adjusted Bill Depth": -1.0154606189483104}, {"Adjusted Bill Length": -2.076962306896462, "Adjusted Bill Depth": -1.5662394044004593}, {"Adjusted Bill Length": 0.7706447400684269, "Adjusted Bill Depth": 0.0887948554438438}, {"Adjusted Bill Length": -0.9216926746631842, "Adjusted Bill Depth": -0.8873377389175339}, {"Adjusted Bill Length": 0.2750111293611468, "Adjusted Bill Depth": -0.02870984860265935}, {"Adjusted Bill Length": -4.014485112933613, "Adjusted Bill Depth": 1.2040052818598923}, {"Adjusted Bill Length": -0.5283838760129953, "Adjusted Bill Depth": -0.5431835682925623}, {"Adjusted Bill Length": 1.6956366005516799, "Adjusted Bill Depth": -0.70058696857188}, {"Adjusted Bill Length": 4.728374483416715, "Adjusted Bill Depth": -0.3382428336634966}, {"Adjusted Bill Length": -2.140447374437329, "Adjusted Bill Depth": -0.3521141689078462}, {"Adjusted Bill Length": 1.7533653610018547, "Adjusted Bill Depth": -0.7501449591593534}, {"Adjusted Bill Length": 3.184076056018249, "Adjusted Bill Depth": -1.0742228315437856}, {"Adjusted Bill Length": -2.575524458746429, "Adjusted Bill Depth": 0.589468407523082}, {"Adjusted Bill Length": -1.0250742735484693, "Adjusted Bill Depth": -1.601609004848413}, {"Adjusted Bill Length": 1.3682710147611488, "Adjusted Bill Depth": -0.009846332240002198}, {"Adjusted Bill Length": -2.3351594973743275, "Adjusted Bill Depth": -0.34940825243320717}, {"Adjusted Bill Length": 1.211058614690721, "Adjusted Bill Depth": -1.924791150250126}, {"Adjusted Bill Length": -0.839979927307752, "Adjusted Bill Depth": 0.9580923682322364}, {"Adjusted Bill Length": -5.7327003691574205, "Adjusted Bill Depth": 0.22213209149639823}, {"Adjusted Bill Length": 0.024943971281246036, "Adjusted Bill Depth": 0.12219524614330268}, {"Adjusted Bill Length": 1.2105777610722868, "Adjusted Bill Depth": 1.4647998588507711}, {"Adjusted Bill Length": -3.802421614509285, "Adjusted Bill Depth": 0.6129358824751812}, {"Adjusted Bill Length": -0.413046281885471, "Adjusted Bill Depth": 0.8822333952635759}, {"Adjusted Bill Length": -1.9158884372204312, "Adjusted Bill Depth": 0.2508653689595093}, {"Adjusted Bill Length": 1.3855148870663854, "Adjusted Bill Depth": 1.004005281859893}, {"Adjusted Bill Length": -2.657222816714892, "Adjusted Bill Depth": -0.03323894438752362}, {"Adjusted Bill Length": -0.7643814651942691, "Adjusted Bill Depth": -1.3992913109026262}, {"Adjusted Bill Length": -2.8851777422040428, "Adjusted Bill Depth": -0.4732125034249215}, {"Adjusted Bill Length": -1.0192700361057163, "Adjusted Bill Depth": -1.0634058969713678}, {"Adjusted Bill Length": -0.7101686197891794, "Adjusted Bill Depth": -0.261310377929064}, {"Adjusted Bill Length": -1.2908111738275636, "Adjusted Bill Depth": -0.665617298810453}, {"Adjusted Bill Length": 0.4595526255626723, "Adjusted Bill Depth": 0.7478858310921552}, {"Adjusted Bill Length": -0.9480734700462818, "Adjusted Bill Depth": -0.8283730725630356}, {"Adjusted Bill Length": -2.6270304478744677, "Adjusted Bill Depth": -1.0378546111346374}, {"Adjusted Bill Length": 2.5687384618907174, "Adjusted Bill Depth": -0.5996397950999217}, {"Adjusted Bill Length": -2.82289107890211, "Adjusted Bill Depth": -0.010361356871666061}, {"Adjusted Bill Length": -1.2487679374962113, "Adjusted Bill Depth": 0.30641834860635697}, {"Adjusted Bill Length": 1.3751527467718887, "Adjusted Bill Depth": -1.3466069631578854}, {"Adjusted Bill Length": -2.8692517912759996, "Adjusted Bill Depth": 0.8603983540203473}, {"Adjusted Bill Length": 1.009330443583174, "Adjusted Bill Depth": 1.1164855866343188}, {"Adjusted Bill Length": 0.36534345651657674, "Adjusted Bill Depth": 0.2858864852101739}, {"Adjusted Bill Length": 0.21728236891096486, "Adjusted Bill Depth": -0.8791518580151845}, {"Adjusted Bill Length": -2.0283838760129953, "Adjusted Bill Depth": 1.056816431707439}, {"Adjusted Bill Length": 1.8001436243570268, "Adjusted Bill Depth": -0.35850908865374365}, {"Adjusted Bill Length": 1.341110349018507, "Adjusted Bill Depth": -0.5889894009618715}, {"Adjusted Bill Length": -0.3017127576723979, "Adjusted Bill Depth": -1.5991327834550475}, {"Adjusted Bill Length": 4.414403723916571, "Adjusted Bill Depth": 0.9418716136973195}, {"Adjusted Bill Length": 2.462934224447963, "Adjusted Bill Depth": 0.06215709702303229}, {"Adjusted Bill Length": 0.9709216565370795, "Adjusted Bill Depth": 0.19160785287682813}, {"Adjusted Bill Length": 1.6321515330108198, "Adjusted Bill Depth": 2.713538266920729}, {"Adjusted Bill Length": 1.798322749088939, "Adjusted Bill Depth": -0.8740445829517469}, {"Adjusted Bill Length": 2.118203856681248, "Adjusted Bill Depth": -0.3589412374940437}, {"Adjusted Bill Length": -3.450220175033209, "Adjusted Bill Depth": 1.427987781443651}, {"Adjusted Bill Length": -1.4241028896298928, "Adjusted Bill Depth": -0.6335874285848142}, {"Adjusted Bill Length": 1.671375697177794, "Adjusted Bill Depth": 0.0016119362578912444}, {"Adjusted Bill Length": -0.5212252275336056, "Adjusted Bill Depth": -0.2771312017774541}, {"Adjusted Bill Length": -2.6283473863535605, "Adjusted Bill Depth": 0.9044249336908798}, {"Adjusted Bill Length": 3.9311302529439587, "Adjusted Bill Depth": -0.4022942650853274}, {"Adjusted Bill Length": 0.29738785482979324, "Adjusted Bill Depth": -0.6944576572319114}, {"Adjusted Bill Length": -1.319786396485469, "Adjusted Bill Depth": -1.4989030883737708}, {"Adjusted Bill Length": -0.4336352634165621, "Adjusted Bill Depth": -0.19828098278376416}, {"Adjusted Bill Length": 1.6194156674090294, "Adjusted Bill Depth": -0.03571516578088918}, {"Adjusted Bill Length": 0.3903842302500067, "Adjusted Bill Depth": -0.978204684543222}, {"Adjusted Bill Length": 2.1028307557923966, "Adjusted Bill Depth": -0.409446401553474}, {"Adjusted Bill Length": 2.236122471594733, "Adjusted Bill Depth": -1.4414762717791127}, {"Adjusted Bill Length": 1.331911106201602, "Adjusted Bill Depth": 0.25833377147117886}, {"Adjusted Bill Length": 2.847129183190866, "Adjusted Bill Depth": 0.32653359632681855}, {"Adjusted Bill Length": -0.8149525600631833, "Adjusted Bill Depth": 0.6937987447198104}, {"Adjusted Bill Length": -4.1319560055592035, "Adjusted Bill Depth": -0.9648483739305327}, {"Adjusted Bill Length": 1.0323785533311778, "Adjusted Bill Depth": -0.03145969138873639}, {"Adjusted Bill Length": 0.8716161239870033, "Adjusted Bill Depth": -1.443183568292561}, {"Adjusted Bill Length": -1.4546220710872504, "Adjusted Bill Depth": -0.0795957150131521}, {"Adjusted Bill Length": -0.8776212675850559, "Adjusted Bill Depth": 0.8936402172722318}, {"Adjusted Bill Length": 0.11482225779595723, "Adjusted Bill Depth": -1.073212503424923}, {"Adjusted Bill Length": -1.1956814999092842, "Adjusted Bill Depth": -1.3059276338874746}, {"Adjusted Bill Length": 2.711009701440531, "Adjusted Bill Depth": -0.6500818045124461}, {"Adjusted Bill Length": 1.1333854440110755, "Adjusted Bill Depth": -1.438349914621842}, {"Adjusted Bill Length": -4.570739535574326, "Adjusted Bill Depth": -1.943120413645655}, {"Adjusted Bill Length": 0.692050081618504, "Adjusted Bill Depth": -1.844974529449015}, {"Adjusted Bill Length": 0.39033531699981694, "Adjusted Bill Depth": -0.7034953388055456}, {"Adjusted Bill Length": -0.5360953745315697, "Adjusted Bill Depth": 0.007658371806495978}, {"Adjusted Bill Length": -1.469251791275994, "Adjusted Bill Depth": -0.5396016459796513}, {"Adjusted Bill Length": -0.304172868787397, "Adjusted Bill Depth": 0.8068065711352119}, {"Adjusted Bill Length": -1.702924568400178, "Adjusted Bill Depth": -0.02235885516819991}, {"Adjusted Bill Length": -2.4658701923907103, "Adjusted Bill Depth": -0.8253303800487686}, {"Adjusted Bill Length": -1.4140176658040389, "Adjusted Bill Depth": -0.6857881810000244}, {"Adjusted Bill Length": 0.31541159749458103, "Adjusted Bill Depth": -0.7424983080556444}, {"Adjusted Bill Length": 0.9462499130654578, "Adjusted Bill Depth": -0.8245588165049629}, {"Adjusted Bill Length": -0.4353640248914914, "Adjusted Bill Depth": 0.20311268635004964}, {"Adjusted Bill Length": 3.684707613361752, "Adjusted Bill Depth": 0.12560957151484864}, {"Adjusted Bill Length": 0.47035480964164833, "Adjusted Bill Depth": -0.631583362018663}, {"Adjusted Bill Length": -1.3253286972139264, "Adjusted Bill Depth": -1.0968990218076193}, {"Adjusted Bill Length": 1.3587453518580332, "Adjusted Bill Depth": -0.5305098792528913}, {"Adjusted Bill Length": -0.1316368714456857, "Adjusted Bill Depth": 0.40708283119181665}, {"Adjusted Bill Length": -2.275310452384204, "Adjusted Bill Depth": -0.2730947708158986}, {"Adjusted Bill Length": -1.576834686341975, "Adjusted Bill Depth": -0.5242220404653395}, {"Adjusted Bill Length": -1.810423043454648, "Adjusted Bill Depth": -0.0566003948882674}, {"Adjusted Bill Length": -4.669123187823402, "Adjusted Bill Depth": -0.47506398056439636}, {"Adjusted Bill Length": -0.18974865901392945, "Adjusted Bill Depth": 0.39681313940483065}, {"Adjusted Bill Length": -0.06912318782340066, "Adjusted Bill Depth": -0.47506398056439636}, {"Adjusted Bill Length": -0.9412057348917884, "Adjusted Bill Depth": -1.2052192249905698}, {"Adjusted Bill Length": 1.099613267121029, "Adjusted Bill Depth": 0.7659081984341984}, {"Adjusted Bill Length": -0.3431120130695007, "Adjusted Bill Depth": -0.19365387553433244}, {"Adjusted Bill Length": -2.6374056021271173, "Adjusted Bill Depth": -0.3060320761819302}, {"Adjusted Bill Length": -1.3118484680139204, "Adjusted Bill Depth": -1.034626054532925}, {"Adjusted Bill Length": 0.819316267643174, "Adjusted Bill Depth": 0.3513001564636973}, {"Adjusted Bill Length": -0.6906835532730611, "Adjusted Bill Depth": -0.6235999348753349}, {"Adjusted Bill Length": 0.6703548096416512, "Adjusted Bill Depth": -1.5315833620186616}, {"Adjusted Bill Length": -0.9854676726308256, "Adjusted Bill Depth": 0.10640927911257414}, {"Adjusted Bill Length": 1.3212590354803169, "Adjusted Bill Depth": 0.48734330899089784}, {"Adjusted Bill Length": -2.184460781950932, "Adjusted Bill Depth": 0.39951905587947323}, {"Adjusted Bill Length": -3.1854676726308284, "Adjusted Bill Depth": -1.2935907208874262}, {"Adjusted Bill Length": -2.4474419127027787, "Adjusted Bill Depth": -0.3285406695043971}, {"Adjusted Bill Length": -1.4402343509732134, "Adjusted Bill Depth": -0.7371976487269691}, {"Adjusted Bill Length": 2.995764221106171, "Adjusted Bill Depth": 0.2414303953632384}, {"Adjusted Bill Length": 0.5083450628083597, "Adjusted Bill Depth": -0.4916215111389324}, {"Adjusted Bill Length": -1.9647212917693508, "Adjusted Bill Depth": -0.3674804841075918}, {"Adjusted Bill Length": -2.4547214708531158, "Adjusted Bill Depth": 0.10741960723143684}, {"Adjusted Bill Length": -0.4446362470272547, "Adjusted Bill Depth": 0.25521885481622775}, {"Adjusted Bill Length": 8.723768059845504, "Adjusted Bill Depth": 0.7066946086629571}, {"Adjusted Bill Length": 2.448206087391462, "Adjusted Bill Depth": 0.2116867897812611}, {"Adjusted Bill Length": -0.9027115449360679, "Adjusted Bill Depth": 0.5925576650126771}, {"Adjusted Bill Length": -3.271533402790112, "Adjusted Bill Depth": -0.6213136702316753}, {"Adjusted Bill Length": -4.638291583136073, "Adjusted Bill Depth": 1.6988455038002304}, {"Adjusted Bill Length": -0.7383769860456866, "Adjusted Bill Depth": -0.2740536524455308}, {"Adjusted Bill Length": 0.365988420348927, "Adjusted Bill Depth": 0.2859213420278337}, {"Adjusted Bill Length": -1.5345279400308272, "Adjusted Bill Depth": 0.05042415062542993}, {"Adjusted Bill Length": -0.4579811771693514, "Adjusted Bill Depth": 0.01365599952975316}, {"Adjusted Bill Length": 0.4736510056173131, "Adjusted Bill Depth": -0.1902112523335422}, {"Adjusted Bill Length": 1.4179494330157922, "Adjusted Bill Depth": -0.25423125445324857}, {"Adjusted Bill Length": 0.8573919237195042, "Adjusted Bill Depth": 0.064161163589187}, {"Adjusted Bill Length": -2.510458550215965, "Adjusted Bill Depth": -0.4816885953915673}, {"Adjusted Bill Length": 0.7996132671210319, "Adjusted Bill Depth": 0.06590819843419915}, {"Adjusted Bill Length": 0.819905607341795, "Adjusted Bill Depth": 0.08201435183297612}, {"Adjusted Bill Length": -1.160476795045689, "Adjusted Bill Depth": -1.1054928463832852}, {"Adjusted Bill Length": -3.599366435710209, "Adjusted Bill Depth": 0.25922042896012165}, {"Adjusted Bill Length": 1.080858567346887, "Adjusted Bill Depth": 0.0011317684438854059}, {"Adjusted Bill Length": -0.6767492834323505, "Adjusted Bill Depth": -1.5513228842195819}, {"Adjusted Bill Length": 0.14768874411360144, "Adjusted Bill Depth": 0.4536692968987186}, {"Adjusted Bill Length": 0.9237546533566459, "Adjusted Bill Depth": -0.5935078450960631}, {"Adjusted Bill Length": 0.3895414497840335, "Adjusted Bill Depth": 0.018311404608432724}, {"Adjusted Bill Length": -3.8618436296730607, "Adjusted Bill Depth": -0.11102425730023135}, {"Adjusted Bill Length": -0.8753958552938315, "Adjusted Bill Depth": 0.05400607293834092}, {"Adjusted Bill Length": -3.29886249892121, "Adjusted Bill Depth": -0.4829645319163607}, {"Adjusted Bill Length": -1.6643392475493926, "Adjusted Bill Depth": 0.5698268967867293}, {"Adjusted Bill Length": 0.6064387846306474, "Adjusted Bill Depth": -0.5800561616826947}, {"Adjusted Bill Length": 0.7505664062098845, "Adjusted Bill Depth": 0.010125523706081552}, {"Adjusted Bill Length": -3.0522258529767754, "Adjusted Bill Depth": -0.7734315468555213}, {"Adjusted Bill Length": 0.445782465935892, "Adjusted Bill Depth": -0.13476535364504372}, {"Adjusted Bill Length": 3.852140536315936, "Adjusted Bill Depth": -0.3909362509020191}, {"Adjusted Bill Length": -0.20948716629740005, "Adjusted Bill Depth": -0.11366701912796806}, {"Adjusted Bill Length": -0.6353640248914942, "Adjusted Bill Depth": 0.7031126863500496}, {"Adjusted Bill Length": -0.9858497168507796, "Adjusted Bill Depth": 0.06910189821824986}, {"Adjusted Bill Length": -2.584963735841825, "Adjusted Bill Depth": -0.13577568176390997}, {"Adjusted Bill Length": 0.9819153541750723, "Adjusted Bill Depth": -0.8579474990467535}, {"Adjusted Bill Length": 1.853961411584038, "Adjusted Bill Depth": 0.7245992433959838}, {"Adjusted Bill Length": -2.474339068465639, "Adjusted Bill Depth": 0.09492680544769883}, {"Adjusted Bill Length": -0.8003013299693436, "Adjusted Bill Depth": 0.03880735467995855}, {"Adjusted Bill Length": 0.011654665272885723, "Adjusted Bill Depth": 0.24995305230521225}, {"Adjusted Bill Length": 0.6169425423358845, "Adjusted Bill Depth": 0.752658968779853}, {"Adjusted Bill Length": -1.961326286395206, "Adjusted Bill Depth": -0.15300676441768957}, {"Adjusted Bill Length": 2.371240790650603, "Adjusted Bill Depth": 0.16353905799917712}, {"Adjusted Bill Length": 1.0415148860416465, "Adjusted Bill Depth": 0.2558409604062355}, {"Adjusted Bill Length": -0.5705620188715415, "Adjusted Bill Depth": -0.45329209396807535}, {"Adjusted Bill Length": -5.021933691839777, "Adjusted Bill Depth": 0.3175746978822822}, {"Adjusted Bill Length": 3.7133205166413887, "Adjusted Bill Depth": 0.383183207399421}, {"Adjusted Bill Length": 3.058830754767648, "Adjusted Bill Depth": -0.1576107230071333}, {"Adjusted Bill Length": 1.88735825513767, "Adjusted Bill Depth": 0.4270637566316804}, {"Adjusted Bill Length": 0.45836330763808064, "Adjusted Bill Depth": 0.1321827398527855}, {"Adjusted Bill Length": -0.6441323102382555, "Adjusted Bill Depth": -0.38696610606025317}, {"Adjusted Bill Length": 0.6415513757010771, "Adjusted Bill Depth": 1.3034494623896737}, {"Adjusted Bill Length": -2.408048335249255, "Adjusted Bill Depth": 0.16456109427571342}, {"Adjusted Bill Length": 2.274203855656502, "Adjusted Bill Depth": -1.407105558947702}, {"Adjusted Bill Length": 1.7984148628820975, "Adjusted Bill Depth": -0.2571154195199288}, {"Adjusted Bill Length": 1.853579367364084, "Adjusted Bill Depth": 0.9872918625016638}, {"Adjusted Bill Length": 1.2510837494877478, "Adjusted Bill Depth": 0.5681430165886212}, {"Adjusted Bill Length": 2.2934758987085075, "Adjusted Bill Depth": 1.215688363925155}, {"Adjusted Bill Length": -0.044132310238254036, "Adjusted Bill Depth": 0.3130338939397461}, {"Adjusted Bill Length": -0.4195234768730671, "Adjusted Bill Depth": 0.16382438754956574}, {"Adjusted Bill Length": -1.3210477108308254, "Adjusted Bill Depth": 0.4126971179001231}, {"Adjusted Bill Length": 1.2963535608047891, "Adjusted Bill Depth": -0.027855409267484532}, {"Adjusted Bill Length": 0.997515475384283, "Adjusted Bill Depth": 0.447559706703208}, {"Adjusted Bill Length": 0.4436491674378189, "Adjusted Bill Depth": 0.12179795412066419}, {"Adjusted Bill Length": 3.6926096425412354, "Adjusted Bill Depth": 0.4821611711228879}, {"Adjusted Bill Length": 1.6088489995973632, "Adjusted Bill Depth": 0.7661935279845871}, {"Adjusted Bill Length": 2.301569441447029, "Adjusted Bill Depth": 0.6021538047204213}, {"Adjusted Bill Length": 5.7415513757010785, "Adjusted Bill Depth": 1.003449462389673}, {"Adjusted Bill Length": 1.1460228927451013, "Adjusted Bill Depth": 1.1204391418045088}, {"Adjusted Bill Length": -0.9324863627952098, "Adjusted Bill Depth": -0.9404310868425867}, {"Adjusted Bill Length": -2.2512909587176466, "Adjusted Bill Depth": 0.4469815274246418}, {"Adjusted Bill Length": -3.630198040397545, "Adjusted Bill Depth": 0.5853109445954967}, {"Adjusted Bill Length": 4.046802763104644, "Adjusted Bill Depth": 0.058546876880878784}, {"Adjusted Bill Length": -1.7217920744290467, "Adjusted Bill Depth": -0.0003224166729456357}, {"Adjusted Bill Length": -0.49843154145107604, "Adjusted Bill Depth": -0.4203664967597174}, {"Adjusted Bill Length": 4.339055757824738, "Adjusted Bill Depth": 0.7843006164766315}, {"Adjusted Bill Length": -0.8747931091063492, "Adjusted Bill Depth": -0.3150772779333604}, {"Adjusted Bill Length": -1.993646618278973, "Adjusted Bill Depth": 1.0470446820715456}, {"Adjusted Bill Length": 1.3165604981159333, "Adjusted Bill Depth": 0.31535158788553197}, {"Adjusted Bill Length": 0.7508433226785343, "Adjusted Bill Depth": 0.012938521139069792}, {"Adjusted Bill Length": 4.475692582852936, "Adjusted Bill Depth": -0.18106648980155882}, {"Adjusted Bill Length": -1.4094382530472132, "Adjusted Bill Depth": 0.1116236351343538}, {"Adjusted Bill Length": 1.284480593041387, "Adjusted Bill Depth": -0.6293924701756808}, {"Adjusted Bill Length": 0.9034757196247369, "Adjusted Bill Depth": -0.009411544735815625}, {"Adjusted Bill Length": 0.505467400712071, "Adjusted Bill Depth": -0.2480777379462964}, {"Adjusted Bill Length": -0.9109624870049657, "Adjusted Bill Depth": 0.3604963654849147}, {"Adjusted Bill Length": 1.1256244418749262, "Adjusted Bill Depth": 0.5473183034642624}, {"Adjusted Bill Length": -0.5836274441000384, "Adjusted Bill Depth": 0.18416797292516307}, {"Adjusted Bill Length": -0.22539474686085015, "Adjusted Bill Depth": 0.4924250214612087}, {"Adjusted Bill Length": 1.61594061553172, "Adjusted Bill Depth": 0.39904963628838175}, {"Adjusted Bill Length": -1.4132117312982544, "Adjusted Bill Depth": 1.0585727607769897}, {"Adjusted Bill Length": 2.6195626412262243, "Adjusted Bill Depth": 0.8685253976688152}, {"Adjusted Bill Length": -2.9033170381333164, "Adjusted Bill Depth": -0.3010215313453095}, {"Adjusted Bill Length": 0.38795018328124087, "Adjusted Bill Depth": 0.9339878767476826}, {"Adjusted Bill Length": 1.1880720758502932, "Adjusted Bill Depth": -0.7455044650231208}, {"Adjusted Bill Length": -2.128811852507468, "Adjusted Bill Depth": 0.7530655550270282}, {"Adjusted Bill Length": 1.1755766370577234, "Adjusted Bill Depth": 0.9604465977248076}, {"Adjusted Bill Length": -0.9369907981556054, "Adjusted Bill Depth": -0.10629904201399754}, {"Adjusted Bill Length": 1.7830112191076566, "Adjusted Bill Depth": 1.4067916601927664}, {"Adjusted Bill Length": 0.19278401970353087, "Adjusted Bill Depth": -0.37331029015873085}, {"Adjusted Bill Length": 1.2082790131614374, "Adjusted Bill Depth": -1.1022974678701019}, {"Adjusted Bill Length": -1.1271460011389678, "Adjusted Bill Depth": -0.6137042898787577}, {"Adjusted Bill Length": -0.2917209868385626, "Adjusted Bill Depth": 0.39770253212989815}, {"Adjusted Bill Length": 0.7549022526170077, "Adjusted Bill Depth": 1.3070330634317102}, {"Adjusted Bill Length": 11.494690297881242, "Adjusted Bill Depth": 0.2151243603850297}, {"Adjusted Bill Length": -0.46969317425932644, "Adjusted Bill Depth": 0.9564450235809154}, {"Adjusted Bill Length": -1.579729484834992, "Adjusted Bill Depth": -1.0660635697415515}, {"Adjusted Bill Length": -3.9793474406150438, "Adjusted Bill Depth": -0.22875618884722826}, {"Adjusted Bill Length": -0.718200591620132, "Adjusted Bill Depth": -1.1164344115203875}, {"Adjusted Bill Length": -2.7504710273556014, "Adjusted Bill Depth": -0.6685720092886882}, {"Adjusted Bill Length": 0.7269972232761504, "Adjusted Bill Depth": 0.5148704601367697}, {"Adjusted Bill Length": -0.3581326297258869, "Adjusted Bill Depth": 0.23008088655282322}, {"Adjusted Bill Length": 1.3842230298354323, "Adjusted Bill Depth": -0.16998226809408123}, {"Adjusted Bill Length": 2.9385222610482558, "Adjusted Bill Depth": 0.5634181226053769}, {"Adjusted Bill Length": -0.9013387635348451, "Adjusted Bill Depth": -0.03989017831481334}, {"Adjusted Bill Length": -0.8600753975630369, "Adjusted Bill Depth": -0.005962265974375214}, {"Adjusted Bill Length": 1.0765614274651512, "Adjusted Bill Depth": 0.42867062774743303}, {"Adjusted Bill Length": -5.4283578118667535, "Adjusted Bill Depth": -0.8369303615919108}, {"Adjusted Bill Length": 3.0933733594021575, "Adjusted Bill Depth": 1.457403905210544}, {"Adjusted Bill Length": -4.017301204122326, "Adjusted Bill Depth": -0.8211095377435242}, {"Adjusted Bill Length": -0.005655256679276022, "Adjusted Bill Depth": -0.47457451852585564}, {"Adjusted Bill Length": -0.07203139280527182, "Adjusted Bill Depth": -0.21710796359962714}, {"Adjusted Bill Length": -0.615812476925889, "Adjusted Bill Depth": -1.2950704685973804}, {"Adjusted Bill Length": -0.15092506799631877, "Adjusted Bill Depth": 0.32142390733025294}, {"Adjusted Bill Length": -0.4157270740162744, "Adjusted Bill Depth": 0.8778286876483783}, {"Adjusted Bill Length": 0.8240706479296804, "Adjusted Bill Depth": -0.6668764209329119}, {"Adjusted Bill Length": 1.839542558217012, "Adjusted Bill Depth": 0.35673035313130086}, {"Adjusted Bill Length": -2.345047851234696, "Adjusted Bill Depth": 0.15484401917417046}, {"Adjusted Bill Length": -0.6951879886334638, "Adjusted Bill Depth": -0.18946789004674258}, {"Adjusted Bill Length": 1.1154731684021542, "Adjusted Bill Depth": 0.288843099148302}, {"Adjusted Bill Length": -1.8855337222777493, "Adjusted Bill Depth": -0.8042666776185996}, {"Adjusted Bill Length": 3.29403232009075, "Adjusted Bill Depth": -0.0024757164621469485}, {"Adjusted Bill Length": -0.49557003285342205, "Adjusted Bill Depth": -0.9267752709410644}, {"Adjusted Bill Length": 3.2932879564925344, "Adjusted Bill Depth": 0.2845047489647854}, {"Adjusted Bill Length": -2.9368689055865573, "Adjusted Bill Depth": 0.014208616215199754}, {"Adjusted Bill Length": 2.772649078813153, "Adjusted Bill Depth": 0.2561794151749872}, {"Adjusted Bill Length": 2.043079181001893, "Adjusted Bill Depth": -0.6466930417340251}, {"Adjusted Bill Length": 0.7084705267204683, "Adjusted Bill Depth": -1.3723836266828755}, {"Adjusted Bill Length": 0.7342412746651519, "Adjusted Bill Depth": -0.14617801710236478}, {"Adjusted Bill Length": -1.5850662751481792, "Adjusted Bill Depth": -0.494060140478517}, {"Adjusted Bill Length": -0.24267412592741522, "Adjusted Bill Depth": 0.45348520685801574}, {"Adjusted Bill Length": -4.017301204122326, "Adjusted Bill Depth": -0.22110953774352282}, {"Adjusted Bill Length": 2.4659588603614395, "Adjusted Bill Depth": 0.02285388728010318}, {"Adjusted Bill Length": -1.493245220796318, "Adjusted Bill Depth": -0.9534247375195442}, {"Adjusted Bill Length": -1.642674125927421, "Adjusted Bill Depth": 0.653485206858015}, {"Adjusted Bill Length": -0.3522919026236977, "Adjusted Bill Depth": -0.2841075035866929}, {"Adjusted Bill Length": -1.6660711485648179, "Adjusted Bill Depth": 1.6259207849613446}, {"Adjusted Bill Length": 0.8568584269430133, "Adjusted Bill Depth": 0.243278669717931}, {"Adjusted Bill Length": -0.24614112772232488, "Adjusted Bill Depth": -1.2336852153186229}, {"Adjusted Bill Length": -1.7990005449888926, "Adjusted Bill Depth": -0.8663371911342672}, {"Adjusted Bill Length": 4.618400726646726, "Adjusted Bill Depth": 0.4931102816981223}, {"Adjusted Bill Length": -4.212430878040607, "Adjusted Bill Depth": 0.2192007973334995}, {"Adjusted Bill Length": -0.24151221134791712, "Adjusted Bill Depth": -0.6710996771712949}, {"Adjusted Bill Length": -0.7339912434902729, "Adjusted Bill Depth": -0.42933515697744085}, {"Adjusted Bill Length": 2.317116919498183, "Adjusted Bill Depth": 0.697187507498235}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
<p><img src="https://www.natekratzer.com/posts/partitioned_regression/part_reg.png" class="img-fluid"></p>
<p>A disadvantage of using scikit learn is that it doesn’t give us traditional regression statistics. The easiest way to get those is through statsmodels, which shows the expected 0.313 coefficent and tells us the standard error is 0.154 with a p-value of .043. This tells us it is actually a statistically significant relationship, so without the visual evidence from the scatterplot above, we might assume it’s a stronger relationship than it actually is. It is unlikely to have occured purely by chance, but that doesn’t mean it’s necessarily tightly correlated or has a large effect size.</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><span class="im" style="color: #00769E;">import</span> statsmodels.api <span class="im" style="color: #00769E;">as</span> sm</span>
<span id="cb9-2"></span>
<span id="cb9-3"><span class="co" style="color: #5E5E5E;">#unlike scikit learn, statsmodels does not add a constant for you unless you specify that you want one. </span></span>
<span id="cb9-4">X2 <span class="op" style="color: #5E5E5E;">=</span> sm.add_constant(X2)</span>
<span id="cb9-5">est <span class="op" style="color: #5E5E5E;">=</span> sm.OLS(y, X2).fit()</span>
<span id="cb9-6">est.summary2()</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">

<table class="simpletable">
<tbody><tr>
        <td>Model:</td>               <td>OLS</td>         <td>Adj. R-squared:</td>     <td>0.836</td>  
</tr>
<tr>
  <td>Dependent Variable:</td>  <td>bill_length_mm</td>         <td>AIC:</td>         <td>1482.2547</td>
</tr>
<tr>
         <td>Date:</td>        <td>2023-03-18 20:11</td>        <td>BIC:</td>         <td>1508.9117</td>
</tr>
<tr>
   <td>No. Observations:</td>         <td>333</td>         <td>Log-Likelihood:</td>    <td>-734.13</td> 
</tr>
<tr>
       <td>Df Model:</td>              <td>6</td>           <td>F-statistic:</td>       <td>282.3</td>  
</tr>
<tr>
     <td>Df Residuals:</td>           <td>326</td>       <td>Prob (F-statistic):</td> <td>7.50e-126</td>
</tr>
<tr>
      <td>R-squared:</td>            <td>0.839</td>            <td>Scale:</td>         <td>4.9162</td>  
</tr>
</tbody></table>
<table class="simpletable">
<tbody><tr>
          <td></td>           <th>Coef.</th>  <th>Std.Err.</th>    <th>t</th>     <th>P&gt;|t|</th> <th>[0.025</th>  <th>0.975]</th> 
</tr>
<tr>
  <th>const</th>             <td>23.4506</td>  <td>4.8836</td>  <td>4.8019</td>  <td>0.0000</td> <td>13.8433</td> <td>33.0579</td>
</tr>
<tr>
  <th>bill_depth_mm</th>     <td>0.3130</td>   <td>0.1541</td>  <td>2.0316</td>  <td>0.0430</td> <td>0.0099</td>  <td>0.6160</td> 
</tr>
<tr>
  <th>flipper_length_mm</th> <td>0.0686</td>   <td>0.0232</td>  <td>2.9608</td>  <td>0.0033</td> <td>0.0230</td>  <td>0.1141</td> 
</tr>
<tr>
  <th>body_mass_g</th>       <td>0.0011</td>   <td>0.0004</td>  <td>2.5617</td>  <td>0.0109</td> <td>0.0003</td>  <td>0.0019</td> 
</tr>
<tr>
  <th>sex_female</th>        <td>-2.0297</td>  <td>0.3892</td>  <td>-5.2153</td> <td>0.0000</td> <td>-2.7953</td> <td>-1.2641</td>
</tr>
<tr>
  <th>species_Adelie</th>    <td>-6.4044</td>  <td>1.0304</td>  <td>-6.2154</td> <td>0.0000</td> <td>-8.4314</td> <td>-4.3773</td>
</tr>
<tr>
  <th>species_Chinstrap</th> <td>3.1612</td>   <td>0.9927</td>  <td>3.1844</td>  <td>0.0016</td> <td>1.2082</td>  <td>5.1141</td> 
</tr>
</tbody></table>
<table class="simpletable">
<tbody><tr>
     <td>Omnibus:</td>    <td>32.842</td>  <td>Durbin-Watson:</td>    <td>2.068</td>
</tr>
<tr>
  <td>Prob(Omnibus):</td>  <td>0.000</td> <td>Jarque-Bera (JB):</td> <td>90.331</td>
</tr>
<tr>
       <td>Skew:</td>      <td>0.430</td>     <td>Prob(JB):</td>      <td>0.000</td>
</tr>
<tr>
     <td>Kurtosis:</td>    <td>5.402</td>  <td>Condition No.:</td>   <td>173513</td>
</tr>
</tbody></table>
</div>
</div>
<p>Finally, we might interested in how different this picture is from the unadjusted relationship between bill length and depth if we had not taken into account other variables</p>
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1">sp_lr <span class="op" style="color: #5E5E5E;">=</span> alt.Chart(df, title <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"Bill Depth and Bill Length (Unadjusted)"</span>).mark_circle().encode(</span>
<span id="cb10-2">    alt.X(<span class="st" style="color: #20794D;">'bill_depth_mm'</span>, title <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'Bill Depth'</span>, scale <span class="op" style="color: #5E5E5E;">=</span> alt.Scale(zero <span class="op" style="color: #5E5E5E;">=</span> <span class="va" style="color: #111111;">False</span>)),</span>
<span id="cb10-3">    alt.Y(<span class="st" style="color: #20794D;">'bill_length_mm'</span>, title <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'Bill Length'</span>, scale <span class="op" style="color: #5E5E5E;">=</span> alt.Scale(zero <span class="op" style="color: #5E5E5E;">=</span> <span class="va" style="color: #111111;">False</span>)),</span>
<span id="cb10-4">)</span>
<span id="cb10-5"></span>
<span id="cb10-6">plt_lr <span class="op" style="color: #5E5E5E;">=</span> sp_lr <span class="op" style="color: #5E5E5E;">+</span> sp_lr.transform_regression(<span class="st" style="color: #20794D;">'bill_depth_mm'</span>, <span class="st" style="color: #20794D;">'bill_length_mm'</span>).mark_line()</span>
<span id="cb10-7"></span>
<span id="cb10-8">plt_lr</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="8">

<div id="altair-viz-f7793141c00e47068c46235d12924d72"></div>
<script type="text/javascript">
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-f7793141c00e47068c46235d12924d72") {
      outputDiv = document.getElementById("altair-viz-f7793141c00e47068c46235d12924d72");
    }
    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm//vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm//vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm//vega-lite@4.8.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm//vega-embed@6?noext",
    };

    function loadScript(lib) {
      return new Promise(function(resolve, reject) {
        var s = document.createElement('script');
        s.src = paths[lib];
        s.async = true;
        s.onload = () => resolve(paths[lib]);
        s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
        document.getElementsByTagName("head")[0].appendChild(s);
      });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      require(["vega-embed"], displayChart, err => showError(`Error loading script: ${err.message}`));
    } else if (typeof vegaEmbed === "function") {
      displayChart(vegaEmbed);
    } else {
      loadScript("vega")
        .then(() => loadScript("vega-lite"))
        .then(() => loadScript("vega-embed"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"config": {"view": {"continuousWidth": 400, "continuousHeight": 300}}, "layer": [{"mark": "circle", "encoding": {"x": {"type": "quantitative", "field": "bill_depth_mm", "scale": {"zero": false}, "title": "Bill Depth"}, "y": {"type": "quantitative", "field": "bill_length_mm", "scale": {"zero": false}, "title": "Bill Length"}}, "title": "Bill Depth and Bill Length (Unadjusted)"}, {"mark": "line", "encoding": {"x": {"type": "quantitative", "field": "bill_depth_mm", "scale": {"zero": false}, "title": "Bill Depth"}, "y": {"type": "quantitative", "field": "bill_length_mm", "scale": {"zero": false}, "title": "Bill Length"}}, "title": "Bill Depth and Bill Length (Unadjusted)", "transform": [{"on": "bill_depth_mm", "regression": "bill_length_mm"}]}], "data": {"name": "data-8a2ee46bae4d32e0125a305e0239bfb0"}, "$schema": "https://vega.github.io/schema/vega-lite/v4.8.1.json", "datasets": {"data-8a2ee46bae4d32e0125a305e0239bfb0": [{"index": 0, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 39.1, "bill_depth_mm": 18.7, "flipper_length_mm": 181.0, "body_mass_g": 3750.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 1, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 39.5, "bill_depth_mm": 17.4, "flipper_length_mm": 186.0, "body_mass_g": 3800.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 2, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 40.3, "bill_depth_mm": 18.0, "flipper_length_mm": 195.0, "body_mass_g": 3250.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 4, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 36.7, "bill_depth_mm": 19.3, "flipper_length_mm": 193.0, "body_mass_g": 3450.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 5, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 39.3, "bill_depth_mm": 20.6, "flipper_length_mm": 190.0, "body_mass_g": 3650.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 6, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 38.9, "bill_depth_mm": 17.8, "flipper_length_mm": 181.0, "body_mass_g": 3625.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 7, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 39.2, "bill_depth_mm": 19.6, "flipper_length_mm": 195.0, "body_mass_g": 4675.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 12, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 41.1, "bill_depth_mm": 17.6, "flipper_length_mm": 182.0, "body_mass_g": 3200.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 13, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 38.6, "bill_depth_mm": 21.2, "flipper_length_mm": 191.0, "body_mass_g": 3800.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 14, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 34.6, "bill_depth_mm": 21.1, "flipper_length_mm": 198.0, "body_mass_g": 4400.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 15, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 36.6, "bill_depth_mm": 17.8, "flipper_length_mm": 185.0, "body_mass_g": 3700.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 16, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 38.7, "bill_depth_mm": 19.0, "flipper_length_mm": 195.0, "body_mass_g": 3450.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 17, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 42.5, "bill_depth_mm": 20.7, "flipper_length_mm": 197.0, "body_mass_g": 4500.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 18, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 34.4, "bill_depth_mm": 18.4, "flipper_length_mm": 184.0, "body_mass_g": 3325.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 19, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 46.0, "bill_depth_mm": 21.5, "flipper_length_mm": 194.0, "body_mass_g": 4200.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 20, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 37.8, "bill_depth_mm": 18.3, "flipper_length_mm": 174.0, "body_mass_g": 3400.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 21, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 37.7, "bill_depth_mm": 18.7, "flipper_length_mm": 180.0, "body_mass_g": 3600.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 22, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 35.9, "bill_depth_mm": 19.2, "flipper_length_mm": 189.0, "body_mass_g": 3800.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 23, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 38.2, "bill_depth_mm": 18.1, "flipper_length_mm": 185.0, "body_mass_g": 3950.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 24, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 38.8, "bill_depth_mm": 17.2, "flipper_length_mm": 180.0, "body_mass_g": 3800.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 25, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 35.3, "bill_depth_mm": 18.9, "flipper_length_mm": 187.0, "body_mass_g": 3800.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 26, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 40.6, "bill_depth_mm": 18.6, "flipper_length_mm": 183.0, "body_mass_g": 3550.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 27, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 40.5, "bill_depth_mm": 17.9, "flipper_length_mm": 187.0, "body_mass_g": 3200.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 28, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 37.9, "bill_depth_mm": 18.6, "flipper_length_mm": 172.0, "body_mass_g": 3150.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 29, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 40.5, "bill_depth_mm": 18.9, "flipper_length_mm": 180.0, "body_mass_g": 3950.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 30, "species": "Adelie", "island": "Dream", "bill_length_mm": 39.5, "bill_depth_mm": 16.7, "flipper_length_mm": 178.0, "body_mass_g": 3250.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 31, "species": "Adelie", "island": "Dream", "bill_length_mm": 37.2, "bill_depth_mm": 18.1, "flipper_length_mm": 178.0, "body_mass_g": 3900.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 32, "species": "Adelie", "island": "Dream", "bill_length_mm": 39.5, "bill_depth_mm": 17.8, "flipper_length_mm": 188.0, "body_mass_g": 3300.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 33, "species": "Adelie", "island": "Dream", "bill_length_mm": 40.9, "bill_depth_mm": 18.9, "flipper_length_mm": 184.0, "body_mass_g": 3900.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 34, "species": "Adelie", "island": "Dream", "bill_length_mm": 36.4, "bill_depth_mm": 17.0, "flipper_length_mm": 195.0, "body_mass_g": 3325.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 35, "species": "Adelie", "island": "Dream", "bill_length_mm": 39.2, "bill_depth_mm": 21.1, "flipper_length_mm": 196.0, "body_mass_g": 4150.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 36, "species": "Adelie", "island": "Dream", "bill_length_mm": 38.8, "bill_depth_mm": 20.0, "flipper_length_mm": 190.0, "body_mass_g": 3950.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 37, "species": "Adelie", "island": "Dream", "bill_length_mm": 42.2, "bill_depth_mm": 18.5, "flipper_length_mm": 180.0, "body_mass_g": 3550.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 38, "species": "Adelie", "island": "Dream", "bill_length_mm": 37.6, "bill_depth_mm": 19.3, "flipper_length_mm": 181.0, "body_mass_g": 3300.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 39, "species": "Adelie", "island": "Dream", "bill_length_mm": 39.8, "bill_depth_mm": 19.1, "flipper_length_mm": 184.0, "body_mass_g": 4650.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 40, "species": "Adelie", "island": "Dream", "bill_length_mm": 36.5, "bill_depth_mm": 18.0, "flipper_length_mm": 182.0, "body_mass_g": 3150.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 41, "species": "Adelie", "island": "Dream", "bill_length_mm": 40.8, "bill_depth_mm": 18.4, "flipper_length_mm": 195.0, "body_mass_g": 3900.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 42, "species": "Adelie", "island": "Dream", "bill_length_mm": 36.0, "bill_depth_mm": 18.5, "flipper_length_mm": 186.0, "body_mass_g": 3100.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 43, "species": "Adelie", "island": "Dream", "bill_length_mm": 44.1, "bill_depth_mm": 19.7, "flipper_length_mm": 196.0, "body_mass_g": 4400.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 44, "species": "Adelie", "island": "Dream", "bill_length_mm": 37.0, "bill_depth_mm": 16.9, "flipper_length_mm": 185.0, "body_mass_g": 3000.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 45, "species": "Adelie", "island": "Dream", "bill_length_mm": 39.6, "bill_depth_mm": 18.8, "flipper_length_mm": 190.0, "body_mass_g": 4600.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 46, "species": "Adelie", "island": "Dream", "bill_length_mm": 41.1, "bill_depth_mm": 19.0, "flipper_length_mm": 182.0, "body_mass_g": 3425.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 48, "species": "Adelie", "island": "Dream", "bill_length_mm": 36.0, "bill_depth_mm": 17.9, "flipper_length_mm": 190.0, "body_mass_g": 3450.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 49, "species": "Adelie", "island": "Dream", "bill_length_mm": 42.3, "bill_depth_mm": 21.2, "flipper_length_mm": 191.0, "body_mass_g": 4150.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 50, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 39.6, "bill_depth_mm": 17.7, "flipper_length_mm": 186.0, "body_mass_g": 3500.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 51, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 40.1, "bill_depth_mm": 18.9, "flipper_length_mm": 188.0, "body_mass_g": 4300.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 52, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 35.0, "bill_depth_mm": 17.9, "flipper_length_mm": 190.0, "body_mass_g": 3450.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 53, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 42.0, "bill_depth_mm": 19.5, "flipper_length_mm": 200.0, "body_mass_g": 4050.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 54, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 34.5, "bill_depth_mm": 18.1, "flipper_length_mm": 187.0, "body_mass_g": 2900.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 55, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 41.4, "bill_depth_mm": 18.6, "flipper_length_mm": 191.0, "body_mass_g": 3700.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 56, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 39.0, "bill_depth_mm": 17.5, "flipper_length_mm": 186.0, "body_mass_g": 3550.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 57, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 40.6, "bill_depth_mm": 18.8, "flipper_length_mm": 193.0, "body_mass_g": 3800.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 58, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 36.5, "bill_depth_mm": 16.6, "flipper_length_mm": 181.0, "body_mass_g": 2850.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 59, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 37.6, "bill_depth_mm": 19.1, "flipper_length_mm": 194.0, "body_mass_g": 3750.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 60, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 35.7, "bill_depth_mm": 16.9, "flipper_length_mm": 185.0, "body_mass_g": 3150.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 61, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 41.3, "bill_depth_mm": 21.1, "flipper_length_mm": 195.0, "body_mass_g": 4400.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 62, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 37.6, "bill_depth_mm": 17.0, "flipper_length_mm": 185.0, "body_mass_g": 3600.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 63, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 41.1, "bill_depth_mm": 18.2, "flipper_length_mm": 192.0, "body_mass_g": 4050.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 64, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 36.4, "bill_depth_mm": 17.1, "flipper_length_mm": 184.0, "body_mass_g": 2850.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 65, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 41.6, "bill_depth_mm": 18.0, "flipper_length_mm": 192.0, "body_mass_g": 3950.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 66, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 35.5, "bill_depth_mm": 16.2, "flipper_length_mm": 195.0, "body_mass_g": 3350.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 67, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 41.1, "bill_depth_mm": 19.1, "flipper_length_mm": 188.0, "body_mass_g": 4100.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 68, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 35.9, "bill_depth_mm": 16.6, "flipper_length_mm": 190.0, "body_mass_g": 3050.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 69, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 41.8, "bill_depth_mm": 19.4, "flipper_length_mm": 198.0, "body_mass_g": 4450.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 70, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 33.5, "bill_depth_mm": 19.0, "flipper_length_mm": 190.0, "body_mass_g": 3600.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 71, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 39.7, "bill_depth_mm": 18.4, "flipper_length_mm": 190.0, "body_mass_g": 3900.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 72, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 39.6, "bill_depth_mm": 17.2, "flipper_length_mm": 196.0, "body_mass_g": 3550.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 73, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 45.8, "bill_depth_mm": 18.9, "flipper_length_mm": 197.0, "body_mass_g": 4150.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 74, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 35.5, "bill_depth_mm": 17.5, "flipper_length_mm": 190.0, "body_mass_g": 3700.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 75, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 42.8, "bill_depth_mm": 18.5, "flipper_length_mm": 195.0, "body_mass_g": 4250.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 76, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 40.9, "bill_depth_mm": 16.8, "flipper_length_mm": 191.0, "body_mass_g": 3700.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 77, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 37.2, "bill_depth_mm": 19.4, "flipper_length_mm": 184.0, "body_mass_g": 3900.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 78, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 36.2, "bill_depth_mm": 16.1, "flipper_length_mm": 187.0, "body_mass_g": 3550.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 79, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 42.1, "bill_depth_mm": 19.1, "flipper_length_mm": 195.0, "body_mass_g": 4000.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 80, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 34.6, "bill_depth_mm": 17.2, "flipper_length_mm": 189.0, "body_mass_g": 3200.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 81, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 42.9, "bill_depth_mm": 17.6, "flipper_length_mm": 196.0, "body_mass_g": 4700.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 82, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 36.7, "bill_depth_mm": 18.8, "flipper_length_mm": 187.0, "body_mass_g": 3800.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 83, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 35.1, "bill_depth_mm": 19.4, "flipper_length_mm": 193.0, "body_mass_g": 4200.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 84, "species": "Adelie", "island": "Dream", "bill_length_mm": 37.3, "bill_depth_mm": 17.8, "flipper_length_mm": 191.0, "body_mass_g": 3350.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 85, "species": "Adelie", "island": "Dream", "bill_length_mm": 41.3, "bill_depth_mm": 20.3, "flipper_length_mm": 194.0, "body_mass_g": 3550.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 86, "species": "Adelie", "island": "Dream", "bill_length_mm": 36.3, "bill_depth_mm": 19.5, "flipper_length_mm": 190.0, "body_mass_g": 3800.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 87, "species": "Adelie", "island": "Dream", "bill_length_mm": 36.9, "bill_depth_mm": 18.6, "flipper_length_mm": 189.0, "body_mass_g": 3500.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 88, "species": "Adelie", "island": "Dream", "bill_length_mm": 38.3, "bill_depth_mm": 19.2, "flipper_length_mm": 189.0, "body_mass_g": 3950.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 89, "species": "Adelie", "island": "Dream", "bill_length_mm": 38.9, "bill_depth_mm": 18.8, "flipper_length_mm": 190.0, "body_mass_g": 3600.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 90, "species": "Adelie", "island": "Dream", "bill_length_mm": 35.7, "bill_depth_mm": 18.0, "flipper_length_mm": 202.0, "body_mass_g": 3550.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 91, "species": "Adelie", "island": "Dream", "bill_length_mm": 41.1, "bill_depth_mm": 18.1, "flipper_length_mm": 205.0, "body_mass_g": 4300.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 92, "species": "Adelie", "island": "Dream", "bill_length_mm": 34.0, "bill_depth_mm": 17.1, "flipper_length_mm": 185.0, "body_mass_g": 3400.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 93, "species": "Adelie", "island": "Dream", "bill_length_mm": 39.6, "bill_depth_mm": 18.1, "flipper_length_mm": 186.0, "body_mass_g": 4450.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 94, "species": "Adelie", "island": "Dream", "bill_length_mm": 36.2, "bill_depth_mm": 17.3, "flipper_length_mm": 187.0, "body_mass_g": 3300.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 95, "species": "Adelie", "island": "Dream", "bill_length_mm": 40.8, "bill_depth_mm": 18.9, "flipper_length_mm": 208.0, "body_mass_g": 4300.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 96, "species": "Adelie", "island": "Dream", "bill_length_mm": 38.1, "bill_depth_mm": 18.6, "flipper_length_mm": 190.0, "body_mass_g": 3700.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 97, "species": "Adelie", "island": "Dream", "bill_length_mm": 40.3, "bill_depth_mm": 18.5, "flipper_length_mm": 196.0, "body_mass_g": 4350.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 98, "species": "Adelie", "island": "Dream", "bill_length_mm": 33.1, "bill_depth_mm": 16.1, "flipper_length_mm": 178.0, "body_mass_g": 2900.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 99, "species": "Adelie", "island": "Dream", "bill_length_mm": 43.2, "bill_depth_mm": 18.5, "flipper_length_mm": 192.0, "body_mass_g": 4100.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 100, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 35.0, "bill_depth_mm": 17.9, "flipper_length_mm": 192.0, "body_mass_g": 3725.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 101, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 41.0, "bill_depth_mm": 20.0, "flipper_length_mm": 203.0, "body_mass_g": 4725.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 102, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 37.7, "bill_depth_mm": 16.0, "flipper_length_mm": 183.0, "body_mass_g": 3075.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 103, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 37.8, "bill_depth_mm": 20.0, "flipper_length_mm": 190.0, "body_mass_g": 4250.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 104, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 37.9, "bill_depth_mm": 18.6, "flipper_length_mm": 193.0, "body_mass_g": 2925.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 105, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 39.7, "bill_depth_mm": 18.9, "flipper_length_mm": 184.0, "body_mass_g": 3550.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 106, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 38.6, "bill_depth_mm": 17.2, "flipper_length_mm": 199.0, "body_mass_g": 3750.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 107, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 38.2, "bill_depth_mm": 20.0, "flipper_length_mm": 190.0, "body_mass_g": 3900.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 108, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 38.1, "bill_depth_mm": 17.0, "flipper_length_mm": 181.0, "body_mass_g": 3175.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 109, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 43.2, "bill_depth_mm": 19.0, "flipper_length_mm": 197.0, "body_mass_g": 4775.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 110, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 38.1, "bill_depth_mm": 16.5, "flipper_length_mm": 198.0, "body_mass_g": 3825.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 111, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 45.6, "bill_depth_mm": 20.3, "flipper_length_mm": 191.0, "body_mass_g": 4600.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 112, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 39.7, "bill_depth_mm": 17.7, "flipper_length_mm": 193.0, "body_mass_g": 3200.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 113, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 42.2, "bill_depth_mm": 19.5, "flipper_length_mm": 197.0, "body_mass_g": 4275.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 114, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 39.6, "bill_depth_mm": 20.7, "flipper_length_mm": 191.0, "body_mass_g": 3900.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 115, "species": "Adelie", "island": "Biscoe", "bill_length_mm": 42.7, "bill_depth_mm": 18.3, "flipper_length_mm": 196.0, "body_mass_g": 4075.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 116, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 38.6, "bill_depth_mm": 17.0, "flipper_length_mm": 188.0, "body_mass_g": 2900.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 117, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 37.3, "bill_depth_mm": 20.5, "flipper_length_mm": 199.0, "body_mass_g": 3775.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 118, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 35.7, "bill_depth_mm": 17.0, "flipper_length_mm": 189.0, "body_mass_g": 3350.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 119, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 41.1, "bill_depth_mm": 18.6, "flipper_length_mm": 189.0, "body_mass_g": 3325.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 120, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 36.2, "bill_depth_mm": 17.2, "flipper_length_mm": 187.0, "body_mass_g": 3150.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 121, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 37.7, "bill_depth_mm": 19.8, "flipper_length_mm": 198.0, "body_mass_g": 3500.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 122, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 40.2, "bill_depth_mm": 17.0, "flipper_length_mm": 176.0, "body_mass_g": 3450.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 123, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 41.4, "bill_depth_mm": 18.5, "flipper_length_mm": 202.0, "body_mass_g": 3875.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 124, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 35.2, "bill_depth_mm": 15.9, "flipper_length_mm": 186.0, "body_mass_g": 3050.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 125, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 40.6, "bill_depth_mm": 19.0, "flipper_length_mm": 199.0, "body_mass_g": 4000.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 126, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 38.8, "bill_depth_mm": 17.6, "flipper_length_mm": 191.0, "body_mass_g": 3275.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 127, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 41.5, "bill_depth_mm": 18.3, "flipper_length_mm": 195.0, "body_mass_g": 4300.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 128, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 39.0, "bill_depth_mm": 17.1, "flipper_length_mm": 191.0, "body_mass_g": 3050.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 129, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 44.1, "bill_depth_mm": 18.0, "flipper_length_mm": 210.0, "body_mass_g": 4000.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 130, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 38.5, "bill_depth_mm": 17.9, "flipper_length_mm": 190.0, "body_mass_g": 3325.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 131, "species": "Adelie", "island": "Torgersen", "bill_length_mm": 43.1, "bill_depth_mm": 19.2, "flipper_length_mm": 197.0, "body_mass_g": 3500.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 132, "species": "Adelie", "island": "Dream", "bill_length_mm": 36.8, "bill_depth_mm": 18.5, "flipper_length_mm": 193.0, "body_mass_g": 3500.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 133, "species": "Adelie", "island": "Dream", "bill_length_mm": 37.5, "bill_depth_mm": 18.5, "flipper_length_mm": 199.0, "body_mass_g": 4475.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 134, "species": "Adelie", "island": "Dream", "bill_length_mm": 38.1, "bill_depth_mm": 17.6, "flipper_length_mm": 187.0, "body_mass_g": 3425.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 135, "species": "Adelie", "island": "Dream", "bill_length_mm": 41.1, "bill_depth_mm": 17.5, "flipper_length_mm": 190.0, "body_mass_g": 3900.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 136, "species": "Adelie", "island": "Dream", "bill_length_mm": 35.6, "bill_depth_mm": 17.5, "flipper_length_mm": 191.0, "body_mass_g": 3175.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 137, "species": "Adelie", "island": "Dream", "bill_length_mm": 40.2, "bill_depth_mm": 20.1, "flipper_length_mm": 200.0, "body_mass_g": 3975.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 138, "species": "Adelie", "island": "Dream", "bill_length_mm": 37.0, "bill_depth_mm": 16.5, "flipper_length_mm": 185.0, "body_mass_g": 3400.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 139, "species": "Adelie", "island": "Dream", "bill_length_mm": 39.7, "bill_depth_mm": 17.9, "flipper_length_mm": 193.0, "body_mass_g": 4250.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 140, "species": "Adelie", "island": "Dream", "bill_length_mm": 40.2, "bill_depth_mm": 17.1, "flipper_length_mm": 193.0, "body_mass_g": 3400.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 141, "species": "Adelie", "island": "Dream", "bill_length_mm": 40.6, "bill_depth_mm": 17.2, "flipper_length_mm": 187.0, "body_mass_g": 3475.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 142, "species": "Adelie", "island": "Dream", "bill_length_mm": 32.1, "bill_depth_mm": 15.5, "flipper_length_mm": 188.0, "body_mass_g": 3050.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 143, "species": "Adelie", "island": "Dream", "bill_length_mm": 40.7, "bill_depth_mm": 17.0, "flipper_length_mm": 190.0, "body_mass_g": 3725.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 144, "species": "Adelie", "island": "Dream", "bill_length_mm": 37.3, "bill_depth_mm": 16.8, "flipper_length_mm": 192.0, "body_mass_g": 3000.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 145, "species": "Adelie", "island": "Dream", "bill_length_mm": 39.0, "bill_depth_mm": 18.7, "flipper_length_mm": 185.0, "body_mass_g": 3650.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 146, "species": "Adelie", "island": "Dream", "bill_length_mm": 39.2, "bill_depth_mm": 18.6, "flipper_length_mm": 190.0, "body_mass_g": 4250.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 147, "species": "Adelie", "island": "Dream", "bill_length_mm": 36.6, "bill_depth_mm": 18.4, "flipper_length_mm": 184.0, "body_mass_g": 3475.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 148, "species": "Adelie", "island": "Dream", "bill_length_mm": 36.0, "bill_depth_mm": 17.8, "flipper_length_mm": 195.0, "body_mass_g": 3450.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 149, "species": "Adelie", "island": "Dream", "bill_length_mm": 37.8, "bill_depth_mm": 18.1, "flipper_length_mm": 193.0, "body_mass_g": 3750.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 150, "species": "Adelie", "island": "Dream", "bill_length_mm": 36.0, "bill_depth_mm": 17.1, "flipper_length_mm": 187.0, "body_mass_g": 3700.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 151, "species": "Adelie", "island": "Dream", "bill_length_mm": 41.5, "bill_depth_mm": 18.5, "flipper_length_mm": 201.0, "body_mass_g": 4000.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 1.0, "species_Chinstrap": 0.0, "species_Gentoo": 0.0}, {"index": 152, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 46.1, "bill_depth_mm": 13.2, "flipper_length_mm": 211.0, "body_mass_g": 4500.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 153, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 50.0, "bill_depth_mm": 16.3, "flipper_length_mm": 230.0, "body_mass_g": 5700.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 154, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 48.7, "bill_depth_mm": 14.1, "flipper_length_mm": 210.0, "body_mass_g": 4450.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 155, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 50.0, "bill_depth_mm": 15.2, "flipper_length_mm": 218.0, "body_mass_g": 5700.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 156, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 47.6, "bill_depth_mm": 14.5, "flipper_length_mm": 215.0, "body_mass_g": 5400.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 157, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 46.5, "bill_depth_mm": 13.5, "flipper_length_mm": 210.0, "body_mass_g": 4550.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 158, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 45.4, "bill_depth_mm": 14.6, "flipper_length_mm": 211.0, "body_mass_g": 4800.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 159, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 46.7, "bill_depth_mm": 15.3, "flipper_length_mm": 219.0, "body_mass_g": 5200.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 160, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 43.3, "bill_depth_mm": 13.4, "flipper_length_mm": 209.0, "body_mass_g": 4400.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 161, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 46.8, "bill_depth_mm": 15.4, "flipper_length_mm": 215.0, "body_mass_g": 5150.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 162, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 40.9, "bill_depth_mm": 13.7, "flipper_length_mm": 214.0, "body_mass_g": 4650.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 163, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 49.0, "bill_depth_mm": 16.1, "flipper_length_mm": 216.0, "body_mass_g": 5550.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 164, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 45.5, "bill_depth_mm": 13.7, "flipper_length_mm": 214.0, "body_mass_g": 4650.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 165, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 48.4, "bill_depth_mm": 14.6, "flipper_length_mm": 213.0, "body_mass_g": 5850.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 166, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 45.8, "bill_depth_mm": 14.6, "flipper_length_mm": 210.0, "body_mass_g": 4200.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 167, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 49.3, "bill_depth_mm": 15.7, "flipper_length_mm": 217.0, "body_mass_g": 5850.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 168, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 42.0, "bill_depth_mm": 13.5, "flipper_length_mm": 210.0, "body_mass_g": 4150.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 169, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 49.2, "bill_depth_mm": 15.2, "flipper_length_mm": 221.0, "body_mass_g": 6300.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 170, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 46.2, "bill_depth_mm": 14.5, "flipper_length_mm": 209.0, "body_mass_g": 4800.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 171, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 48.7, "bill_depth_mm": 15.1, "flipper_length_mm": 222.0, "body_mass_g": 5350.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 172, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 50.2, "bill_depth_mm": 14.3, "flipper_length_mm": 218.0, "body_mass_g": 5700.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 173, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 45.1, "bill_depth_mm": 14.5, "flipper_length_mm": 215.0, "body_mass_g": 5000.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 174, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 46.5, "bill_depth_mm": 14.5, "flipper_length_mm": 213.0, "body_mass_g": 4400.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 175, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 46.3, "bill_depth_mm": 15.8, "flipper_length_mm": 215.0, "body_mass_g": 5050.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 176, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 42.9, "bill_depth_mm": 13.1, "flipper_length_mm": 215.0, "body_mass_g": 5000.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 177, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 46.1, "bill_depth_mm": 15.1, "flipper_length_mm": 215.0, "body_mass_g": 5100.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 179, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 47.8, "bill_depth_mm": 15.0, "flipper_length_mm": 215.0, "body_mass_g": 5650.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 180, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 48.2, "bill_depth_mm": 14.3, "flipper_length_mm": 210.0, "body_mass_g": 4600.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 181, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 50.0, "bill_depth_mm": 15.3, "flipper_length_mm": 220.0, "body_mass_g": 5550.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 182, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 47.3, "bill_depth_mm": 15.3, "flipper_length_mm": 222.0, "body_mass_g": 5250.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 183, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 42.8, "bill_depth_mm": 14.2, "flipper_length_mm": 209.0, "body_mass_g": 4700.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 184, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 45.1, "bill_depth_mm": 14.5, "flipper_length_mm": 207.0, "body_mass_g": 5050.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 185, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 59.6, "bill_depth_mm": 17.0, "flipper_length_mm": 230.0, "body_mass_g": 6050.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 186, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 49.1, "bill_depth_mm": 14.8, "flipper_length_mm": 220.0, "body_mass_g": 5150.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 187, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 48.4, "bill_depth_mm": 16.3, "flipper_length_mm": 220.0, "body_mass_g": 5400.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 188, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 42.6, "bill_depth_mm": 13.7, "flipper_length_mm": 213.0, "body_mass_g": 4950.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 189, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 44.4, "bill_depth_mm": 17.3, "flipper_length_mm": 219.0, "body_mass_g": 5250.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 190, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 44.0, "bill_depth_mm": 13.6, "flipper_length_mm": 208.0, "body_mass_g": 4350.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 191, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 48.7, "bill_depth_mm": 15.7, "flipper_length_mm": 208.0, "body_mass_g": 5350.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 192, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 42.7, "bill_depth_mm": 13.7, "flipper_length_mm": 208.0, "body_mass_g": 3950.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 193, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 49.6, "bill_depth_mm": 16.0, "flipper_length_mm": 225.0, "body_mass_g": 5700.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 194, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 45.3, "bill_depth_mm": 13.7, "flipper_length_mm": 210.0, "body_mass_g": 4300.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 195, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 49.6, "bill_depth_mm": 15.0, "flipper_length_mm": 216.0, "body_mass_g": 4750.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 196, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 50.5, "bill_depth_mm": 15.9, "flipper_length_mm": 222.0, "body_mass_g": 5550.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 197, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 43.6, "bill_depth_mm": 13.9, "flipper_length_mm": 217.0, "body_mass_g": 4900.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 198, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 45.5, "bill_depth_mm": 13.9, "flipper_length_mm": 210.0, "body_mass_g": 4200.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 199, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 50.5, "bill_depth_mm": 15.9, "flipper_length_mm": 225.0, "body_mass_g": 5400.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 200, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 44.9, "bill_depth_mm": 13.3, "flipper_length_mm": 213.0, "body_mass_g": 5100.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 201, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 45.2, "bill_depth_mm": 15.8, "flipper_length_mm": 215.0, "body_mass_g": 5300.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 202, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 46.6, "bill_depth_mm": 14.2, "flipper_length_mm": 210.0, "body_mass_g": 4850.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 203, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 48.5, "bill_depth_mm": 14.1, "flipper_length_mm": 220.0, "body_mass_g": 5300.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 204, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 45.1, "bill_depth_mm": 14.4, "flipper_length_mm": 210.0, "body_mass_g": 4400.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 205, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 50.1, "bill_depth_mm": 15.0, "flipper_length_mm": 225.0, "body_mass_g": 5000.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 206, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 46.5, "bill_depth_mm": 14.4, "flipper_length_mm": 217.0, "body_mass_g": 4900.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 207, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 45.0, "bill_depth_mm": 15.4, "flipper_length_mm": 220.0, "body_mass_g": 5050.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 208, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 43.8, "bill_depth_mm": 13.9, "flipper_length_mm": 208.0, "body_mass_g": 4300.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 209, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 45.5, "bill_depth_mm": 15.0, "flipper_length_mm": 220.0, "body_mass_g": 5000.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 210, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 43.2, "bill_depth_mm": 14.5, "flipper_length_mm": 208.0, "body_mass_g": 4450.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 211, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 50.4, "bill_depth_mm": 15.3, "flipper_length_mm": 224.0, "body_mass_g": 5550.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 212, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 45.3, "bill_depth_mm": 13.8, "flipper_length_mm": 208.0, "body_mass_g": 4200.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 213, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 46.2, "bill_depth_mm": 14.9, "flipper_length_mm": 221.0, "body_mass_g": 5300.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 214, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 45.7, "bill_depth_mm": 13.9, "flipper_length_mm": 214.0, "body_mass_g": 4400.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 215, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 54.3, "bill_depth_mm": 15.7, "flipper_length_mm": 231.0, "body_mass_g": 5650.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 216, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 45.8, "bill_depth_mm": 14.2, "flipper_length_mm": 219.0, "body_mass_g": 4700.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 217, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 49.8, "bill_depth_mm": 16.8, "flipper_length_mm": 230.0, "body_mass_g": 5700.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 219, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 49.5, "bill_depth_mm": 16.2, "flipper_length_mm": 229.0, "body_mass_g": 5800.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 220, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 43.5, "bill_depth_mm": 14.2, "flipper_length_mm": 220.0, "body_mass_g": 4700.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 221, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 50.7, "bill_depth_mm": 15.0, "flipper_length_mm": 223.0, "body_mass_g": 5550.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 222, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 47.7, "bill_depth_mm": 15.0, "flipper_length_mm": 216.0, "body_mass_g": 4750.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 223, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 46.4, "bill_depth_mm": 15.6, "flipper_length_mm": 221.0, "body_mass_g": 5000.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 224, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 48.2, "bill_depth_mm": 15.6, "flipper_length_mm": 221.0, "body_mass_g": 5100.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 225, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 46.5, "bill_depth_mm": 14.8, "flipper_length_mm": 217.0, "body_mass_g": 5200.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 226, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 46.4, "bill_depth_mm": 15.0, "flipper_length_mm": 216.0, "body_mass_g": 4700.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 227, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 48.6, "bill_depth_mm": 16.0, "flipper_length_mm": 230.0, "body_mass_g": 5800.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 228, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 47.5, "bill_depth_mm": 14.2, "flipper_length_mm": 209.0, "body_mass_g": 4600.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 229, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 51.1, "bill_depth_mm": 16.3, "flipper_length_mm": 220.0, "body_mass_g": 6000.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 230, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 45.2, "bill_depth_mm": 13.8, "flipper_length_mm": 215.0, "body_mass_g": 4750.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 231, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 45.2, "bill_depth_mm": 16.4, "flipper_length_mm": 223.0, "body_mass_g": 5950.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 232, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 49.1, "bill_depth_mm": 14.5, "flipper_length_mm": 212.0, "body_mass_g": 4625.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 233, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 52.5, "bill_depth_mm": 15.6, "flipper_length_mm": 221.0, "body_mass_g": 5450.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 234, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 47.4, "bill_depth_mm": 14.6, "flipper_length_mm": 212.0, "body_mass_g": 4725.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 235, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 50.0, "bill_depth_mm": 15.9, "flipper_length_mm": 224.0, "body_mass_g": 5350.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 236, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 44.9, "bill_depth_mm": 13.8, "flipper_length_mm": 212.0, "body_mass_g": 4750.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 237, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 50.8, "bill_depth_mm": 17.3, "flipper_length_mm": 228.0, "body_mass_g": 5600.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 238, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 43.4, "bill_depth_mm": 14.4, "flipper_length_mm": 218.0, "body_mass_g": 4600.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 239, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 51.3, "bill_depth_mm": 14.2, "flipper_length_mm": 218.0, "body_mass_g": 5300.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 240, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 47.5, "bill_depth_mm": 14.0, "flipper_length_mm": 212.0, "body_mass_g": 4875.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 241, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 52.1, "bill_depth_mm": 17.0, "flipper_length_mm": 230.0, "body_mass_g": 5550.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 242, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 47.5, "bill_depth_mm": 15.0, "flipper_length_mm": 218.0, "body_mass_g": 4950.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 243, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 52.2, "bill_depth_mm": 17.1, "flipper_length_mm": 228.0, "body_mass_g": 5400.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 244, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 45.5, "bill_depth_mm": 14.5, "flipper_length_mm": 212.0, "body_mass_g": 4750.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 245, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 49.5, "bill_depth_mm": 16.1, "flipper_length_mm": 224.0, "body_mass_g": 5650.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 246, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 44.5, "bill_depth_mm": 14.7, "flipper_length_mm": 214.0, "body_mass_g": 4850.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 247, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 50.8, "bill_depth_mm": 15.7, "flipper_length_mm": 226.0, "body_mass_g": 5200.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 248, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 49.4, "bill_depth_mm": 15.8, "flipper_length_mm": 216.0, "body_mass_g": 4925.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 249, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 46.9, "bill_depth_mm": 14.6, "flipper_length_mm": 222.0, "body_mass_g": 4875.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 250, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 48.4, "bill_depth_mm": 14.4, "flipper_length_mm": 203.0, "body_mass_g": 4625.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 251, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 51.1, "bill_depth_mm": 16.5, "flipper_length_mm": 225.0, "body_mass_g": 5250.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 252, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 48.5, "bill_depth_mm": 15.0, "flipper_length_mm": 219.0, "body_mass_g": 4850.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 253, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 55.9, "bill_depth_mm": 17.0, "flipper_length_mm": 228.0, "body_mass_g": 5600.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 254, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 47.2, "bill_depth_mm": 15.5, "flipper_length_mm": 215.0, "body_mass_g": 4975.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 255, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 49.1, "bill_depth_mm": 15.0, "flipper_length_mm": 228.0, "body_mass_g": 5500.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 257, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 46.8, "bill_depth_mm": 16.1, "flipper_length_mm": 215.0, "body_mass_g": 5500.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 258, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 41.7, "bill_depth_mm": 14.7, "flipper_length_mm": 210.0, "body_mass_g": 4700.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 259, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 53.4, "bill_depth_mm": 15.8, "flipper_length_mm": 219.0, "body_mass_g": 5500.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 260, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 43.3, "bill_depth_mm": 14.0, "flipper_length_mm": 208.0, "body_mass_g": 4575.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 261, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 48.1, "bill_depth_mm": 15.1, "flipper_length_mm": 209.0, "body_mass_g": 5500.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 262, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 50.5, "bill_depth_mm": 15.2, "flipper_length_mm": 216.0, "body_mass_g": 5000.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 263, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 49.8, "bill_depth_mm": 15.9, "flipper_length_mm": 229.0, "body_mass_g": 5950.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 264, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 43.5, "bill_depth_mm": 15.2, "flipper_length_mm": 213.0, "body_mass_g": 4650.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 265, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 51.5, "bill_depth_mm": 16.3, "flipper_length_mm": 230.0, "body_mass_g": 5500.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 266, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 46.2, "bill_depth_mm": 14.1, "flipper_length_mm": 217.0, "body_mass_g": 4375.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 267, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 55.1, "bill_depth_mm": 16.0, "flipper_length_mm": 230.0, "body_mass_g": 5850.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 269, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 48.8, "bill_depth_mm": 16.2, "flipper_length_mm": 222.0, "body_mass_g": 6000.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 270, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 47.2, "bill_depth_mm": 13.7, "flipper_length_mm": 214.0, "body_mass_g": 4925.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 272, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 46.8, "bill_depth_mm": 14.3, "flipper_length_mm": 215.0, "body_mass_g": 4850.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 273, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 50.4, "bill_depth_mm": 15.7, "flipper_length_mm": 222.0, "body_mass_g": 5750.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 274, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 45.2, "bill_depth_mm": 14.8, "flipper_length_mm": 212.0, "body_mass_g": 5200.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 275, "species": "Gentoo", "island": "Biscoe", "bill_length_mm": 49.9, "bill_depth_mm": 16.1, "flipper_length_mm": 213.0, "body_mass_g": 5400.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 0.0, "species_Gentoo": 1.0}, {"index": 276, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 46.5, "bill_depth_mm": 17.9, "flipper_length_mm": 192.0, "body_mass_g": 3500.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 277, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 50.0, "bill_depth_mm": 19.5, "flipper_length_mm": 196.0, "body_mass_g": 3900.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 278, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 51.3, "bill_depth_mm": 19.2, "flipper_length_mm": 193.0, "body_mass_g": 3650.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 279, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 45.4, "bill_depth_mm": 18.7, "flipper_length_mm": 188.0, "body_mass_g": 3525.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 280, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 52.7, "bill_depth_mm": 19.8, "flipper_length_mm": 197.0, "body_mass_g": 3725.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 281, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 45.2, "bill_depth_mm": 17.8, "flipper_length_mm": 198.0, "body_mass_g": 3950.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 282, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 46.1, "bill_depth_mm": 18.2, "flipper_length_mm": 178.0, "body_mass_g": 3250.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 283, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 51.3, "bill_depth_mm": 18.2, "flipper_length_mm": 197.0, "body_mass_g": 3750.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 284, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 46.0, "bill_depth_mm": 18.9, "flipper_length_mm": 195.0, "body_mass_g": 4150.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 285, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 51.3, "bill_depth_mm": 19.9, "flipper_length_mm": 198.0, "body_mass_g": 3700.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 286, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 46.6, "bill_depth_mm": 17.8, "flipper_length_mm": 193.0, "body_mass_g": 3800.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 287, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 51.7, "bill_depth_mm": 20.3, "flipper_length_mm": 194.0, "body_mass_g": 3775.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 288, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 47.0, "bill_depth_mm": 17.3, "flipper_length_mm": 185.0, "body_mass_g": 3700.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 289, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 52.0, "bill_depth_mm": 18.1, "flipper_length_mm": 201.0, "body_mass_g": 4050.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 290, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 45.9, "bill_depth_mm": 17.1, "flipper_length_mm": 190.0, "body_mass_g": 3575.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 291, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 50.5, "bill_depth_mm": 19.6, "flipper_length_mm": 201.0, "body_mass_g": 4050.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 292, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 50.3, "bill_depth_mm": 20.0, "flipper_length_mm": 197.0, "body_mass_g": 3300.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 293, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 58.0, "bill_depth_mm": 17.8, "flipper_length_mm": 181.0, "body_mass_g": 3700.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 294, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 46.4, "bill_depth_mm": 18.6, "flipper_length_mm": 190.0, "body_mass_g": 3450.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 295, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 49.2, "bill_depth_mm": 18.2, "flipper_length_mm": 195.0, "body_mass_g": 4400.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 296, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 42.4, "bill_depth_mm": 17.3, "flipper_length_mm": 181.0, "body_mass_g": 3600.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 297, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 48.5, "bill_depth_mm": 17.5, "flipper_length_mm": 191.0, "body_mass_g": 3400.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 298, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 43.2, "bill_depth_mm": 16.6, "flipper_length_mm": 187.0, "body_mass_g": 2900.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 299, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 50.6, "bill_depth_mm": 19.4, "flipper_length_mm": 193.0, "body_mass_g": 3800.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 300, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 46.7, "bill_depth_mm": 17.9, "flipper_length_mm": 195.0, "body_mass_g": 3300.0, "sex": "female", "year": 2007, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 301, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 52.0, "bill_depth_mm": 19.0, "flipper_length_mm": 197.0, "body_mass_g": 4150.0, "sex": "male", "year": 2007, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 302, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 50.5, "bill_depth_mm": 18.4, "flipper_length_mm": 200.0, "body_mass_g": 3400.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 303, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 49.5, "bill_depth_mm": 19.0, "flipper_length_mm": 200.0, "body_mass_g": 3800.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 304, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 46.4, "bill_depth_mm": 17.8, "flipper_length_mm": 191.0, "body_mass_g": 3700.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 305, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 52.8, "bill_depth_mm": 20.0, "flipper_length_mm": 205.0, "body_mass_g": 4550.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 306, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 40.9, "bill_depth_mm": 16.6, "flipper_length_mm": 187.0, "body_mass_g": 3200.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 307, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 54.2, "bill_depth_mm": 20.8, "flipper_length_mm": 201.0, "body_mass_g": 4300.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 308, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 42.5, "bill_depth_mm": 16.7, "flipper_length_mm": 187.0, "body_mass_g": 3350.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 309, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 51.0, "bill_depth_mm": 18.8, "flipper_length_mm": 203.0, "body_mass_g": 4100.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 310, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 49.7, "bill_depth_mm": 18.6, "flipper_length_mm": 195.0, "body_mass_g": 3600.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 311, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 47.5, "bill_depth_mm": 16.8, "flipper_length_mm": 199.0, "body_mass_g": 3900.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 312, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 47.6, "bill_depth_mm": 18.3, "flipper_length_mm": 195.0, "body_mass_g": 3850.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 313, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 52.0, "bill_depth_mm": 20.7, "flipper_length_mm": 210.0, "body_mass_g": 4800.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 314, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 46.9, "bill_depth_mm": 16.6, "flipper_length_mm": 192.0, "body_mass_g": 2700.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 315, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 53.5, "bill_depth_mm": 19.9, "flipper_length_mm": 205.0, "body_mass_g": 4500.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 316, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 49.0, "bill_depth_mm": 19.5, "flipper_length_mm": 210.0, "body_mass_g": 3950.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 317, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 46.2, "bill_depth_mm": 17.5, "flipper_length_mm": 187.0, "body_mass_g": 3650.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 318, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 50.9, "bill_depth_mm": 19.1, "flipper_length_mm": 196.0, "body_mass_g": 3550.0, "sex": "male", "year": 2008, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 319, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 45.5, "bill_depth_mm": 17.0, "flipper_length_mm": 196.0, "body_mass_g": 3500.0, "sex": "female", "year": 2008, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 320, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 50.9, "bill_depth_mm": 17.9, "flipper_length_mm": 196.0, "body_mass_g": 3675.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 321, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 50.8, "bill_depth_mm": 18.5, "flipper_length_mm": 201.0, "body_mass_g": 4450.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 322, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 50.1, "bill_depth_mm": 17.9, "flipper_length_mm": 190.0, "body_mass_g": 3400.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 323, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 49.0, "bill_depth_mm": 19.6, "flipper_length_mm": 212.0, "body_mass_g": 4300.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 324, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 51.5, "bill_depth_mm": 18.7, "flipper_length_mm": 187.0, "body_mass_g": 3250.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 325, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 49.8, "bill_depth_mm": 17.3, "flipper_length_mm": 198.0, "body_mass_g": 3675.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 326, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 48.1, "bill_depth_mm": 16.4, "flipper_length_mm": 199.0, "body_mass_g": 3325.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 327, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 51.4, "bill_depth_mm": 19.0, "flipper_length_mm": 201.0, "body_mass_g": 3950.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 328, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 45.7, "bill_depth_mm": 17.3, "flipper_length_mm": 193.0, "body_mass_g": 3600.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 329, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 50.7, "bill_depth_mm": 19.7, "flipper_length_mm": 203.0, "body_mass_g": 4050.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 330, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 42.5, "bill_depth_mm": 17.3, "flipper_length_mm": 187.0, "body_mass_g": 3350.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 331, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 52.2, "bill_depth_mm": 18.8, "flipper_length_mm": 197.0, "body_mass_g": 3450.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 332, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 45.2, "bill_depth_mm": 16.6, "flipper_length_mm": 191.0, "body_mass_g": 3250.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 333, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 49.3, "bill_depth_mm": 19.9, "flipper_length_mm": 203.0, "body_mass_g": 4050.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 334, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 50.2, "bill_depth_mm": 18.8, "flipper_length_mm": 202.0, "body_mass_g": 3800.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 335, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 45.6, "bill_depth_mm": 19.4, "flipper_length_mm": 194.0, "body_mass_g": 3525.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 336, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 51.9, "bill_depth_mm": 19.5, "flipper_length_mm": 206.0, "body_mass_g": 3950.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 337, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 46.8, "bill_depth_mm": 16.5, "flipper_length_mm": 189.0, "body_mass_g": 3650.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 338, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 45.7, "bill_depth_mm": 17.0, "flipper_length_mm": 195.0, "body_mass_g": 3650.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 339, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 55.8, "bill_depth_mm": 19.8, "flipper_length_mm": 207.0, "body_mass_g": 4000.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 340, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 43.5, "bill_depth_mm": 18.1, "flipper_length_mm": 202.0, "body_mass_g": 3400.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 341, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 49.6, "bill_depth_mm": 18.2, "flipper_length_mm": 193.0, "body_mass_g": 3775.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 342, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 50.8, "bill_depth_mm": 19.0, "flipper_length_mm": 210.0, "body_mass_g": 4100.0, "sex": "male", "year": 2009, "sex_female": 0.0, "sex_male": 1.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}, {"index": 343, "species": "Chinstrap", "island": "Dream", "bill_length_mm": 50.2, "bill_depth_mm": 18.7, "flipper_length_mm": 198.0, "body_mass_g": 3775.0, "sex": "female", "year": 2009, "sex_female": 1.0, "sex_male": 0.0, "species_Adelie": 0.0, "species_Chinstrap": 1.0, "species_Gentoo": 0.0}]}}, {"mode": "vega-lite"});
</script>
</div>
</div>
<p>This difference and sign reversal is mostly because of the relationships between species, bill length, and bill depth. But that’s a subject for a post about Simpson’s paradox.</p>


</section>

 ]]></description>
  <category>Python</category>
  <category>Penguins</category>
  <category>Statistics</category>
  <guid>https://www.natekratzer.com/posts/partitioned_regression/index.html</guid>
  <pubDate>Sat, 18 Mar 2023 04:00:00 GMT</pubDate>
  <media:content url="https://www.natekratzer.com/posts/partitioned_regression/palmer_penguins.png" medium="image" type="image/png" height="86" width="144"/>
</item>
<item>
  <title>Think before adding more variables to that analysis</title>
  <link>https://www.natekratzer.com/posts/collider_bias/index.html</link>
  <description><![CDATA[ 



<section id="introduction" class="level1">
<h1>Introduction</h1>
<p><img src="https://www.natekratzer.com/posts/collider_bias/xkcd_confounding.png" class="img-fluid"></p>
<section id="overview" class="level3">
<h3 class="anchored" data-anchor-id="overview">Overview</h3>
<p>Human beings think in terms of stories and in terms of how the actions they take impact the things around them. It’s our natural default way of thinking, and generally it’s pretty useful.</p>
<p>Doing data analysis doesn’t stop us from thinking in terms of stories and causation, but it should make us careful. With the increase in data and in the computing power to process it all, there have been claims that all we need in order to understand and act in the world is to listen to the data. But data does not speak for itself! It is interpretted by humans who will think about it through the lens of causality.</p>
<p>This is an introduction to thinking about causal models for data analysis. The purpose is to demonstrate that the popular approach of simply gathering as much data as you can and controlling for it via regression or other methods is not a good one, and is actively misleading in many cases. We should instead carefully think about plausible causal models using tools like diagrams (directed acyclic graphs, or DAGs) and then do data analysis in accordance with those models.</p>
</section>
<section id="a-simple-example-of-confounding" class="level3">
<h3 class="anchored" data-anchor-id="a-simple-example-of-confounding">A Simple Example of Confounding</h3>
<p>Let’s start with an example where using regression does make sense. I have noticed that the sports teams I like are more likely to lose when I am watching them on TV. This is true, but the idea that my watching them causes them to lose is not plausible. So either I’m mistaken in my data collection, very unlucky in my fanship (I am a fan of Cleveland sports teams, so this does seem likely), or there’s something else that explains the connection between my watching and my team losing. We can draw a simple diagram of what we’ve observed so far.</p>
<p>(I’m using <a href="https://mermaid.live/edit">Mermaid</a> and will put the code for each diagram above them so that it’s easy to recreate and edit later).</p>
<p>graph LR; A[Watch Game]–&gt;B[Lose Game]</p>
<p><img src="https://www.natekratzer.com/posts/collider_bias/watch_and_lose.png" class="img-fluid"></p>
<p>Once we know what the proper causal model looks like, we can see that the conclusion that my watching games caused my teams to lose was based on an incomplete view - or more technically it suffered from omitted variable bias. The analysis left out an important variable that impacted things. Once we control for opponent quality, the relationship between my watching and my team losing should go back to zero.</p>
</section>
<section id="a-much-more-important-example-womens-wages" class="level3">
<h3 class="anchored" data-anchor-id="a-much-more-important-example-womens-wages">A Much More Important Example: Women’s Wages</h3>
<p>The idea of drawing out the diagram before doing the analysis can be applied to more important cases, like the ongoing dispute around the wage gap between men and women. Here, I’m taking an example from the excellent book <em>Causal Inference: The Mixtape</em> by Scott Cunningham.</p>
<p>When companies are accused of paying women less one of their first lines of defense is to argue that if you account for the occupational differences within the company between men and women the wage gap vanishes or at least shrinks dramatically. Cunningham (and I) think this is a poor causal model and an inadequate defense. This is important, so we’re going to consider several causal models and look directly at what they tell us using some simulated data under different specifications. Using simulated data gives us the advantage of knowing the truth of the data - so to speak - we’ll create it to have certain causal relationships and then we’ll see how the different models capture (and fail to capture) those relationships.</p>
<p>I’ll start with the causal diagram that we’re going to use to simulate our data. It’s a bit complicated, but we’ll take it piece by piece as we move through the data simulation and modeling.</p>
<p>graph LR; D[Discrimination] –&gt; E[Earnings] D –&gt; O[Occupation] O –&gt; E A[Ability] -.-&gt; O A -.-&gt; E</p>
<p><img src="https://www.natekratzer.com/posts/collider_bias/gd_dag.png" class="img-fluid"></p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;">import</span> numpy <span class="im" style="color: #00769E;">as</span> np <span class="co" style="color: #5E5E5E;"># for generating arrays with random numbers</span></span>
<span id="cb1-2"><span class="im" style="color: #00769E;">import</span> pandas <span class="im" style="color: #00769E;">as</span> pd <span class="co" style="color: #5E5E5E;"># dataframes</span></span>
<span id="cb1-3"><span class="im" style="color: #00769E;">import</span> statsmodels.api <span class="im" style="color: #00769E;">as</span> sm <span class="co" style="color: #5E5E5E;"># to run the actual ols model</span></span>
<span id="cb1-4"></span>
<span id="cb1-5">np.random.seed(<span class="dv" style="color: #AD0000;">42</span>) <span class="co" style="color: #5E5E5E;"># to make it reproducible</span></span></code></pre></div>
</div>
<p>We’re going to first generate a labor force where half of it is discriminated against (e.g.&nbsp;women being paid less, the well known gender gap in wages) and has ability randomly distributed. In the causal model sketched above both Discrimination and Ability are root causes - they’re not caused by anything else in the diagram. (Both obviously have causes outside of the system we’re currently considering). So that’s the place we’ll start.</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1">generated_data <span class="op" style="color: #5E5E5E;">=</span> {</span>
<span id="cb2-2">    <span class="st" style="color: #20794D;">'discrimination'</span>  : np.random.randint(low <span class="op" style="color: #5E5E5E;">=</span> <span class="dv" style="color: #AD0000;">0</span>, high <span class="op" style="color: #5E5E5E;">=</span> <span class="dv" style="color: #AD0000;">2</span>, size <span class="op" style="color: #5E5E5E;">=</span> <span class="dv" style="color: #AD0000;">10000</span>, dtype <span class="op" style="color: #5E5E5E;">=</span> <span class="bu" style="color: null;">int</span>), <span class="co" style="color: #5E5E5E;">#the high argument is not inclusive, so this is randomly generating 0s and 1s. </span></span>
<span id="cb2-3">    <span class="st" style="color: #20794D;">'ability'</span> : np.random.normal(size <span class="op" style="color: #5E5E5E;">=</span> <span class="dv" style="color: #AD0000;">10000</span>),</span>
<span id="cb2-4">}</span>
<span id="cb2-5"></span>
<span id="cb2-6">df <span class="op" style="color: #5E5E5E;">=</span> pd.DataFrame(data <span class="op" style="color: #5E5E5E;">=</span> generated_data)</span></code></pre></div>
</div>
<p>Now we need to generate some other variables of interest. We’re looking at the impact of discrimination, so let’s set that to be experienced by half of the labor force. We’re going to assume that discrimination affects both wages and choice of occupation. Here we’re worried about occupations in terms of higher and lower pay scales, so let’s set occupations to be positively associated with ability and negatively associated with discrimination.</p>
<p>Finally, wages are negatively associated with discrimination and positively associated with both occupation and ability.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1">df[<span class="st" style="color: #20794D;">'occupation'</span>] <span class="op" style="color: #5E5E5E;">=</span> <span class="dv" style="color: #AD0000;">1</span> <span class="op" style="color: #5E5E5E;">+</span> <span class="dv" style="color: #AD0000;">2</span> <span class="op" style="color: #5E5E5E;">*</span> df[<span class="st" style="color: #20794D;">'ability'</span>] <span class="op" style="color: #5E5E5E;">-</span> <span class="dv" style="color: #AD0000;">2</span> <span class="op" style="color: #5E5E5E;">*</span> df[<span class="st" style="color: #20794D;">'discrimination'</span>] <span class="op" style="color: #5E5E5E;">+</span> np.random.normal(size <span class="op" style="color: #5E5E5E;">=</span> <span class="dv" style="color: #AD0000;">10000</span>)</span>
<span id="cb3-2">df[<span class="st" style="color: #20794D;">'wage'</span>] <span class="op" style="color: #5E5E5E;">=</span> <span class="dv" style="color: #AD0000;">1</span> <span class="op" style="color: #5E5E5E;">-</span> <span class="dv" style="color: #AD0000;">1</span> <span class="op" style="color: #5E5E5E;">*</span> df[<span class="st" style="color: #20794D;">'discrimination'</span>] <span class="op" style="color: #5E5E5E;">+</span> <span class="dv" style="color: #AD0000;">1</span> <span class="op" style="color: #5E5E5E;">*</span> df[<span class="st" style="color: #20794D;">'occupation'</span>] <span class="op" style="color: #5E5E5E;">+</span> <span class="dv" style="color: #AD0000;">2</span> <span class="op" style="color: #5E5E5E;">*</span> df[<span class="st" style="color: #20794D;">'ability'</span>] <span class="op" style="color: #5E5E5E;">+</span> np.random.normal(size <span class="op" style="color: #5E5E5E;">=</span> <span class="dv" style="color: #AD0000;">10000</span>)</span>
<span id="cb3-3"></span>
<span id="cb3-4">df.describe()</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>discrimination</th>
      <th>ability</th>
      <th>occupation</th>
      <th>wage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>10000.000000</td>
      <td>10000.000000</td>
      <td>10000.000000</td>
      <td>10000.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>0.498700</td>
      <td>-0.008041</td>
      <td>-0.009388</td>
      <td>0.471065</td>
    </tr>
    <tr>
      <th>std</th>
      <td>0.500023</td>
      <td>1.004178</td>
      <td>2.449597</td>
      <td>4.545405</td>
    </tr>
    <tr>
      <th>min</th>
      <td>0.000000</td>
      <td>-3.922400</td>
      <td>-10.018905</td>
      <td>-18.328506</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>0.000000</td>
      <td>-0.674327</td>
      <td>-1.640437</td>
      <td>-2.517222</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>0.000000</td>
      <td>-0.007682</td>
      <td>-0.022777</td>
      <td>0.482132</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.000000</td>
      <td>0.668901</td>
      <td>1.633467</td>
      <td>3.501387</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1.000000</td>
      <td>3.529055</td>
      <td>9.500154</td>
      <td>16.731628</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>Now that we have our simulated data with specified causal relationships, let’s look at a few different regression models. We’ll first look at a model that only includes discrimination as a cause of wages.</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><span class="co" style="color: #5E5E5E;"># Set up matrices for regression</span></span>
<span id="cb4-2">Y <span class="op" style="color: #5E5E5E;">=</span> df[<span class="st" style="color: #20794D;">'wage'</span>]</span>
<span id="cb4-3">X1 <span class="op" style="color: #5E5E5E;">=</span> df[<span class="st" style="color: #20794D;">'discrimination'</span>]</span>
<span id="cb4-4"></span>
<span id="cb4-5"><span class="co" style="color: #5E5E5E;"># add constant for the intercept of the model</span></span>
<span id="cb4-6">X1 <span class="op" style="color: #5E5E5E;">=</span> sm.add_constant(X1)</span>
<span id="cb4-7"></span>
<span id="cb4-8"><span class="co" style="color: #5E5E5E;"># specify the model</span></span>
<span id="cb4-9">model1 <span class="op" style="color: #5E5E5E;">=</span> sm.OLS(Y, X1)</span>
<span id="cb4-10"></span>
<span id="cb4-11"><span class="co" style="color: #5E5E5E;"># fit the model</span></span>
<span id="cb4-12">results1 <span class="op" style="color: #5E5E5E;">=</span> model1.fit()</span>
<span id="cb4-13"></span>
<span id="cb4-14"><span class="co" style="color: #5E5E5E;"># Look at results</span></span>
<span id="cb4-15"><span class="co" style="color: #5E5E5E;"># results1.summary()</span></span>
<span id="cb4-16">results1.params</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="4">
<pre><code>const             1.952182
discrimination   -2.969956
dtype: float64</code></pre>
</div>
</div>
<p>What we’re mainly interested in is the coefficient on discrimination. Here we see that being discriminated against has a strong negative impact on wages earned. (Don’t worry about the const (constant) term, it’s not important in this example).</p>
<p>This isn’t a surprise based on how we set up the data. It also correctly reflects that in the real world if you just divide wages by gender you will find a large gender gap.</p>
<p>The dispute comes in when we talk about controlling for occupation, or a model that looks like this:</p>
<p>graph LR; D[Discrimination] –&gt; E[Earnings] D –&gt; O[Occupation] O –&gt; E</p>
<p><img src="https://www.natekratzer.com/posts/collider_bias/control_occ.png" class="img-fluid"></p>
<p>In this model it looks like being discriminated against might raise wages slightly. We know that’s not right since we know we set up the data to have discrimination decrease earnungs. The problem is that when we added occupation to the model we opened up a brand new causal pathway from discrimination to earnings. It’s the one that runs from Discrimination–&gt;Occupation–&gt;Ability–&gt;Earnings in our original causal model.</p>
<p>When we controlled for occupation we did two things:</p>
<ul>
<li>Ignored the fact that occupational choice is also a result of discrimination and as a defense of pay discrimination it would then be the mechanism by which discrimination happens, not a defense that discrimination isn’t happening.</li>
<li>Opened up a causal pathway that made our estimates worse.</li>
</ul>
<p><img src="https://www.natekratzer.com/posts/collider_bias/gd_dag.png" class="img-fluid"></p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1">X3 <span class="op" style="color: #5E5E5E;">=</span> df[[<span class="st" style="color: #20794D;">'discrimination'</span>, <span class="st" style="color: #20794D;">'occupation'</span>, <span class="st" style="color: #20794D;">'ability'</span>]]</span>
<span id="cb6-2">X3 <span class="op" style="color: #5E5E5E;">=</span> sm.add_constant(X3)</span>
<span id="cb6-3">model3 <span class="op" style="color: #5E5E5E;">=</span> sm.OLS(Y, X3)</span>
<span id="cb6-4">results3 <span class="op" style="color: #5E5E5E;">=</span> model3.fit()</span>
<span id="cb6-5">results3.params</span></code></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>const             0.988717
discrimination   -0.986841
occupation        1.025762
ability           1.975298
dtype: float64</code></pre>
</div>
</div>
</section>
<section id="what-have-we-learned" class="level3">
<h3 class="anchored" data-anchor-id="what-have-we-learned">What have we learned?</h3>
<p>A major problem is that in the real world we can’t observe ability directly and put it in a regression model. Another issue is that this causal model is still very incomplete. Nonetheless, the way the sign flips back and forth depending on the model is hopefully an illustration of why it’s so important to have a theoretical model and not just throw in as much data as possible.</p>
<p>Data is a powerful way to tell stories, but data by itself <em>never</em> tells us everything we need to know. We have to interpret it carefully and think hard about the underlying models of the world we’re bringing to the data when we interpret it.</p>
<p>Two things to remember from this post:</p>
<ul>
<li>Think about the causal model before doing statistics or machine learning</li>
<li>Don’t believe companies that say the gender gap goes away if you control for other things. That’s only true if you believe the causal model underlying their analysis - and you probably shouldn’t.</li>
</ul>


</section>
</section>

 ]]></description>
  <category>Python</category>
  <category>Causal Inference</category>
  <category>Policy</category>
  <category>Statistics</category>
  <guid>https://www.natekratzer.com/posts/collider_bias/index.html</guid>
  <pubDate>Sat, 19 Mar 2022 04:00:00 GMT</pubDate>
  <media:content url="https://www.natekratzer.com/posts/collider_bias/gd_dag.png" medium="image" type="image/png" height="53" width="144"/>
</item>
<item>
  <title>Racing Louisville in their first NWSL season</title>
  <link>https://www.natekratzer.com/posts/racing_lou_season1/index.html</link>
  <description><![CDATA[ 



<p>The NWSL Challenge Cup kicked off earlier this week, so I took quick look at some of the stats from last season. I got the data from <a href="https://fbref.com/en/">FBREF</a> and made some quick graphs - I’m including the code here, but feel free to ignore it if you’re only interested in the football statistics.</p>
<p>I wanted to know if the NWSL had teams that were focused on offense or defense, so I looked first at average goals scored and allowed per game. On average, teams score 1.15 goals per game, so I added those as reference lines.</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;">import</span> numpy <span class="im" style="color: #00769E;">as</span> np</span>
<span id="cb1-2"><span class="im" style="color: #00769E;">import</span> pandas <span class="im" style="color: #00769E;">as</span> pd</span>
<span id="cb1-3"><span class="im" style="color: #00769E;">import</span> plotly.express <span class="im" style="color: #00769E;">as</span> px</span>
<span id="cb1-4"></span>
<span id="cb1-5">df <span class="op" style="color: #5E5E5E;">=</span> pd.read_csv(<span class="st" style="color: #20794D;">"https://raw.githubusercontent.com/natekratzer/nwsl/main/data/team/2021_season_ovr.csv"</span>)</span>
<span id="cb1-6">df[<span class="st" style="color: #20794D;">'goals_scored_per_match'</span>] <span class="op" style="color: #5E5E5E;">=</span> (df[<span class="st" style="color: #20794D;">'GF'</span>]<span class="op" style="color: #5E5E5E;">/</span>df[<span class="st" style="color: #20794D;">'MP'</span>]).<span class="bu" style="color: null;">round</span>(<span class="dv" style="color: #AD0000;">2</span>)</span>
<span id="cb1-7">df[<span class="st" style="color: #20794D;">'goals_allowed_per_match'</span>] <span class="op" style="color: #5E5E5E;">=</span> (df[<span class="st" style="color: #20794D;">'GA'</span>]<span class="op" style="color: #5E5E5E;">/</span>df[<span class="st" style="color: #20794D;">'MP'</span>]).<span class="bu" style="color: null;">round</span>(<span class="dv" style="color: #AD0000;">2</span>)</span>
<span id="cb1-8">df[<span class="st" style="color: #20794D;">'mean'</span>]<span class="op" style="color: #5E5E5E;">=</span> df[<span class="st" style="color: #20794D;">'GF'</span>].mean()<span class="op" style="color: #5E5E5E;">/</span><span class="dv" style="color: #AD0000;">24</span> <span class="co" style="color: #5E5E5E;">#24 games in the season</span></span>
<span id="cb1-9"></span>
<span id="cb1-10">fig <span class="op" style="color: #5E5E5E;">=</span> px.scatter(df, </span>
<span id="cb1-11">                 x<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">"goals_scored_per_match"</span>, </span>
<span id="cb1-12">                 y <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"goals_allowed_per_match"</span>,</span>
<span id="cb1-13">                 labels <span class="op" style="color: #5E5E5E;">=</span> <span class="bu" style="color: null;">dict</span>(goals_scored_per_match <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"Scored"</span>, goals_allowed_per_match <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"Allowed"</span>),</span>
<span id="cb1-14">                 template <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'simple_white'</span>,</span>
<span id="cb1-15">                 title <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"NWSL Goals Per Match, 2021"</span>,</span>
<span id="cb1-16">                 text <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'Abbr'</span>,</span>
<span id="cb1-17">                 width <span class="op" style="color: #5E5E5E;">=</span> <span class="dv" style="color: #AD0000;">500</span>,</span>
<span id="cb1-18">                 height <span class="op" style="color: #5E5E5E;">=</span> <span class="dv" style="color: #AD0000;">500</span></span>
<span id="cb1-19">                 )</span>
<span id="cb1-20"></span>
<span id="cb1-21">fig <span class="op" style="color: #5E5E5E;">=</span> fig.update_traces(textposition <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'top center'</span>)</span>
<span id="cb1-22">fig <span class="op" style="color: #5E5E5E;">=</span> fig.update_xaxes(<span class="bu" style="color: null;">range</span> <span class="op" style="color: #5E5E5E;">=</span> [<span class="fl" style="color: #AD0000;">0.6</span>, <span class="fl" style="color: #AD0000;">1.8</span>], nticks <span class="op" style="color: #5E5E5E;">=</span> <span class="dv" style="color: #AD0000;">7</span>)</span>
<span id="cb1-23">fig <span class="op" style="color: #5E5E5E;">=</span> fig.update_yaxes(<span class="bu" style="color: null;">range</span> <span class="op" style="color: #5E5E5E;">=</span> [<span class="fl" style="color: #AD0000;">0.6</span>, <span class="fl" style="color: #AD0000;">1.8</span>], nticks <span class="op" style="color: #5E5E5E;">=</span> <span class="dv" style="color: #AD0000;">7</span>,</span>
<span id="cb1-24">                 scaleanchor <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"x"</span>, <span class="co" style="color: #5E5E5E;"># make the y axis tied to X</span></span>
<span id="cb1-25">                 scaleratio <span class="op" style="color: #5E5E5E;">=</span> <span class="dv" style="color: #AD0000;">1</span>)</span>
<span id="cb1-26"></span>
<span id="cb1-27">fig <span class="op" style="color: #5E5E5E;">=</span> fig.add_hline(y <span class="op" style="color: #5E5E5E;">=</span> <span class="fl" style="color: #AD0000;">1.15</span>, opacity <span class="op" style="color: #5E5E5E;">=</span> <span class="dv" style="color: #AD0000;">1</span>, line_width <span class="op" style="color: #5E5E5E;">=</span> <span class="dv" style="color: #AD0000;">2</span>, line_dash <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'dash'</span>, line_color <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'grey'</span>)</span>
<span id="cb1-28">fig <span class="op" style="color: #5E5E5E;">=</span> fig.add_vline(x <span class="op" style="color: #5E5E5E;">=</span> <span class="fl" style="color: #AD0000;">1.15</span>, opacity <span class="op" style="color: #5E5E5E;">=</span> <span class="dv" style="color: #AD0000;">1</span>, line_width <span class="op" style="color: #5E5E5E;">=</span> <span class="dv" style="color: #AD0000;">2</span>, line_dash <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'dash'</span>, line_color <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'grey'</span>)</span>
<span id="cb1-29"></span>
<span id="cb1-30">fig <span class="op" style="color: #5E5E5E;">=</span> fig.add_annotation(x <span class="op" style="color: #5E5E5E;">=</span> <span class="fl" style="color: #AD0000;">1.6</span>, y <span class="op" style="color: #5E5E5E;">=</span> <span class="fl" style="color: #AD0000;">0.63</span>, text <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"Data from fbref.com"</span>, showarrow <span class="op" style="color: #5E5E5E;">=</span> <span class="va" style="color: #111111;">False</span>)</span>
<span id="cb1-31"></span>
<span id="cb1-32">fig.show()</span></code></pre></div>
<div class="cell-output cell-output-display">

<div>                            <div id="8e85cbea-d71d-4182-89c8-0aff681b5011" class="plotly-graph-div" style="height:500px; width:500px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("8e85cbea-d71d-4182-89c8-0aff681b5011")) {                    Plotly.newPlot(                        "8e85cbea-d71d-4182-89c8-0aff681b5011",                        [{"hovertemplate":"Scored=%{x}<br>Allowed=%{y}<br>Abbr=%{text}<extra></extra>","legendgroup":"","marker":{"color":"#1F77B4","symbol":"circle"},"mode":"markers+text","name":"","orientation":"v","showlegend":false,"text":["POR","SEA","WAS","CHI","NYNJ","NC","HOU","ORL","LOU","KC"],"x":[1.38,1.54,1.21,1.17,1.21,1.17,1.29,1.12,0.88,0.62],"xaxis":"x","y":[0.71,1.0,1.08,1.17,0.88,0.96,1.29,1.33,1.67,1.5],"yaxis":"y","type":"scatter","textposition":"top center"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"rgb(36,36,36)"},"error_y":{"color":"rgb(36,36,36)"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"rgb(36,36,36)","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"rgb(36,36,36)"},"baxis":{"endlinecolor":"rgb(36,36,36)","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"rgb(36,36,36)"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"histogram2d"}],"histogram":[{"marker":{"line":{"color":"white","width":0.6}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"rgb(237,237,237)"},"line":{"color":"white"}},"header":{"fill":{"color":"rgb(217,217,217)"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"colorscale":{"diverging":[[0.0,"rgb(103,0,31)"],[0.1,"rgb(178,24,43)"],[0.2,"rgb(214,96,77)"],[0.3,"rgb(244,165,130)"],[0.4,"rgb(253,219,199)"],[0.5,"rgb(247,247,247)"],[0.6,"rgb(209,229,240)"],[0.7,"rgb(146,197,222)"],[0.8,"rgb(67,147,195)"],[0.9,"rgb(33,102,172)"],[1.0,"rgb(5,48,97)"]],"sequential":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"sequentialminus":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]]},"colorway":["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"],"font":{"color":"rgb(36,36,36)"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"bgcolor":"white","radialaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"yaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"zaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"}},"shapedefaults":{"fillcolor":"black","line":{"width":0},"opacity":0.3},"ternary":{"aaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"baxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"bgcolor":"white","caxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside","title":{"standoff":15},"zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"yaxis":{"automargin":true,"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside","title":{"standoff":15},"zeroline":false,"zerolinecolor":"rgb(36,36,36)"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Scored"},"range":[0.6,1.8],"nticks":7},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Allowed"},"range":[0.6,1.8],"nticks":7,"scaleanchor":"x","scaleratio":1},"legend":{"tracegroupgap":0},"title":{"text":"NWSL Goals Per Match, 2021"},"height":500,"width":500,"shapes":[{"line":{"color":"grey","dash":"dash","width":2},"opacity":1,"type":"line","x0":0,"x1":1,"xref":"x domain","y0":1.15,"y1":1.15,"yref":"y"},{"line":{"color":"grey","dash":"dash","width":2},"opacity":1,"type":"line","x0":1.15,"x1":1.15,"xref":"x","y0":0,"y1":1,"yref":"y domain"}],"annotations":[{"showarrow":false,"text":"Data from fbref.com","x":1.6,"y":0.63}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('8e85cbea-d71d-4182-89c8-0aff681b5011');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>For the most part teams weren’t really good at one end and not the other. The closest any team came to that is Houston, which is above average on offense and below average on defense. For the most part though, offensive and defensive skill go together.</p>
<p>We’d expect average goals to matter a lot, but soccer is a pretty high variance sport, so I also wanted to know how well goal differential predicted results. Here results are the points that determine standings (3 pts for a win, 1 for a draw, 0 for a loss).</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1">fig <span class="op" style="color: #5E5E5E;">=</span> px.scatter(df, </span>
<span id="cb2-2">                 x<span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"GD"</span>, </span>
<span id="cb2-3">                 y <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"Pts"</span>,</span>
<span id="cb2-4">                 trendline<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'ols'</span>,</span>
<span id="cb2-5">                 labels <span class="op" style="color: #5E5E5E;">=</span> <span class="bu" style="color: null;">dict</span>(GD <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"Goal Differential"</span>, Pts <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"Points"</span>),</span>
<span id="cb2-6">                 template <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'simple_white'</span>,</span>
<span id="cb2-7">                 title <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"NWSL Goals and Results, 2021"</span>,</span>
<span id="cb2-8">                 text <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'Abbr'</span></span>
<span id="cb2-9">                 )</span>
<span id="cb2-10"></span>
<span id="cb2-11">fig <span class="op" style="color: #5E5E5E;">=</span> fig.update_traces(textposition <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'top center'</span>)      </span>
<span id="cb2-12"></span>
<span id="cb2-13">fig.show()</span></code></pre></div>
<div class="cell-output cell-output-display">

<div>                            <div id="20d8fee0-8bb6-4172-a2d1-486ab7773e8e" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("20d8fee0-8bb6-4172-a2d1-486ab7773e8e")) {                    Plotly.newPlot(                        "20d8fee0-8bb6-4172-a2d1-486ab7773e8e",                        [{"hovertemplate":"Goal Differential=%{x}<br>Points=%{y}<br>Abbr=%{text}<extra></extra>","legendgroup":"","marker":{"color":"#1F77B4","symbol":"circle"},"mode":"markers+text","name":"","orientation":"v","showlegend":false,"text":["POR","SEA","WAS","CHI","NYNJ","NC","HOU","ORL","LOU","KC"],"x":[16,13,3,0,8,5,0,-5,-19,-21],"xaxis":"x","y":[44,42,39,38,35,33,32,28,22,16],"yaxis":"y","type":"scatter","textposition":"top center"},{"hovertemplate":"<b>OLS trendline</b><br>Pts = 0.68 * GD + 32.9<br>R<sup>2</sup>=0.888092<br><br>Goal Differential=%{x}<br>Points=%{y} <b>(trend)</b><extra></extra>","legendgroup":"","marker":{"color":"#1F77B4","symbol":"circle"},"mode":"lines","name":"","showlegend":false,"x":[-21,-19,-5,0,0,3,5,8,13,16],"xaxis":"x","y":[18.619999999999987,19.979999999999986,29.499999999999996,32.9,32.9,34.94,36.300000000000004,38.34,41.74000000000001,43.78000000000001],"yaxis":"y","type":"scatter","textposition":"top center"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"rgb(36,36,36)"},"error_y":{"color":"rgb(36,36,36)"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"rgb(36,36,36)","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"rgb(36,36,36)"},"baxis":{"endlinecolor":"rgb(36,36,36)","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"rgb(36,36,36)"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"histogram2d"}],"histogram":[{"marker":{"line":{"color":"white","width":0.6}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"rgb(237,237,237)"},"line":{"color":"white"}},"header":{"fill":{"color":"rgb(217,217,217)"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"colorscale":{"diverging":[[0.0,"rgb(103,0,31)"],[0.1,"rgb(178,24,43)"],[0.2,"rgb(214,96,77)"],[0.3,"rgb(244,165,130)"],[0.4,"rgb(253,219,199)"],[0.5,"rgb(247,247,247)"],[0.6,"rgb(209,229,240)"],[0.7,"rgb(146,197,222)"],[0.8,"rgb(67,147,195)"],[0.9,"rgb(33,102,172)"],[1.0,"rgb(5,48,97)"]],"sequential":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"sequentialminus":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]]},"colorway":["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"],"font":{"color":"rgb(36,36,36)"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"bgcolor":"white","radialaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"yaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"zaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"}},"shapedefaults":{"fillcolor":"black","line":{"width":0},"opacity":0.3},"ternary":{"aaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"baxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"bgcolor":"white","caxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside","title":{"standoff":15},"zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"yaxis":{"automargin":true,"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside","title":{"standoff":15},"zeroline":false,"zerolinecolor":"rgb(36,36,36)"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Goal Differential"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Points"}},"legend":{"tracegroupgap":0},"title":{"text":"NWSL Goals and Results, 2021"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('20d8fee0-8bb6-4172-a2d1-486ab7773e8e');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>As we’d expect they track pretty neatly. Washington and Chicago had slightly better seasons than you’d expect from goal differential alone, but nothing wild.</p>
<section id="racing-louisville-and-homefield-advantage" class="level2">
<h2 class="anchored" data-anchor-id="racing-louisville-and-homefield-advantage">Racing Louisville and Homefield Advantage</h2>
<p>Racing Louisville is my team, so I also pulled some of their game specific data and here again started looking at goals. In this case I was curious about how much of a homefield advantage they have.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1">df2 <span class="op" style="color: #5E5E5E;">=</span> pd.read_csv(<span class="st" style="color: #20794D;">"https://raw.githubusercontent.com/natekratzer/nwsl/main/data/team/lou_games.csv"</span>)</span>
<span id="cb3-2"></span>
<span id="cb3-3">df2 <span class="op" style="color: #5E5E5E;">=</span> df2[df2[<span class="st" style="color: #20794D;">'Comp'</span>] <span class="op" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">'NWSL'</span>] <span class="co" style="color: #5E5E5E;">#exclude challenge cup which is in this dataset</span></span>
<span id="cb3-4"></span>
<span id="cb3-5"><span class="co" style="color: #5E5E5E;"># Reformat to long</span></span>
<span id="cb3-6">goals_df <span class="op" style="color: #5E5E5E;">=</span> df2[[<span class="st" style="color: #20794D;">'Venue'</span>, <span class="st" style="color: #20794D;">'GF'</span>, <span class="st" style="color: #20794D;">'GA'</span>]].melt(id_vars <span class="op" style="color: #5E5E5E;">=</span> [<span class="st" style="color: #20794D;">'Venue'</span>], value_vars <span class="op" style="color: #5E5E5E;">=</span> [<span class="st" style="color: #20794D;">'GF'</span>, <span class="st" style="color: #20794D;">'GA'</span>])</span>
<span id="cb3-7"></span>
<span id="cb3-8"><span class="co" style="color: #5E5E5E;"># recode GF and GA to Scored and Allowed</span></span>
<span id="cb3-9">old_list <span class="op" style="color: #5E5E5E;">=</span> [<span class="st" style="color: #20794D;">'GF'</span>, <span class="st" style="color: #20794D;">'GA'</span>]</span>
<span id="cb3-10">new_list <span class="op" style="color: #5E5E5E;">=</span> [<span class="st" style="color: #20794D;">'Scored'</span>, <span class="st" style="color: #20794D;">'Allowed'</span>]</span>
<span id="cb3-11">goals_df[<span class="st" style="color: #20794D;">'variable'</span>] <span class="op" style="color: #5E5E5E;">=</span> goals_df[<span class="st" style="color: #20794D;">'variable'</span>].replace(old_list, new_list)</span>
<span id="cb3-12"></span>
<span id="cb3-13"><span class="co" style="color: #5E5E5E;"># Group by and summarize into new dataframe</span></span>
<span id="cb3-14">grouped_df <span class="op" style="color: #5E5E5E;">=</span> (goals_df.groupby([<span class="st" style="color: #20794D;">'Venue'</span>, <span class="st" style="color: #20794D;">'variable'</span>])[<span class="st" style="color: #20794D;">'value'</span>]</span>
<span id="cb3-15">                      .mean()</span>
<span id="cb3-16">                      .to_frame(name<span class="op" style="color: #5E5E5E;">=</span><span class="st" style="color: #20794D;">'Goals'</span>)</span>
<span id="cb3-17">                      .reset_index())</span>
<span id="cb3-18">                      </span>
<span id="cb3-19"><span class="co" style="color: #5E5E5E;"># Visualize</span></span>
<span id="cb3-20">fig <span class="op" style="color: #5E5E5E;">=</span> px.bar(grouped_df,</span>
<span id="cb3-21">             x <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'variable'</span>,</span>
<span id="cb3-22">             y <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'Goals'</span>,</span>
<span id="cb3-23">             color <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'variable'</span>,</span>
<span id="cb3-24">             facet_col <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'Venue'</span>,</span>
<span id="cb3-25">             labels <span class="op" style="color: #5E5E5E;">=</span> <span class="bu" style="color: null;">dict</span>(variable <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'Allowed/Scored'</span>, Goals <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'Goals Per Match'</span>),</span>
<span id="cb3-26">             template <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'simple_white'</span>,</span>
<span id="cb3-27">             title <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"Racing Louisville Struggles with Defense on the Road"</span>)</span>
<span id="cb3-28"></span>
<span id="cb3-29">fig.show()</span></code></pre></div>
<div class="cell-output cell-output-display">

<div>                            <div id="558ecc6d-479d-48cc-82fb-8fdb5f0d6871" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("558ecc6d-479d-48cc-82fb-8fdb5f0d6871")) {                    Plotly.newPlot(                        "558ecc6d-479d-48cc-82fb-8fdb5f0d6871",                        [{"alignmentgroup":"True","hovertemplate":"Allowed/Scored=%{x}<br>Venue=Away<br>Goals Per Match=%{y}<extra></extra>","legendgroup":"Allowed","marker":{"color":"#1F77B4","pattern":{"shape":""}},"name":"Allowed","offsetgroup":"Allowed","orientation":"v","showlegend":true,"textposition":"auto","x":["Allowed"],"xaxis":"x","y":[2.0833333333333335],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"Allowed/Scored=%{x}<br>Venue=Home<br>Goals Per Match=%{y}<extra></extra>","legendgroup":"Allowed","marker":{"color":"#1F77B4","pattern":{"shape":""}},"name":"Allowed","offsetgroup":"Allowed","orientation":"v","showlegend":false,"textposition":"auto","x":["Allowed"],"xaxis":"x2","y":[1.25],"yaxis":"y2","type":"bar"},{"alignmentgroup":"True","hovertemplate":"Allowed/Scored=%{x}<br>Venue=Away<br>Goals Per Match=%{y}<extra></extra>","legendgroup":"Scored","marker":{"color":"#FF7F0E","pattern":{"shape":""}},"name":"Scored","offsetgroup":"Scored","orientation":"v","showlegend":true,"textposition":"auto","x":["Scored"],"xaxis":"x","y":[0.75],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"Allowed/Scored=%{x}<br>Venue=Home<br>Goals Per Match=%{y}<extra></extra>","legendgroup":"Scored","marker":{"color":"#FF7F0E","pattern":{"shape":""}},"name":"Scored","offsetgroup":"Scored","orientation":"v","showlegend":false,"textposition":"auto","x":["Scored"],"xaxis":"x2","y":[1.0],"yaxis":"y2","type":"bar"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"rgb(36,36,36)"},"error_y":{"color":"rgb(36,36,36)"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"rgb(36,36,36)","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"rgb(36,36,36)"},"baxis":{"endlinecolor":"rgb(36,36,36)","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"rgb(36,36,36)"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"histogram2d"}],"histogram":[{"marker":{"line":{"color":"white","width":0.6}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"rgb(237,237,237)"},"line":{"color":"white"}},"header":{"fill":{"color":"rgb(217,217,217)"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"colorscale":{"diverging":[[0.0,"rgb(103,0,31)"],[0.1,"rgb(178,24,43)"],[0.2,"rgb(214,96,77)"],[0.3,"rgb(244,165,130)"],[0.4,"rgb(253,219,199)"],[0.5,"rgb(247,247,247)"],[0.6,"rgb(209,229,240)"],[0.7,"rgb(146,197,222)"],[0.8,"rgb(67,147,195)"],[0.9,"rgb(33,102,172)"],[1.0,"rgb(5,48,97)"]],"sequential":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"sequentialminus":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]]},"colorway":["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"],"font":{"color":"rgb(36,36,36)"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"bgcolor":"white","radialaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"yaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"zaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"}},"shapedefaults":{"fillcolor":"black","line":{"width":0},"opacity":0.3},"ternary":{"aaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"baxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"bgcolor":"white","caxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside","title":{"standoff":15},"zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"yaxis":{"automargin":true,"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside","title":{"standoff":15},"zeroline":false,"zerolinecolor":"rgb(36,36,36)"}}},"xaxis":{"anchor":"y","domain":[0.0,0.49],"title":{"text":"Allowed/Scored"},"categoryorder":"array","categoryarray":["Allowed","Scored"]},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Goals Per Match"}},"xaxis2":{"anchor":"y2","domain":[0.51,1.0],"matches":"x","title":{"text":"Allowed/Scored"},"categoryorder":"array","categoryarray":["Allowed","Scored"]},"yaxis2":{"anchor":"x2","domain":[0.0,1.0],"matches":"y","showticklabels":false},"annotations":[{"font":{},"showarrow":false,"text":"Venue=Away","x":0.245,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{},"showarrow":false,"text":"Venue=Home","x":0.755,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"}],"legend":{"title":{"text":"Allowed/Scored"},"tracegroupgap":0},"title":{"text":"Racing Louisville Struggles with Defense on the Road"},"barmode":"relative"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('558ecc6d-479d-48cc-82fb-8fdb5f0d6871');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>Here we do see a clear offense/defense distinction, which is that Louisville’s defense collapses during road games. The offense is slightly worse (0.75 goals per match compared to 1.0 at home), but the defense gives up over 2 goals a game on average during away matches.</p>
<p>Not surprisingly, Louisville also wound up with a much worse away record (1-3-8) than home record (4-4-4)</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1">record_df <span class="op" style="color: #5E5E5E;">=</span> (df2.groupby([<span class="st" style="color: #20794D;">'Venue'</span>, <span class="st" style="color: #20794D;">'Result'</span>])[<span class="st" style="color: #20794D;">'Date'</span>]</span>
<span id="cb4-2">                .count()</span>
<span id="cb4-3">                .to_frame(name <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'Matches'</span>)</span>
<span id="cb4-4">                .reset_index())</span>
<span id="cb4-5"></span>
<span id="cb4-6">fig <span class="op" style="color: #5E5E5E;">=</span> px.bar(record_df,</span>
<span id="cb4-7">             x <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'Result'</span>,</span>
<span id="cb4-8">             y <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'Matches'</span>,</span>
<span id="cb4-9">             color <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'Result'</span>,</span>
<span id="cb4-10">             facet_col <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'Venue'</span>,</span>
<span id="cb4-11">             <span class="co" style="color: #5E5E5E;">#labels = dict(variable = 'Allowed/Scored', Goals = 'Goals Per Match'),</span></span>
<span id="cb4-12">             template <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">'simple_white'</span>,</span>
<span id="cb4-13">             title <span class="op" style="color: #5E5E5E;">=</span> <span class="st" style="color: #20794D;">"Racing Louisville is Much Better at Home"</span>)</span>
<span id="cb4-14"></span>
<span id="cb4-15">fig.show()</span></code></pre></div>
<div class="cell-output cell-output-display">

<div>                            <div id="d721dd98-8e55-44e9-9f40-1b1ce8356483" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("d721dd98-8e55-44e9-9f40-1b1ce8356483")) {                    Plotly.newPlot(                        "d721dd98-8e55-44e9-9f40-1b1ce8356483",                        [{"alignmentgroup":"True","hovertemplate":"Result=%{x}<br>Venue=Away<br>Matches=%{y}<extra></extra>","legendgroup":"D","marker":{"color":"#1F77B4","pattern":{"shape":""}},"name":"D","offsetgroup":"D","orientation":"v","showlegend":true,"textposition":"auto","x":["D"],"xaxis":"x","y":[3],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"Result=%{x}<br>Venue=Home<br>Matches=%{y}<extra></extra>","legendgroup":"D","marker":{"color":"#1F77B4","pattern":{"shape":""}},"name":"D","offsetgroup":"D","orientation":"v","showlegend":false,"textposition":"auto","x":["D"],"xaxis":"x2","y":[4],"yaxis":"y2","type":"bar"},{"alignmentgroup":"True","hovertemplate":"Result=%{x}<br>Venue=Away<br>Matches=%{y}<extra></extra>","legendgroup":"L","marker":{"color":"#FF7F0E","pattern":{"shape":""}},"name":"L","offsetgroup":"L","orientation":"v","showlegend":true,"textposition":"auto","x":["L"],"xaxis":"x","y":[8],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"Result=%{x}<br>Venue=Home<br>Matches=%{y}<extra></extra>","legendgroup":"L","marker":{"color":"#FF7F0E","pattern":{"shape":""}},"name":"L","offsetgroup":"L","orientation":"v","showlegend":false,"textposition":"auto","x":["L"],"xaxis":"x2","y":[4],"yaxis":"y2","type":"bar"},{"alignmentgroup":"True","hovertemplate":"Result=%{x}<br>Venue=Away<br>Matches=%{y}<extra></extra>","legendgroup":"W","marker":{"color":"#2CA02C","pattern":{"shape":""}},"name":"W","offsetgroup":"W","orientation":"v","showlegend":true,"textposition":"auto","x":["W"],"xaxis":"x","y":[1],"yaxis":"y","type":"bar"},{"alignmentgroup":"True","hovertemplate":"Result=%{x}<br>Venue=Home<br>Matches=%{y}<extra></extra>","legendgroup":"W","marker":{"color":"#2CA02C","pattern":{"shape":""}},"name":"W","offsetgroup":"W","orientation":"v","showlegend":false,"textposition":"auto","x":["W"],"xaxis":"x2","y":[4],"yaxis":"y2","type":"bar"}],                        {"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"rgb(36,36,36)"},"error_y":{"color":"rgb(36,36,36)"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"rgb(36,36,36)","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"rgb(36,36,36)"},"baxis":{"endlinecolor":"rgb(36,36,36)","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"rgb(36,36,36)"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"contour"}],"heatmapgl":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"heatmapgl"}],"heatmap":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"histogram2d"}],"histogram":[{"marker":{"line":{"color":"white","width":0.6}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scattermapbox"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"rgb(237,237,237)"},"line":{"color":"white"}},"header":{"fill":{"color":"rgb(217,217,217)"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":1,"tickcolor":"rgb(36,36,36)","ticks":"outside"}},"colorscale":{"diverging":[[0.0,"rgb(103,0,31)"],[0.1,"rgb(178,24,43)"],[0.2,"rgb(214,96,77)"],[0.3,"rgb(244,165,130)"],[0.4,"rgb(253,219,199)"],[0.5,"rgb(247,247,247)"],[0.6,"rgb(209,229,240)"],[0.7,"rgb(146,197,222)"],[0.8,"rgb(67,147,195)"],[0.9,"rgb(33,102,172)"],[1.0,"rgb(5,48,97)"]],"sequential":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]],"sequentialminus":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]]},"colorway":["#1F77B4","#FF7F0E","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"],"font":{"color":"rgb(36,36,36)"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"white"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"bgcolor":"white","radialaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"yaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"zaxis":{"backgroundcolor":"white","gridcolor":"rgb(232,232,232)","gridwidth":2,"linecolor":"rgb(36,36,36)","showbackground":true,"showgrid":false,"showline":true,"ticks":"outside","zeroline":false,"zerolinecolor":"rgb(36,36,36)"}},"shapedefaults":{"fillcolor":"black","line":{"width":0},"opacity":0.3},"ternary":{"aaxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"baxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"},"bgcolor":"white","caxis":{"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside"}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside","title":{"standoff":15},"zeroline":false,"zerolinecolor":"rgb(36,36,36)"},"yaxis":{"automargin":true,"gridcolor":"rgb(232,232,232)","linecolor":"rgb(36,36,36)","showgrid":false,"showline":true,"ticks":"outside","title":{"standoff":15},"zeroline":false,"zerolinecolor":"rgb(36,36,36)"}}},"xaxis":{"anchor":"y","domain":[0.0,0.49],"title":{"text":"Result"},"categoryorder":"array","categoryarray":["D","L","W"]},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Matches"}},"xaxis2":{"anchor":"y2","domain":[0.51,1.0],"matches":"x","title":{"text":"Result"},"categoryorder":"array","categoryarray":["D","L","W"]},"yaxis2":{"anchor":"x2","domain":[0.0,1.0],"matches":"y","showticklabels":false},"annotations":[{"font":{},"showarrow":false,"text":"Venue=Away","x":0.245,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{},"showarrow":false,"text":"Venue=Home","x":0.755,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"}],"legend":{"title":{"text":"Result"},"tracegroupgap":0},"title":{"text":"Racing Louisville is Much Better at Home"},"barmode":"relative"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('d721dd98-8e55-44e9-9f40-1b1ce8356483');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>


</section>

 ]]></description>
  <category>Python</category>
  <category>Sports</category>
  <category>Data Viz</category>
  <guid>https://www.natekratzer.com/posts/racing_lou_season1/index.html</guid>
  <pubDate>Fri, 18 Mar 2022 04:00:00 GMT</pubDate>
  <media:content url="https://www.natekratzer.com/posts/racing_lou_season1/featured.png" medium="image" type="image/png" height="144" width="144"/>
</item>
<item>
  <title>How to Use Census Microdata to Analyze High Speed Internet in Kentucky</title>
  <link>https://www.natekratzer.com/posts/census_internet_microdata/index.html</link>
  <description><![CDATA[ 



<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>This post is a start to finish descriptive analysis of high speed internet access in Kentucky, including tables, graphs, and maps. All of the detail of cleaning the data and iterating while exploring the data is included. This makes for a rather lengthy post, but it also makes it relatively unique in including all of those steps. We go through five attempts at making a table of high speed internet before finally getting it right! There’s quite a bit of cleaning work and then also a detour into calculating standard errors via bootstrap so we can correctly display uncertainty in our visuals.</p>
<p>Census microdata is individual level data provided by the census. Most references to census data refer to tables the census bureau has already made out of their surveys, but the mostly raw survey data is available at the individual level, and that’s what we’ll use for this analysis. While the focus is on the census data, I do show the code used for analysis. I did decide to hide the code used to make all the tables (it gets rather lengthy), but you can see that code <a href="https://github.com/natekratzer/personal_site/blob/master/content/post/internet_census_microdata/index.Rmd">on Github</a> if interested.</p>
</section>
<section id="getting-the-data" class="level1">
<h1>Getting the Data</h1>
<p>The easiest way to get census microdata is through the Integrated Public Use Microdata Series (IPUMS) hosted by the University of Minnesota. While you can get the data directly from the Census Bureau, IPUMS has made it much easier to compare across multiple years and to select the variables you want. IPUMS also provides a codebook that is easy to refer to and notes any important changes from year to year.</p>
<p>I’ve put the data for just Kentucky up on GitHub, so I’ll read it in from there.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;">library</span>(tidyverse) <span class="co" style="color: #5E5E5E;">#data manipulation</span></span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;">library</span>(gt) <span class="co" style="color: #5E5E5E;">#formatting tables for display</span></span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;">library</span>(survey) <span class="co" style="color: #5E5E5E;">#survey data</span></span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;">library</span>(rgdal) <span class="co" style="color: #5E5E5E;">#shapefiles for maps</span></span>
<span id="cb1-5"><span class="fu" style="color: #4758AB;">library</span>(sf) <span class="co" style="color: #5E5E5E;">#maps</span></span>
<span id="cb1-6"></span>
<span id="cb1-7">df <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">read_csv</span>(<span class="st" style="color: #20794D;">"https://raw.github.com/natekratzer/raw_data/master/ky_high_speed_internet.csv"</span>)</span></code></pre></div>
</div>
</section>
<section id="cleaning-the-data" class="level1">
<h1>Cleaning the Data</h1>
<p>When downloading the data it’s all numeric, even for variables that are categorial - they’ve been coded and our first step in the analysis will be using the code book to translate them. I won’t show all the codebooks, but for this first variable let’s take a look at what IPUMS has to say. For all years NA is coded as 00 and No high speed internet is coded as 20. Prior to 2016 there are detailed codes for the type of internet access, while for 2016 and after the code is collapsed.</p>
<p><img src="https://www.natekratzer.com/posts/census_internet_microdata/high_speed_code.png" class="img-fluid"></p>
<p>I’ll use a <code>case_when()</code> statement to recode high speed interent access into a categorical variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><span class="co" style="color: #5E5E5E;"># High Speed Internet</span></span>
<span id="cb2-2">df <span class="ot" style="color: #003B4F;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb2-3">  <span class="fu" style="color: #4758AB;">mutate</span>(</span>
<span id="cb2-4">    <span class="at" style="color: #657422;">hspd_int =</span> <span class="fu" style="color: #4758AB;">case_when</span>(</span>
<span id="cb2-5">      CIHISPEED <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">00</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="cn" style="color: #8f5902;">NA_character_</span>,</span>
<span id="cb2-6">      CIHISPEED <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">20</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"No"</span>,</span>
<span id="cb2-7">      CIHISPEED <span class="sc" style="color: #5E5E5E;">&gt;=</span> <span class="dv" style="color: #AD0000;">10</span> <span class="sc" style="color: #5E5E5E;">&amp;</span> CIHISPEED <span class="sc" style="color: #5E5E5E;">&lt;</span> <span class="dv" style="color: #AD0000;">20</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"Yes"</span>,</span>
<span id="cb2-8">      <span class="cn" style="color: #8f5902;">TRUE</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="cn" style="color: #8f5902;">NA_character_</span></span>
<span id="cb2-9">    )</span>
<span id="cb2-10">  )</span></code></pre></div>
</div>
<section id="getting-wrong-answers-by-not-knowing-the-data" class="level2">
<h2 class="anchored" data-anchor-id="getting-wrong-answers-by-not-knowing-the-data">Getting wrong answers by not knowing the data</h2>
<p>Now that we have a high speed internet category we can group the data and count up how many responses are in each group. I’ll also pivot the dataframe to make it easy to calculate percent with high speed internet.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="co" style="color: #5E5E5E;"># Count numbers with and without high speed internet</span></span>
<span id="cb3-2">df_group <span class="ot" style="color: #003B4F;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb3-3">  <span class="fu" style="color: #4758AB;">group_by</span>(hspd_int, YEAR) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb3-4">  <span class="fu" style="color: #4758AB;">summarize</span>(<span class="at" style="color: #657422;">count =</span> <span class="fu" style="color: #4758AB;">n</span>(), <span class="at" style="color: #657422;">.groups =</span> <span class="st" style="color: #20794D;">"drop"</span>)</span>
<span id="cb3-5"></span>
<span id="cb3-6"><span class="co" style="color: #5E5E5E;"># Pivot for easier percent calculations</span></span>
<span id="cb3-7">df_wide <span class="ot" style="color: #003B4F;">&lt;-</span> df_group  <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb3-8">  <span class="fu" style="color: #4758AB;">pivot_wider</span>(<span class="at" style="color: #657422;">id_cols =</span> YEAR,</span>
<span id="cb3-9">              <span class="at" style="color: #657422;">names_from =</span> hspd_int,</span>
<span id="cb3-10">              <span class="at" style="color: #657422;">values_from =</span> count) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb3-11">  <span class="fu" style="color: #4758AB;">mutate</span>(</span>
<span id="cb3-12">    <span class="at" style="color: #657422;">percent_hspd =</span> (Yes <span class="sc" style="color: #5E5E5E;">/</span> (Yes <span class="sc" style="color: #5E5E5E;">+</span> No)),</span>
<span id="cb3-13">    <span class="at" style="color: #657422;">percent_no =</span> <span class="dv" style="color: #AD0000;">1</span> <span class="sc" style="color: #5E5E5E;">-</span> percent_hspd,</span>
<span id="cb3-14">    <span class="at" style="color: #657422;">percent_NA =</span> (<span class="st" style="color: #20794D;">`</span><span class="at" style="color: #657422;">NA</span><span class="st" style="color: #20794D;">`</span> <span class="sc" style="color: #5E5E5E;">/</span> (Yes <span class="sc" style="color: #5E5E5E;">+</span> No <span class="sc" style="color: #5E5E5E;">+</span> <span class="st" style="color: #20794D;">`</span><span class="at" style="color: #657422;">NA</span><span class="st" style="color: #20794D;">`</span>))</span>
<span id="cb3-15">  ) </span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">

<div id="ovpuxxmeoj" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#ovpuxxmeoj) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 50%;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #D3D3D3;
  border-right-style: solid;
  border-right-width: 3px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #D3D3D3;
  border-left-style: solid;
  border-left-width: 3px;
  border-left-color: #D3D3D3;
}

:where(#ovpuxxmeoj) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#ovpuxxmeoj) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#ovpuxxmeoj) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#ovpuxxmeoj) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#ovpuxxmeoj) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ovpuxxmeoj) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#ovpuxxmeoj) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#ovpuxxmeoj) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#ovpuxxmeoj) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#ovpuxxmeoj) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#ovpuxxmeoj) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#ovpuxxmeoj) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#ovpuxxmeoj) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#ovpuxxmeoj) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#ovpuxxmeoj) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#ovpuxxmeoj) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#ovpuxxmeoj) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ovpuxxmeoj) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#ovpuxxmeoj) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#ovpuxxmeoj) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ovpuxxmeoj) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#ovpuxxmeoj) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#ovpuxxmeoj) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ovpuxxmeoj) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ovpuxxmeoj) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#ovpuxxmeoj) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#ovpuxxmeoj) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ovpuxxmeoj) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#ovpuxxmeoj) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ovpuxxmeoj) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#ovpuxxmeoj) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ovpuxxmeoj) .gt_left {
  text-align: left;
}

:where(#ovpuxxmeoj) .gt_center {
  text-align: center;
}

:where(#ovpuxxmeoj) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#ovpuxxmeoj) .gt_font_normal {
  font-weight: normal;
}

:where(#ovpuxxmeoj) .gt_font_bold {
  font-weight: bold;
}

:where(#ovpuxxmeoj) .gt_font_italic {
  font-style: italic;
}

:where(#ovpuxxmeoj) .gt_super {
  font-size: 65%;
}

:where(#ovpuxxmeoj) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#ovpuxxmeoj) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#ovpuxxmeoj) .gt_indent_1 {
  text-indent: 5px;
}

:where(#ovpuxxmeoj) .gt_indent_2 {
  text-indent: 10px;
}

:where(#ovpuxxmeoj) .gt_indent_3 {
  text-indent: 15px;
}

:where(#ovpuxxmeoj) .gt_indent_4 {
  text-indent: 20px;
}

:where(#ovpuxxmeoj) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  <thead class="gt_header">
    <tr>
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style="">Table 1: Quick Analysis</td>
    </tr>
    <tr>
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="">These results are wrong!</td>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="2" colspan="1" scope="col" id="Year">Year</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Percent">
        <span class="gt_column_spanner">Percent</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Number of People">
        <span class="gt_column_spanner">Number of People</span>
      </th>
    </tr>
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Yes">Yes</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="No">No</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NA">NA</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Yes">Yes</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="No">No</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NA">NA</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="YEAR" class="gt_row gt_center">2013</td>
<td headers="percent_hspd" class="gt_row gt_center">87%</td>
<td headers="percent_no" class="gt_row gt_center">13%</td>
<td headers="percent_NA" class="gt_row gt_center">28%</td>
<td headers="Yes" class="gt_row gt_center">28.3K</td>
<td headers="No" class="gt_row gt_center">4.27K</td>
<td headers="NA" class="gt_row gt_center">12.4K</td></tr>
    <tr><td headers="YEAR" class="gt_row gt_center gt_striped">2014</td>
<td headers="percent_hspd" class="gt_row gt_center gt_striped">86%</td>
<td headers="percent_no" class="gt_row gt_center gt_striped">14%</td>
<td headers="percent_NA" class="gt_row gt_center gt_striped">27%</td>
<td headers="Yes" class="gt_row gt_center gt_striped">28.1K</td>
<td headers="No" class="gt_row gt_center gt_striped">4.70K</td>
<td headers="NA" class="gt_row gt_center gt_striped">12.1K</td></tr>
    <tr><td headers="YEAR" class="gt_row gt_center">2015</td>
<td headers="percent_hspd" class="gt_row gt_center">86%</td>
<td headers="percent_no" class="gt_row gt_center">14%</td>
<td headers="percent_NA" class="gt_row gt_center">26%</td>
<td headers="Yes" class="gt_row gt_center">28.7K</td>
<td headers="No" class="gt_row gt_center">4.52K</td>
<td headers="NA" class="gt_row gt_center">11.5K</td></tr>
    <tr><td headers="YEAR" class="gt_row gt_center gt_striped">2016</td>
<td headers="percent_hspd" class="gt_row gt_center gt_striped">82%</td>
<td headers="percent_no" class="gt_row gt_center gt_striped">18%</td>
<td headers="percent_NA" class="gt_row gt_center gt_striped">20%</td>
<td headers="Yes" class="gt_row gt_center gt_striped">29.2K</td>
<td headers="No" class="gt_row gt_center gt_striped">6.49K</td>
<td headers="NA" class="gt_row gt_center gt_striped">9.02K</td></tr>
    <tr><td headers="YEAR" class="gt_row gt_center">2017</td>
<td headers="percent_hspd" class="gt_row gt_center">81%</td>
<td headers="percent_no" class="gt_row gt_center">19%</td>
<td headers="percent_NA" class="gt_row gt_center">19%</td>
<td headers="Yes" class="gt_row gt_center">29.4K</td>
<td headers="No" class="gt_row gt_center">7.08K</td>
<td headers="NA" class="gt_row gt_center">8.77K</td></tr>
    <tr><td headers="YEAR" class="gt_row gt_center gt_striped">2018</td>
<td headers="percent_hspd" class="gt_row gt_center gt_striped">80%</td>
<td headers="percent_no" class="gt_row gt_center gt_striped">20%</td>
<td headers="percent_NA" class="gt_row gt_center gt_striped">17%</td>
<td headers="Yes" class="gt_row gt_center gt_striped">30.3K</td>
<td headers="No" class="gt_row gt_center gt_striped">7.35K</td>
<td headers="NA" class="gt_row gt_center gt_striped">7.86K</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="7">Yes and No percentages are calculated out of those who answered to represent the results an analyst might get if they ignored NA values. NA is calculated separately based on all the data.</td>
    </tr>
    <tr>
      <td class="gt_sourcenote" colspan="7">Source: Author's incorrect analysis of IPUMS data. Used as an example of a mistake to avoid.</td>
    </tr>
  </tfoot>
  
</table>
</div>
</div>
</div>
<p>This table is actually wrong for multiple reasons, but the first one we’ll take care of is the failure to use weights. Survey data is often weighted to make it representative of the population. The census bureau provides a <code>PERWT</code> variable that should be used as the weight for each person in the file. There’s also a <code>HHWT</code> variable for household level analysis. We’ll stick with weighting the data by the number of people. One of the really nice features of the <code>PERWT</code> variable is that it sums to the population. That means our tables can show both an overall number of people and the percentage of people.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="co" style="color: #5E5E5E;"># Count numbers with and without high speed internet</span></span>
<span id="cb4-2">df_group <span class="ot" style="color: #003B4F;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb4-3">  <span class="fu" style="color: #4758AB;">group_by</span>(hspd_int, YEAR) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb4-4">  <span class="fu" style="color: #4758AB;">summarize</span>(<span class="at" style="color: #657422;">count =</span> <span class="fu" style="color: #4758AB;">sum</span>(PERWT), <span class="at" style="color: #657422;">.groups =</span> <span class="st" style="color: #20794D;">"drop"</span>)</span>
<span id="cb4-5"></span>
<span id="cb4-6"><span class="co" style="color: #5E5E5E;"># Pivot for easier percent calculations</span></span>
<span id="cb4-7">df_wide <span class="ot" style="color: #003B4F;">&lt;-</span> df_group  <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb4-8">  <span class="fu" style="color: #4758AB;">pivot_wider</span>(<span class="at" style="color: #657422;">id_cols =</span> YEAR,</span>
<span id="cb4-9">              <span class="at" style="color: #657422;">names_from =</span> hspd_int,</span>
<span id="cb4-10">              <span class="at" style="color: #657422;">values_from =</span> count) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb4-11">  <span class="fu" style="color: #4758AB;">mutate</span>(</span>
<span id="cb4-12">    <span class="at" style="color: #657422;">percent_hspd =</span> (Yes <span class="sc" style="color: #5E5E5E;">/</span> (Yes <span class="sc" style="color: #5E5E5E;">+</span> No)),</span>
<span id="cb4-13">    <span class="at" style="color: #657422;">percent_no =</span> <span class="dv" style="color: #AD0000;">1</span> <span class="sc" style="color: #5E5E5E;">-</span> percent_hspd,</span>
<span id="cb4-14">    <span class="at" style="color: #657422;">percent_NA =</span> (<span class="st" style="color: #20794D;">`</span><span class="at" style="color: #657422;">NA</span><span class="st" style="color: #20794D;">`</span> <span class="sc" style="color: #5E5E5E;">/</span> (Yes <span class="sc" style="color: #5E5E5E;">+</span> No <span class="sc" style="color: #5E5E5E;">+</span> <span class="st" style="color: #20794D;">`</span><span class="at" style="color: #657422;">NA</span><span class="st" style="color: #20794D;">`</span>))</span>
<span id="cb4-15">  )</span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">

<div id="gaddlmfvkd" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#gaddlmfvkd) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 50%;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #D3D3D3;
  border-right-style: solid;
  border-right-width: 3px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #D3D3D3;
  border-left-style: solid;
  border-left-width: 3px;
  border-left-color: #D3D3D3;
}

:where(#gaddlmfvkd) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#gaddlmfvkd) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#gaddlmfvkd) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#gaddlmfvkd) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#gaddlmfvkd) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#gaddlmfvkd) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#gaddlmfvkd) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#gaddlmfvkd) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#gaddlmfvkd) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#gaddlmfvkd) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#gaddlmfvkd) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#gaddlmfvkd) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#gaddlmfvkd) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#gaddlmfvkd) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#gaddlmfvkd) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#gaddlmfvkd) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#gaddlmfvkd) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#gaddlmfvkd) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#gaddlmfvkd) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#gaddlmfvkd) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#gaddlmfvkd) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#gaddlmfvkd) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#gaddlmfvkd) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#gaddlmfvkd) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#gaddlmfvkd) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#gaddlmfvkd) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#gaddlmfvkd) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#gaddlmfvkd) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#gaddlmfvkd) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#gaddlmfvkd) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#gaddlmfvkd) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#gaddlmfvkd) .gt_left {
  text-align: left;
}

:where(#gaddlmfvkd) .gt_center {
  text-align: center;
}

:where(#gaddlmfvkd) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#gaddlmfvkd) .gt_font_normal {
  font-weight: normal;
}

:where(#gaddlmfvkd) .gt_font_bold {
  font-weight: bold;
}

:where(#gaddlmfvkd) .gt_font_italic {
  font-style: italic;
}

:where(#gaddlmfvkd) .gt_super {
  font-size: 65%;
}

:where(#gaddlmfvkd) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#gaddlmfvkd) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#gaddlmfvkd) .gt_indent_1 {
  text-indent: 5px;
}

:where(#gaddlmfvkd) .gt_indent_2 {
  text-indent: 10px;
}

:where(#gaddlmfvkd) .gt_indent_3 {
  text-indent: 15px;
}

:where(#gaddlmfvkd) .gt_indent_4 {
  text-indent: 20px;
}

:where(#gaddlmfvkd) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  <thead class="gt_header">
    <tr>
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style="">Table 2: Quick Analysis with Weights</td>
    </tr>
    <tr>
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="">These results are still wrong!</td>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="2" colspan="1" scope="col" id="Year">Year</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Percent">
        <span class="gt_column_spanner">Percent</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Number of People">
        <span class="gt_column_spanner">Number of People</span>
      </th>
    </tr>
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Yes">Yes</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="No">No</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NA">NA</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Yes">Yes</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="No">No</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NA">NA</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="YEAR" class="gt_row gt_center">2013</td>
<td headers="percent_hspd" class="gt_row gt_center">86%</td>
<td headers="percent_no" class="gt_row gt_center">14%</td>
<td headers="percent_NA" class="gt_row gt_center">27%</td>
<td headers="Yes" class="gt_row gt_center">2.76M</td>
<td headers="No" class="gt_row gt_center">454K</td>
<td headers="NA" class="gt_row gt_center">1.18M</td></tr>
    <tr><td headers="YEAR" class="gt_row gt_center gt_striped">2014</td>
<td headers="percent_hspd" class="gt_row gt_center gt_striped">84%</td>
<td headers="percent_no" class="gt_row gt_center gt_striped">16%</td>
<td headers="percent_NA" class="gt_row gt_center gt_striped">26%</td>
<td headers="Yes" class="gt_row gt_center gt_striped">2.74M</td>
<td headers="No" class="gt_row gt_center gt_striped">509K</td>
<td headers="NA" class="gt_row gt_center gt_striped">1.17M</td></tr>
    <tr><td headers="YEAR" class="gt_row gt_center">2015</td>
<td headers="percent_hspd" class="gt_row gt_center">86%</td>
<td headers="percent_no" class="gt_row gt_center">14%</td>
<td headers="percent_NA" class="gt_row gt_center">25%</td>
<td headers="Yes" class="gt_row gt_center">2.85M</td>
<td headers="No" class="gt_row gt_center">479K</td>
<td headers="NA" class="gt_row gt_center">1.10M</td></tr>
    <tr><td headers="YEAR" class="gt_row gt_center gt_striped">2016</td>
<td headers="percent_hspd" class="gt_row gt_center gt_striped">80%</td>
<td headers="percent_no" class="gt_row gt_center gt_striped">20%</td>
<td headers="percent_NA" class="gt_row gt_center gt_striped">19%</td>
<td headers="Yes" class="gt_row gt_center gt_striped">2.87M</td>
<td headers="No" class="gt_row gt_center gt_striped">708K</td>
<td headers="NA" class="gt_row gt_center gt_striped">855K</td></tr>
    <tr><td headers="YEAR" class="gt_row gt_center">2017</td>
<td headers="percent_hspd" class="gt_row gt_center">80%</td>
<td headers="percent_no" class="gt_row gt_center">20%</td>
<td headers="percent_NA" class="gt_row gt_center">18%</td>
<td headers="Yes" class="gt_row gt_center">2.90M</td>
<td headers="No" class="gt_row gt_center">735K</td>
<td headers="NA" class="gt_row gt_center">817K</td></tr>
    <tr><td headers="YEAR" class="gt_row gt_center gt_striped">2018</td>
<td headers="percent_hspd" class="gt_row gt_center gt_striped">79%</td>
<td headers="percent_no" class="gt_row gt_center gt_striped">21%</td>
<td headers="percent_NA" class="gt_row gt_center gt_striped">16%</td>
<td headers="Yes" class="gt_row gt_center gt_striped">2.97M</td>
<td headers="No" class="gt_row gt_center gt_striped">790K</td>
<td headers="NA" class="gt_row gt_center gt_striped">709K</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="7">Yes and No percentages are calculated out of those who answered to represent the results an analyst might get if they ignored NA values. NA is calculated separately based on all the data.</td>
    </tr>
    <tr>
      <td class="gt_sourcenote" colspan="7">Source: Author's incorrect analysis of IPUMS data. Used as an example of a mistake to avoid.</td>
    </tr>
  </tfoot>
  
</table>
</div>
</div>
</div>
<p>This is better. The second problem is harder to spot. There are 3 hints in the data:</p>
<ol type="1">
<li>There is a very high percentage of NA responses. There are more NA answers than there are people who say they don’t have high speed access.</li>
<li>Percent of of people with high speed access is going down over time, which isn’t what I’d expect to see. That doesn’t mean it’s wrong - sometimes the data shows high level trends we don’t expect. However, it’s always worth a second look when you get a counterintuitive result.</li>
<li>These numbers look very high for Kentucky.</li>
</ol>
<p>A sensible guess is that people who say they don’t have internet access at all aren’t then asked about high speed internet and show up as an NA value when we want to code them as not having high speed interent.</p>
<p>So let’s get to know the data a bit better by adding in internet access. We’ll do the same analysis, but I’ll add internet as another id variable just like year. We can see right away that the answers we have above are only including cases where individuals have internet.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">df <span class="ot" style="color: #003B4F;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb5-2">  <span class="fu" style="color: #4758AB;">mutate</span>(</span>
<span id="cb5-3">    <span class="at" style="color: #657422;">int =</span> <span class="fu" style="color: #4758AB;">case_when</span>(</span>
<span id="cb5-4">      CINETHH <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">0</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="cn" style="color: #8f5902;">NA_character_</span>,</span>
<span id="cb5-5">      CINETHH <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">1</span> <span class="sc" style="color: #5E5E5E;">|</span> CINETHH <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">2</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"Yes"</span>,</span>
<span id="cb5-6">      CINETHH <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">3</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"No"</span>,</span>
<span id="cb5-7">      <span class="cn" style="color: #8f5902;">TRUE</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="cn" style="color: #8f5902;">NA_character_</span></span>
<span id="cb5-8">    )</span>
<span id="cb5-9">  )</span>
<span id="cb5-10"></span>
<span id="cb5-11">df_group <span class="ot" style="color: #003B4F;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb5-12">  <span class="fu" style="color: #4758AB;">group_by</span>(hspd_int, int, YEAR) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb5-13">  <span class="fu" style="color: #4758AB;">summarize</span>(<span class="at" style="color: #657422;">count =</span> <span class="fu" style="color: #4758AB;">sum</span>(PERWT), <span class="at" style="color: #657422;">.groups =</span> <span class="st" style="color: #20794D;">"drop"</span>)</span>
<span id="cb5-14"></span>
<span id="cb5-15"><span class="co" style="color: #5E5E5E;"># Pivot for easier percent calculations</span></span>
<span id="cb5-16">df_wide <span class="ot" style="color: #003B4F;">&lt;-</span> df_group  <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb5-17">  <span class="fu" style="color: #4758AB;">pivot_wider</span>(</span>
<span id="cb5-18">    <span class="at" style="color: #657422;">id_cols =</span> <span class="fu" style="color: #4758AB;">c</span>(YEAR, int),</span>
<span id="cb5-19">    <span class="at" style="color: #657422;">names_from =</span> hspd_int,</span>
<span id="cb5-20">    <span class="at" style="color: #657422;">values_from =</span> count</span>
<span id="cb5-21">  ) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb5-22">  <span class="fu" style="color: #4758AB;">mutate</span>(</span>
<span id="cb5-23">    <span class="at" style="color: #657422;">percent_hspd =</span> (Yes <span class="sc" style="color: #5E5E5E;">/</span> (Yes <span class="sc" style="color: #5E5E5E;">+</span> No)),</span>
<span id="cb5-24">    <span class="at" style="color: #657422;">percent_no =</span> <span class="dv" style="color: #AD0000;">1</span> <span class="sc" style="color: #5E5E5E;">-</span> percent_hspd,</span>
<span id="cb5-25">    <span class="at" style="color: #657422;">percent_NA =</span> (<span class="st" style="color: #20794D;">`</span><span class="at" style="color: #657422;">NA</span><span class="st" style="color: #20794D;">`</span> <span class="sc" style="color: #5E5E5E;">/</span> (Yes <span class="sc" style="color: #5E5E5E;">+</span> No <span class="sc" style="color: #5E5E5E;">+</span> <span class="st" style="color: #20794D;">`</span><span class="at" style="color: #657422;">NA</span><span class="st" style="color: #20794D;">`</span>))</span>
<span id="cb5-26">  )</span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">

<div id="rjmyldxaxp" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#rjmyldxaxp) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 50%;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #D3D3D3;
  border-right-style: solid;
  border-right-width: 3px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #D3D3D3;
  border-left-style: solid;
  border-left-width: 3px;
  border-left-color: #D3D3D3;
}

:where(#rjmyldxaxp) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#rjmyldxaxp) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#rjmyldxaxp) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#rjmyldxaxp) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#rjmyldxaxp) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#rjmyldxaxp) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#rjmyldxaxp) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#rjmyldxaxp) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#rjmyldxaxp) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#rjmyldxaxp) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#rjmyldxaxp) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#rjmyldxaxp) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#rjmyldxaxp) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#rjmyldxaxp) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#rjmyldxaxp) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#rjmyldxaxp) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#rjmyldxaxp) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#rjmyldxaxp) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#rjmyldxaxp) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#rjmyldxaxp) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#rjmyldxaxp) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#rjmyldxaxp) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#rjmyldxaxp) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#rjmyldxaxp) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#rjmyldxaxp) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#rjmyldxaxp) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#rjmyldxaxp) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#rjmyldxaxp) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#rjmyldxaxp) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#rjmyldxaxp) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#rjmyldxaxp) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#rjmyldxaxp) .gt_left {
  text-align: left;
}

:where(#rjmyldxaxp) .gt_center {
  text-align: center;
}

:where(#rjmyldxaxp) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#rjmyldxaxp) .gt_font_normal {
  font-weight: normal;
}

:where(#rjmyldxaxp) .gt_font_bold {
  font-weight: bold;
}

:where(#rjmyldxaxp) .gt_font_italic {
  font-style: italic;
}

:where(#rjmyldxaxp) .gt_super {
  font-size: 65%;
}

:where(#rjmyldxaxp) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#rjmyldxaxp) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#rjmyldxaxp) .gt_indent_1 {
  text-indent: 5px;
}

:where(#rjmyldxaxp) .gt_indent_2 {
  text-indent: 10px;
}

:where(#rjmyldxaxp) .gt_indent_3 {
  text-indent: 15px;
}

:where(#rjmyldxaxp) .gt_indent_4 {
  text-indent: 20px;
}

:where(#rjmyldxaxp) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  <thead class="gt_header">
    <tr>
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style="">Table 3: Exploring Internet Data</td>
    </tr>
    <tr>
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="">These results are exploratory. But not wrong!</td>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="2" colspan="1" scope="col" id="Year">Year</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Percent">
        <span class="gt_column_spanner">Percent</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Number of People">
        <span class="gt_column_spanner">Number of People</span>
      </th>
    </tr>
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Yes">Yes</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="No">No</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NA">NA</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Yes">Yes</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="No">No</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NA">NA</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Has Internet Access">Has Internet Access</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="Has Internet Access  YEAR" class="gt_row gt_center">2013</td>
<td headers="Has Internet Access  percent_hspd" class="gt_row gt_center">86%</td>
<td headers="Has Internet Access  percent_no" class="gt_row gt_center">14%</td>
<td headers="Has Internet Access  percent_NA" class="gt_row gt_center">5%</td>
<td headers="Has Internet Access  Yes" class="gt_row gt_center">2.76M</td>
<td headers="Has Internet Access  No" class="gt_row gt_center">454K</td>
<td headers="Has Internet Access  NA" class="gt_row gt_center">185K</td></tr>
    <tr><td headers="Has Internet Access  YEAR" class="gt_row gt_center gt_striped">2014</td>
<td headers="Has Internet Access  percent_hspd" class="gt_row gt_center gt_striped">84%</td>
<td headers="Has Internet Access  percent_no" class="gt_row gt_center gt_striped">16%</td>
<td headers="Has Internet Access  percent_NA" class="gt_row gt_center gt_striped">6%</td>
<td headers="Has Internet Access  Yes" class="gt_row gt_center gt_striped">2.74M</td>
<td headers="Has Internet Access  No" class="gt_row gt_center gt_striped">509K</td>
<td headers="Has Internet Access  NA" class="gt_row gt_center gt_striped">193K</td></tr>
    <tr><td headers="Has Internet Access  YEAR" class="gt_row gt_center">2015</td>
<td headers="Has Internet Access  percent_hspd" class="gt_row gt_center">86%</td>
<td headers="Has Internet Access  percent_no" class="gt_row gt_center">14%</td>
<td headers="Has Internet Access  percent_NA" class="gt_row gt_center">6%</td>
<td headers="Has Internet Access  Yes" class="gt_row gt_center">2.85M</td>
<td headers="Has Internet Access  No" class="gt_row gt_center">479K</td>
<td headers="Has Internet Access  NA" class="gt_row gt_center">217K</td></tr>
    <tr><td headers="Has Internet Access  YEAR" class="gt_row gt_center gt_striped">2016</td>
<td headers="Has Internet Access  percent_hspd" class="gt_row gt_center gt_striped">80%</td>
<td headers="Has Internet Access  percent_no" class="gt_row gt_center gt_striped">20%</td>
<td headers="Has Internet Access  percent_NA" class="gt_row gt_center gt_striped">3%</td>
<td headers="Has Internet Access  Yes" class="gt_row gt_center gt_striped">2.87M</td>
<td headers="Has Internet Access  No" class="gt_row gt_center gt_striped">708K</td>
<td headers="Has Internet Access  NA" class="gt_row gt_center gt_striped">129K</td></tr>
    <tr><td headers="Has Internet Access  YEAR" class="gt_row gt_center">2017</td>
<td headers="Has Internet Access  percent_hspd" class="gt_row gt_center">80%</td>
<td headers="Has Internet Access  percent_no" class="gt_row gt_center">20%</td>
<td headers="Has Internet Access  percent_NA" class="gt_row gt_center">3%</td>
<td headers="Has Internet Access  Yes" class="gt_row gt_center">2.90M</td>
<td headers="Has Internet Access  No" class="gt_row gt_center">735K</td>
<td headers="Has Internet Access  NA" class="gt_row gt_center">124K</td></tr>
    <tr><td headers="Has Internet Access  YEAR" class="gt_row gt_center gt_striped">2018</td>
<td headers="Has Internet Access  percent_hspd" class="gt_row gt_center gt_striped">79%</td>
<td headers="Has Internet Access  percent_no" class="gt_row gt_center gt_striped">21%</td>
<td headers="Has Internet Access  percent_NA" class="gt_row gt_center gt_striped">3%</td>
<td headers="Has Internet Access  Yes" class="gt_row gt_center gt_striped">2.97M</td>
<td headers="Has Internet Access  No" class="gt_row gt_center gt_striped">790K</td>
<td headers="Has Internet Access  NA" class="gt_row gt_center gt_striped">125K</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="No Internet Access">No Internet Access</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="No Internet Access  YEAR" class="gt_row gt_center">2013</td>
<td headers="No Internet Access  percent_hspd" class="gt_row gt_center">NA</td>
<td headers="No Internet Access  percent_no" class="gt_row gt_center">NA</td>
<td headers="No Internet Access  percent_NA" class="gt_row gt_center">NA</td>
<td headers="No Internet Access  Yes" class="gt_row gt_center">NA</td>
<td headers="No Internet Access  No" class="gt_row gt_center">NA</td>
<td headers="No Internet Access  NA" class="gt_row gt_center">866K</td></tr>
    <tr><td headers="No Internet Access  YEAR" class="gt_row gt_center gt_striped">2014</td>
<td headers="No Internet Access  percent_hspd" class="gt_row gt_center gt_striped">NA</td>
<td headers="No Internet Access  percent_no" class="gt_row gt_center gt_striped">NA</td>
<td headers="No Internet Access  percent_NA" class="gt_row gt_center gt_striped">NA</td>
<td headers="No Internet Access  Yes" class="gt_row gt_center gt_striped">NA</td>
<td headers="No Internet Access  No" class="gt_row gt_center gt_striped">NA</td>
<td headers="No Internet Access  NA" class="gt_row gt_center gt_striped">842K</td></tr>
    <tr><td headers="No Internet Access  YEAR" class="gt_row gt_center">2015</td>
<td headers="No Internet Access  percent_hspd" class="gt_row gt_center">NA</td>
<td headers="No Internet Access  percent_no" class="gt_row gt_center">NA</td>
<td headers="No Internet Access  percent_NA" class="gt_row gt_center">NA</td>
<td headers="No Internet Access  Yes" class="gt_row gt_center">NA</td>
<td headers="No Internet Access  No" class="gt_row gt_center">NA</td>
<td headers="No Internet Access  NA" class="gt_row gt_center">753K</td></tr>
    <tr><td headers="No Internet Access  YEAR" class="gt_row gt_center gt_striped">2016</td>
<td headers="No Internet Access  percent_hspd" class="gt_row gt_center gt_striped">NA</td>
<td headers="No Internet Access  percent_no" class="gt_row gt_center gt_striped">NA</td>
<td headers="No Internet Access  percent_NA" class="gt_row gt_center gt_striped">NA</td>
<td headers="No Internet Access  Yes" class="gt_row gt_center gt_striped">NA</td>
<td headers="No Internet Access  No" class="gt_row gt_center gt_striped">NA</td>
<td headers="No Internet Access  NA" class="gt_row gt_center gt_striped">596K</td></tr>
    <tr><td headers="No Internet Access  YEAR" class="gt_row gt_center">2017</td>
<td headers="No Internet Access  percent_hspd" class="gt_row gt_center">NA</td>
<td headers="No Internet Access  percent_no" class="gt_row gt_center">NA</td>
<td headers="No Internet Access  percent_NA" class="gt_row gt_center">NA</td>
<td headers="No Internet Access  Yes" class="gt_row gt_center">NA</td>
<td headers="No Internet Access  No" class="gt_row gt_center">NA</td>
<td headers="No Internet Access  NA" class="gt_row gt_center">560K</td></tr>
    <tr><td headers="No Internet Access  YEAR" class="gt_row gt_center gt_striped">2018</td>
<td headers="No Internet Access  percent_hspd" class="gt_row gt_center gt_striped">NA</td>
<td headers="No Internet Access  percent_no" class="gt_row gt_center gt_striped">NA</td>
<td headers="No Internet Access  percent_NA" class="gt_row gt_center gt_striped">NA</td>
<td headers="No Internet Access  Yes" class="gt_row gt_center gt_striped">NA</td>
<td headers="No Internet Access  No" class="gt_row gt_center gt_striped">NA</td>
<td headers="No Internet Access  NA" class="gt_row gt_center gt_striped">452K</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Internet Access is NA">Internet Access is NA</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="Internet Access is NA  YEAR" class="gt_row gt_center">2013</td>
<td headers="Internet Access is NA  percent_hspd" class="gt_row gt_center">NA</td>
<td headers="Internet Access is NA  percent_no" class="gt_row gt_center">NA</td>
<td headers="Internet Access is NA  percent_NA" class="gt_row gt_center">NA</td>
<td headers="Internet Access is NA  Yes" class="gt_row gt_center">NA</td>
<td headers="Internet Access is NA  No" class="gt_row gt_center">NA</td>
<td headers="Internet Access is NA  NA" class="gt_row gt_center">126K</td></tr>
    <tr><td headers="Internet Access is NA  YEAR" class="gt_row gt_center gt_striped">2014</td>
<td headers="Internet Access is NA  percent_hspd" class="gt_row gt_center gt_striped">NA</td>
<td headers="Internet Access is NA  percent_no" class="gt_row gt_center gt_striped">NA</td>
<td headers="Internet Access is NA  percent_NA" class="gt_row gt_center gt_striped">NA</td>
<td headers="Internet Access is NA  Yes" class="gt_row gt_center gt_striped">NA</td>
<td headers="Internet Access is NA  No" class="gt_row gt_center gt_striped">NA</td>
<td headers="Internet Access is NA  NA" class="gt_row gt_center gt_striped">130K</td></tr>
    <tr><td headers="Internet Access is NA  YEAR" class="gt_row gt_center">2015</td>
<td headers="Internet Access is NA  percent_hspd" class="gt_row gt_center">NA</td>
<td headers="Internet Access is NA  percent_no" class="gt_row gt_center">NA</td>
<td headers="Internet Access is NA  percent_NA" class="gt_row gt_center">NA</td>
<td headers="Internet Access is NA  Yes" class="gt_row gt_center">NA</td>
<td headers="Internet Access is NA  No" class="gt_row gt_center">NA</td>
<td headers="Internet Access is NA  NA" class="gt_row gt_center">129K</td></tr>
    <tr><td headers="Internet Access is NA  YEAR" class="gt_row gt_center gt_striped">2016</td>
<td headers="Internet Access is NA  percent_hspd" class="gt_row gt_center gt_striped">NA</td>
<td headers="Internet Access is NA  percent_no" class="gt_row gt_center gt_striped">NA</td>
<td headers="Internet Access is NA  percent_NA" class="gt_row gt_center gt_striped">NA</td>
<td headers="Internet Access is NA  Yes" class="gt_row gt_center gt_striped">NA</td>
<td headers="Internet Access is NA  No" class="gt_row gt_center gt_striped">NA</td>
<td headers="Internet Access is NA  NA" class="gt_row gt_center gt_striped">131K</td></tr>
    <tr><td headers="Internet Access is NA  YEAR" class="gt_row gt_center">2017</td>
<td headers="Internet Access is NA  percent_hspd" class="gt_row gt_center">NA</td>
<td headers="Internet Access is NA  percent_no" class="gt_row gt_center">NA</td>
<td headers="Internet Access is NA  percent_NA" class="gt_row gt_center">NA</td>
<td headers="Internet Access is NA  Yes" class="gt_row gt_center">NA</td>
<td headers="Internet Access is NA  No" class="gt_row gt_center">NA</td>
<td headers="Internet Access is NA  NA" class="gt_row gt_center">132K</td></tr>
    <tr><td headers="Internet Access is NA  YEAR" class="gt_row gt_center gt_striped">2018</td>
<td headers="Internet Access is NA  percent_hspd" class="gt_row gt_center gt_striped">NA</td>
<td headers="Internet Access is NA  percent_no" class="gt_row gt_center gt_striped">NA</td>
<td headers="Internet Access is NA  percent_NA" class="gt_row gt_center gt_striped">NA</td>
<td headers="Internet Access is NA  Yes" class="gt_row gt_center gt_striped">NA</td>
<td headers="Internet Access is NA  No" class="gt_row gt_center gt_striped">NA</td>
<td headers="Internet Access is NA  NA" class="gt_row gt_center gt_striped">132K</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="7">Yes and No percentages are calculated out of those who answered to represent the results an analyst might get if they ignored NA values. NA is calculated separately based on all the data.</td>
    </tr>
    <tr>
      <td class="gt_sourcenote" colspan="7">Source: Author's analysis of IPUMS data.</td>
    </tr>
  </tfoot>
  
</table>
</div>
</div>
</div>
<p>When we split it out this way we can see that the groups without any internet access are all NA values. So what we were looking at was the percentage of people with internet who have high speed internet. What we want is the percentage of all people who have high speed internet. We can fix the way we create our categories by saying that anyone who has no internet also has no high speed internet.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">df <span class="ot" style="color: #003B4F;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb6-2">  <span class="fu" style="color: #4758AB;">mutate</span>(</span>
<span id="cb6-3">    <span class="co" style="color: #5E5E5E;">#create a categorical variable for having any internet</span></span>
<span id="cb6-4">    <span class="at" style="color: #657422;">int =</span> <span class="fu" style="color: #4758AB;">case_when</span>(</span>
<span id="cb6-5">      CINETHH <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">0</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="cn" style="color: #8f5902;">NA_character_</span>,</span>
<span id="cb6-6">      CINETHH <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">1</span> <span class="sc" style="color: #5E5E5E;">|</span> CINETHH <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">2</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"Yes"</span>,</span>
<span id="cb6-7">      CINETHH <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">3</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"No"</span>,</span>
<span id="cb6-8">      <span class="cn" style="color: #8f5902;">TRUE</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="cn" style="color: #8f5902;">NA_character_</span></span>
<span id="cb6-9">    ),</span>
<span id="cb6-10">    <span class="co" style="color: #5E5E5E;"># change how high speed internet is defined so that houses w/o any interent are counted as 'No' instead of NA</span></span>
<span id="cb6-11">    <span class="at" style="color: #657422;">hspd_int =</span> <span class="fu" style="color: #4758AB;">case_when</span>(</span>
<span id="cb6-12">      CIHISPEED <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">00</span> <span class="sc" style="color: #5E5E5E;">&amp;</span> int <span class="sc" style="color: #5E5E5E;">!=</span> <span class="st" style="color: #20794D;">"No"</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="cn" style="color: #8f5902;">NA_character_</span>,</span>
<span id="cb6-13">      CIHISPEED <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">20</span> <span class="sc" style="color: #5E5E5E;">|</span> int <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"No"</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"No"</span>,</span>
<span id="cb6-14">      CIHISPEED <span class="sc" style="color: #5E5E5E;">&gt;=</span> <span class="dv" style="color: #AD0000;">10</span> <span class="sc" style="color: #5E5E5E;">&amp;</span> CIHISPEED <span class="sc" style="color: #5E5E5E;">&lt;</span> <span class="dv" style="color: #AD0000;">20</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"Yes"</span>,</span>
<span id="cb6-15">      <span class="cn" style="color: #8f5902;">TRUE</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="cn" style="color: #8f5902;">NA_character_</span></span>
<span id="cb6-16">    )</span>
<span id="cb6-17">  )</span>
<span id="cb6-18"></span>
<span id="cb6-19"><span class="co" style="color: #5E5E5E;"># Count numbers with and without high speed internet</span></span>
<span id="cb6-20">df_group <span class="ot" style="color: #003B4F;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb6-21">  <span class="fu" style="color: #4758AB;">group_by</span>(hspd_int, YEAR) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb6-22">  <span class="fu" style="color: #4758AB;">summarize</span>(<span class="at" style="color: #657422;">count =</span> <span class="fu" style="color: #4758AB;">sum</span>(PERWT), <span class="at" style="color: #657422;">.groups =</span> <span class="st" style="color: #20794D;">"drop"</span>)</span>
<span id="cb6-23"></span>
<span id="cb6-24"><span class="co" style="color: #5E5E5E;"># Pivot for easier percent calculations</span></span>
<span id="cb6-25">df_wide <span class="ot" style="color: #003B4F;">&lt;-</span> df_group  <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb6-26">  <span class="fu" style="color: #4758AB;">pivot_wider</span>(</span>
<span id="cb6-27">    <span class="at" style="color: #657422;">id_cols =</span> <span class="fu" style="color: #4758AB;">c</span>(YEAR),</span>
<span id="cb6-28">    <span class="at" style="color: #657422;">names_from =</span> hspd_int,</span>
<span id="cb6-29">    <span class="at" style="color: #657422;">values_from =</span> count</span>
<span id="cb6-30">  ) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb6-31">  <span class="fu" style="color: #4758AB;">mutate</span>(</span>
<span id="cb6-32">    <span class="at" style="color: #657422;">percent_hspd =</span> (Yes <span class="sc" style="color: #5E5E5E;">/</span> (Yes <span class="sc" style="color: #5E5E5E;">+</span> No)),</span>
<span id="cb6-33">    <span class="at" style="color: #657422;">percent_no =</span> <span class="dv" style="color: #AD0000;">1</span> <span class="sc" style="color: #5E5E5E;">-</span> percent_hspd,</span>
<span id="cb6-34">    <span class="at" style="color: #657422;">percent_NA =</span> (<span class="st" style="color: #20794D;">`</span><span class="at" style="color: #657422;">NA</span><span class="st" style="color: #20794D;">`</span> <span class="sc" style="color: #5E5E5E;">/</span> (Yes <span class="sc" style="color: #5E5E5E;">+</span> No <span class="sc" style="color: #5E5E5E;">+</span> <span class="st" style="color: #20794D;">`</span><span class="at" style="color: #657422;">NA</span><span class="st" style="color: #20794D;">`</span>))</span>
<span id="cb6-35">  )</span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">

<div id="igbzbqvdwu" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#igbzbqvdwu) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 50%;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #D3D3D3;
  border-right-style: solid;
  border-right-width: 3px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #D3D3D3;
  border-left-style: solid;
  border-left-width: 3px;
  border-left-color: #D3D3D3;
}

:where(#igbzbqvdwu) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#igbzbqvdwu) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#igbzbqvdwu) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#igbzbqvdwu) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#igbzbqvdwu) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#igbzbqvdwu) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#igbzbqvdwu) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#igbzbqvdwu) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#igbzbqvdwu) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#igbzbqvdwu) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#igbzbqvdwu) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#igbzbqvdwu) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#igbzbqvdwu) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#igbzbqvdwu) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#igbzbqvdwu) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#igbzbqvdwu) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#igbzbqvdwu) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#igbzbqvdwu) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#igbzbqvdwu) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#igbzbqvdwu) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#igbzbqvdwu) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#igbzbqvdwu) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#igbzbqvdwu) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#igbzbqvdwu) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#igbzbqvdwu) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#igbzbqvdwu) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#igbzbqvdwu) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#igbzbqvdwu) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#igbzbqvdwu) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#igbzbqvdwu) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#igbzbqvdwu) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#igbzbqvdwu) .gt_left {
  text-align: left;
}

:where(#igbzbqvdwu) .gt_center {
  text-align: center;
}

:where(#igbzbqvdwu) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#igbzbqvdwu) .gt_font_normal {
  font-weight: normal;
}

:where(#igbzbqvdwu) .gt_font_bold {
  font-weight: bold;
}

:where(#igbzbqvdwu) .gt_font_italic {
  font-style: italic;
}

:where(#igbzbqvdwu) .gt_super {
  font-size: 65%;
}

:where(#igbzbqvdwu) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#igbzbqvdwu) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#igbzbqvdwu) .gt_indent_1 {
  text-indent: 5px;
}

:where(#igbzbqvdwu) .gt_indent_2 {
  text-indent: 10px;
}

:where(#igbzbqvdwu) .gt_indent_3 {
  text-indent: 15px;
}

:where(#igbzbqvdwu) .gt_indent_4 {
  text-indent: 20px;
}

:where(#igbzbqvdwu) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  <thead class="gt_header">
    <tr>
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style="">Table 4: Almost right!</td>
    </tr>
    <tr>
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="">These results are still a little wrong!</td>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="2" colspan="1" scope="col" id="Year">Year</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Percent">
        <span class="gt_column_spanner">Percent</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Number of People">
        <span class="gt_column_spanner">Number of People</span>
      </th>
    </tr>
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Yes">Yes</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="No">No</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NA">NA</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Yes">Yes</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="No">No</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NA">NA</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="YEAR" class="gt_row gt_center">2013</td>
<td headers="percent_hspd" class="gt_row gt_center">68%</td>
<td headers="percent_no" class="gt_row gt_center">32%</td>
<td headers="percent_NA" class="gt_row gt_center">7%</td>
<td headers="Yes" class="gt_row gt_center">2.76M</td>
<td headers="No" class="gt_row gt_center">1.32M</td>
<td headers="NA" class="gt_row gt_center">311K</td></tr>
    <tr><td headers="YEAR" class="gt_row gt_center gt_striped">2014</td>
<td headers="percent_hspd" class="gt_row gt_center gt_striped">67%</td>
<td headers="percent_no" class="gt_row gt_center gt_striped">33%</td>
<td headers="percent_NA" class="gt_row gt_center gt_striped">7%</td>
<td headers="Yes" class="gt_row gt_center gt_striped">2.74M</td>
<td headers="No" class="gt_row gt_center gt_striped">1.35M</td>
<td headers="NA" class="gt_row gt_center gt_striped">324K</td></tr>
    <tr><td headers="YEAR" class="gt_row gt_center">2015</td>
<td headers="percent_hspd" class="gt_row gt_center">70%</td>
<td headers="percent_no" class="gt_row gt_center">30%</td>
<td headers="percent_NA" class="gt_row gt_center">8%</td>
<td headers="Yes" class="gt_row gt_center">2.85M</td>
<td headers="No" class="gt_row gt_center">1.23M</td>
<td headers="NA" class="gt_row gt_center">346K</td></tr>
    <tr><td headers="YEAR" class="gt_row gt_center gt_striped">2016</td>
<td headers="percent_hspd" class="gt_row gt_center gt_striped">69%</td>
<td headers="percent_no" class="gt_row gt_center gt_striped">31%</td>
<td headers="percent_NA" class="gt_row gt_center gt_striped">6%</td>
<td headers="Yes" class="gt_row gt_center gt_striped">2.87M</td>
<td headers="No" class="gt_row gt_center gt_striped">1.30M</td>
<td headers="NA" class="gt_row gt_center gt_striped">260K</td></tr>
    <tr><td headers="YEAR" class="gt_row gt_center">2017</td>
<td headers="percent_hspd" class="gt_row gt_center">69%</td>
<td headers="percent_no" class="gt_row gt_center">31%</td>
<td headers="percent_NA" class="gt_row gt_center">6%</td>
<td headers="Yes" class="gt_row gt_center">2.90M</td>
<td headers="No" class="gt_row gt_center">1.29M</td>
<td headers="NA" class="gt_row gt_center">256K</td></tr>
    <tr><td headers="YEAR" class="gt_row gt_center gt_striped">2018</td>
<td headers="percent_hspd" class="gt_row gt_center gt_striped">71%</td>
<td headers="percent_no" class="gt_row gt_center gt_striped">29%</td>
<td headers="percent_NA" class="gt_row gt_center gt_striped">6%</td>
<td headers="Yes" class="gt_row gt_center gt_striped">2.97M</td>
<td headers="No" class="gt_row gt_center gt_striped">1.24M</td>
<td headers="NA" class="gt_row gt_center gt_striped">257K</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="7">Yes and No percentages are calculated out of those who answered to represent the results an analyst might get if they ignored NA values. NA is calculated separately based on all the data.</td>
    </tr>
    <tr>
      <td class="gt_sourcenote" colspan="7">Source: Author's incorrect analysis of IPUMS data. Used as an example of a mistake to avoid.</td>
    </tr>
  </tfoot>
  
</table>
</div>
</div>
</div>
<p>These results look much better, although there’s still one more thing to do about those NA results.</p>
</section>
<section id="group-quarters-in-the-census" class="level2">
<h2 class="anchored" data-anchor-id="group-quarters-in-the-census">Group Quarters in the Census</h2>
<p>The census data includes individuals living in group quarters (mostly prisons, senior living centers, and dorms, but includes any sort of communal living arrangement). However, all census questions about appliances and utilities (the category that internet access falls under) are NA for group quarters. So we’ll add one more line to filter out individuals living in group quarters (a common practice when working with Census microdata). The code below adds a filter for Group Quarters. Since this table is showing correct results I’ll also add a little additional formatting to make it stand out from the others.</p>
<p>I’ll also note that the way the Census Bureau constructs weights is very convenient for getting totals. While I’m focusing on the percent of people who have internet access, the Yes and No columns are accurate estimates of the population with and without access.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><span class="co" style="color: #5E5E5E;"># Count numbers with and without high speed internet</span></span>
<span id="cb7-2">df_group <span class="ot" style="color: #003B4F;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb7-3">  <span class="fu" style="color: #4758AB;">filter</span>(GQ <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">1</span> <span class="sc" style="color: #5E5E5E;">|</span> GQ <span class="sc" style="color: #5E5E5E;">==</span><span class="dv" style="color: #AD0000;">2</span> <span class="sc" style="color: #5E5E5E;">|</span> GQ <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">5</span>) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb7-4">  <span class="fu" style="color: #4758AB;">group_by</span>(hspd_int, YEAR) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb7-5">  <span class="fu" style="color: #4758AB;">summarize</span>(<span class="at" style="color: #657422;">count =</span> <span class="fu" style="color: #4758AB;">sum</span>(PERWT), <span class="at" style="color: #657422;">.groups =</span> <span class="st" style="color: #20794D;">"drop"</span>)</span>
<span id="cb7-6"></span>
<span id="cb7-7"><span class="co" style="color: #5E5E5E;"># Pivot for easier percent calculations</span></span>
<span id="cb7-8">df_wide <span class="ot" style="color: #003B4F;">&lt;-</span> df_group  <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb7-9">  <span class="fu" style="color: #4758AB;">pivot_wider</span>(<span class="at" style="color: #657422;">id_cols =</span> <span class="fu" style="color: #4758AB;">c</span>(YEAR), <span class="at" style="color: #657422;">names_from =</span> hspd_int, <span class="at" style="color: #657422;">values_from =</span> count) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb7-10">  <span class="fu" style="color: #4758AB;">mutate</span>(<span class="at" style="color: #657422;">percent_hspd =</span> (Yes <span class="sc" style="color: #5E5E5E;">/</span> (Yes <span class="sc" style="color: #5E5E5E;">+</span> No)),</span>
<span id="cb7-11">         <span class="at" style="color: #657422;">percent_no =</span> <span class="dv" style="color: #AD0000;">1</span> <span class="sc" style="color: #5E5E5E;">-</span> percent_hspd,</span>
<span id="cb7-12">         <span class="at" style="color: #657422;">percent_NA =</span> (<span class="st" style="color: #20794D;">`</span><span class="at" style="color: #657422;">NA</span><span class="st" style="color: #20794D;">`</span> <span class="sc" style="color: #5E5E5E;">/</span> (Yes <span class="sc" style="color: #5E5E5E;">+</span> No <span class="sc" style="color: #5E5E5E;">+</span> <span class="st" style="color: #20794D;">`</span><span class="at" style="color: #657422;">NA</span><span class="st" style="color: #20794D;">`</span>)))</span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">

<div id="gdigkhqfru" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#gdigkhqfru) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 50%;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #D3D3D3;
  border-right-style: solid;
  border-right-width: 3px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #D3D3D3;
  border-left-style: solid;
  border-left-width: 3px;
  border-left-color: #D3D3D3;
}

:where(#gdigkhqfru) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#gdigkhqfru) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#gdigkhqfru) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#gdigkhqfru) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#gdigkhqfru) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#gdigkhqfru) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#gdigkhqfru) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#gdigkhqfru) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#gdigkhqfru) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#gdigkhqfru) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#gdigkhqfru) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#gdigkhqfru) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#gdigkhqfru) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#gdigkhqfru) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#gdigkhqfru) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#gdigkhqfru) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#gdigkhqfru) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#gdigkhqfru) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#gdigkhqfru) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#gdigkhqfru) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#gdigkhqfru) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#gdigkhqfru) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#gdigkhqfru) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#gdigkhqfru) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#gdigkhqfru) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#gdigkhqfru) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#gdigkhqfru) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#gdigkhqfru) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#gdigkhqfru) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#gdigkhqfru) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#gdigkhqfru) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#gdigkhqfru) .gt_left {
  text-align: left;
}

:where(#gdigkhqfru) .gt_center {
  text-align: center;
}

:where(#gdigkhqfru) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#gdigkhqfru) .gt_font_normal {
  font-weight: normal;
}

:where(#gdigkhqfru) .gt_font_bold {
  font-weight: bold;
}

:where(#gdigkhqfru) .gt_font_italic {
  font-style: italic;
}

:where(#gdigkhqfru) .gt_super {
  font-size: 65%;
}

:where(#gdigkhqfru) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#gdigkhqfru) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#gdigkhqfru) .gt_indent_1 {
  text-indent: 5px;
}

:where(#gdigkhqfru) .gt_indent_2 {
  text-indent: 10px;
}

:where(#gdigkhqfru) .gt_indent_3 {
  text-indent: 15px;
}

:where(#gdigkhqfru) .gt_indent_4 {
  text-indent: 20px;
}

:where(#gdigkhqfru) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  <thead class="gt_header">
    <tr>
      <td colspan="7" class="gt_heading gt_title gt_font_normal gt_bottom_border" style="">Table 5: High Speed Internet in Kentucky</td>
    </tr>
    
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="2" colspan="1" scope="col" id="Year">Year</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Percent">
        <span class="gt_column_spanner">Percent</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Number of People">
        <span class="gt_column_spanner">Number of People</span>
      </th>
    </tr>
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Yes">Yes</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="No">No</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NA">NA</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Yes">Yes</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="No">No</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NA">NA</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="YEAR" class="gt_row gt_center">2013</td>
<td headers="percent_hspd" class="gt_row gt_center">68%</td>
<td headers="percent_no" class="gt_row gt_center">32%</td>
<td headers="percent_NA" class="gt_row gt_center">4%</td>
<td headers="Yes" class="gt_row gt_center">2.76M</td>
<td headers="No" class="gt_row gt_center">1.32M</td>
<td headers="NA" class="gt_row gt_center">185K</td></tr>
    <tr><td headers="YEAR" class="gt_row gt_center gt_striped">2014</td>
<td headers="percent_hspd" class="gt_row gt_center gt_striped">67%</td>
<td headers="percent_no" class="gt_row gt_center gt_striped">33%</td>
<td headers="percent_NA" class="gt_row gt_center gt_striped">5%</td>
<td headers="Yes" class="gt_row gt_center gt_striped">2.74M</td>
<td headers="No" class="gt_row gt_center gt_striped">1.35M</td>
<td headers="NA" class="gt_row gt_center gt_striped">193K</td></tr>
    <tr><td headers="YEAR" class="gt_row gt_center">2015</td>
<td headers="percent_hspd" class="gt_row gt_center">70%</td>
<td headers="percent_no" class="gt_row gt_center">30%</td>
<td headers="percent_NA" class="gt_row gt_center">5%</td>
<td headers="Yes" class="gt_row gt_center">2.85M</td>
<td headers="No" class="gt_row gt_center">1.23M</td>
<td headers="NA" class="gt_row gt_center">217K</td></tr>
    <tr><td headers="YEAR" class="gt_row gt_center gt_striped">2016</td>
<td headers="percent_hspd" class="gt_row gt_center gt_striped">69%</td>
<td headers="percent_no" class="gt_row gt_center gt_striped">31%</td>
<td headers="percent_NA" class="gt_row gt_center gt_striped">3%</td>
<td headers="Yes" class="gt_row gt_center gt_striped">2.87M</td>
<td headers="No" class="gt_row gt_center gt_striped">1.30M</td>
<td headers="NA" class="gt_row gt_center gt_striped">129K</td></tr>
    <tr><td headers="YEAR" class="gt_row gt_center">2017</td>
<td headers="percent_hspd" class="gt_row gt_center">69%</td>
<td headers="percent_no" class="gt_row gt_center">31%</td>
<td headers="percent_NA" class="gt_row gt_center">3%</td>
<td headers="Yes" class="gt_row gt_center">2.90M</td>
<td headers="No" class="gt_row gt_center">1.29M</td>
<td headers="NA" class="gt_row gt_center">124K</td></tr>
    <tr><td headers="YEAR" class="gt_row gt_center gt_striped">2018</td>
<td headers="percent_hspd" class="gt_row gt_center gt_striped">71%</td>
<td headers="percent_no" class="gt_row gt_center gt_striped">29%</td>
<td headers="percent_NA" class="gt_row gt_center gt_striped">3%</td>
<td headers="Yes" class="gt_row gt_center gt_striped">2.97M</td>
<td headers="No" class="gt_row gt_center gt_striped">1.24M</td>
<td headers="NA" class="gt_row gt_center gt_striped">125K</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="7">Yes and No percentages are calculated out of those who answered. NA is reported out of all the data to provide context on how much data is missing.</td>
    </tr>
    <tr>
      <td class="gt_sourcenote" colspan="7">Source: Author's analysis of IPUMS data.</td>
    </tr>
  </tfoot>
  
</table>
</div>
</div>
</div>
<p>That removed about half of our NA values. It might be nice to know a bit more about the missing data, but at around 3 percent of observations it’s unlikely to change our substantive conclusions. I suspect these are cases where there wasn’t an answer for that question. We’ll keep an eye on NA values as we do the analysis, because as we get into questions like how internet access varies by race, income, age, and education we’ll want to know if NA answers are more or less likely in any of those categories.</p>
</section>
<section id="checking-against-data.census.gov" class="level2">
<h2 class="anchored" data-anchor-id="checking-against-data.census.gov">Checking against data.census.gov</h2>
<p>To do a quick check against the way the census bureau itself analyzes the data I looked at data.census.gov for 2018 in Kentucky. An important note is that their data is for households, and so their numeric counts look quite different because I’m counting number of people. They also have a breakdown where cellular is included in broadband, which I do not want, as a cell phone is not really an adequate work or study device. So to get to what I have we need to add “Broadband such as cable, fiber optic or DSL” and “Satellite Internet service”, which gets us to 70.8% compared to the 70.5% in this analysis. The difference is small and most likely the result of their analysis being weighted to the household level rather than the person level. (Internet is measured at the household level and the same for every person in the household, but by choosing to weight it at the person level I am a) letting us talk in terms of people, b) giving more weight to larger households, c) making it possible to break down internet access by categories that do vary within households, like age).</p>
<p><img src="https://www.natekratzer.com/posts/census_internet_microdata/data_census_gov.png" class="img-fluid"></p>
</section>
</section>
<section id="analysis" class="level1">
<h1>Analysis</h1>
<p>Going forward we’re going to want to filter by group quarters, so let’s apply that filter to our main dataframe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1">df <span class="ot" style="color: #003B4F;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb8-2">    <span class="fu" style="color: #4758AB;">filter</span>(GQ <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">1</span> <span class="sc" style="color: #5E5E5E;">|</span> GQ <span class="sc" style="color: #5E5E5E;">==</span><span class="dv" style="color: #AD0000;">2</span> <span class="sc" style="color: #5E5E5E;">|</span> GQ <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">5</span>) </span></code></pre></div>
</div>
<section id="standard-errors" class="level2">
<h2 class="anchored" data-anchor-id="standard-errors">Standard Errors</h2>
<p>Know that we know the data we’d also like to know how uncertain our sample is so that we know if movements over time are real or just a result of noisy data. There are a few ways to do this. The <code>survey</code> package does an excellent job with complex survey designs, but does require learning a new syntax to use. The alternative I’ll use here is a method known as bootstrap. IPUMS suggests using bootstrap might be the best way to get standard errors on census microdata. The basic idea of the bootstrap is to resample the existing data and use the sampling error from that as an estimate for sampling error in the overall population. Let’s do an example with high speed internet in 2018 to see how it works. The output here will be the mean and standard deviation for Kentucky. (We’ll use the standard error to calculate confidence intervals once we start displaying actual results.)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="co" style="color: #5E5E5E;">#set seed</span></span>
<span id="cb9-2"><span class="fu" style="color: #4758AB;">set.seed</span>(<span class="dv" style="color: #AD0000;">42</span>)</span>
<span id="cb9-3"></span>
<span id="cb9-4"><span class="co" style="color: #5E5E5E;"># Filter to just 2018</span></span>
<span id="cb9-5"><span class="co" style="color: #5E5E5E;"># Exclude NA values</span></span>
<span id="cb9-6"><span class="co" style="color: #5E5E5E;"># Recode as numeric vector of 1 and 0</span></span>
<span id="cb9-7"><span class="co" style="color: #5E5E5E;"># The numeric 1 and 0 form will make it much easier to get means without pivoting, which matters a lot when doing this 1000 times</span></span>
<span id="cb9-8">df2018 <span class="ot" style="color: #003B4F;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb9-9">  <span class="fu" style="color: #4758AB;">filter</span>(YEAR <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">2018</span> <span class="sc" style="color: #5E5E5E;">&amp;</span> <span class="sc" style="color: #5E5E5E;">!</span><span class="fu" style="color: #4758AB;">is.na</span>(hspd_int)) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb9-10">  <span class="fu" style="color: #4758AB;">mutate</span>(<span class="at" style="color: #657422;">hspd_num =</span> <span class="fu" style="color: #4758AB;">if_else</span>(hspd_int <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Yes"</span>, <span class="dv" style="color: #AD0000;">1</span>, <span class="dv" style="color: #AD0000;">0</span>)) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb9-11">  <span class="fu" style="color: #4758AB;">select</span>(hspd_num, PERWT)</span>
<span id="cb9-12"></span>
<span id="cb9-13"><span class="co" style="color: #5E5E5E;"># Write a function so I can map over it.</span></span>
<span id="cb9-14"><span class="co" style="color: #5E5E5E;"># In this case, we need the function to do the same thing X number of times and assign an ID that we can use as a grouping variable</span></span>
<span id="cb9-15">create_samples <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="cf" style="color: #003B4F;">function</span>(sample_id){</span>
<span id="cb9-16">  df_out <span class="ot" style="color: #003B4F;">&lt;-</span> df2018[<span class="fu" style="color: #4758AB;">sample</span>(<span class="fu" style="color: #4758AB;">nrow</span>(df2018), <span class="fu" style="color: #4758AB;">nrow</span>(df2018), <span class="at" style="color: #657422;">replace =</span> <span class="cn" style="color: #8f5902;">TRUE</span>) , ] <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb9-17">    <span class="fu" style="color: #4758AB;">as_tibble</span>()</span>
<span id="cb9-18">  df_out<span class="sc" style="color: #5E5E5E;">$</span>sample_id <span class="ot" style="color: #003B4F;">&lt;-</span> sample_id</span>
<span id="cb9-19">  <span class="fu" style="color: #4758AB;">return</span>(df_out)</span>
<span id="cb9-20">}</span>
<span id="cb9-21"></span>
<span id="cb9-22">nlist <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">as.list</span>(<span class="fu" style="color: #4758AB;">seq</span>(<span class="dv" style="color: #AD0000;">1</span>, <span class="dv" style="color: #AD0000;">1000</span>, <span class="at" style="color: #657422;">by =</span> <span class="dv" style="color: #AD0000;">1</span>))</span>
<span id="cb9-23">samples <span class="ot" style="color: #003B4F;">&lt;-</span> purrr<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">map_df</span>(nlist, create_samples)</span>
<span id="cb9-24"></span>
<span id="cb9-25">sample_summary <span class="ot" style="color: #003B4F;">&lt;-</span> samples <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb9-26">  <span class="fu" style="color: #4758AB;">group_by</span>(sample_id) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb9-27">  <span class="fu" style="color: #4758AB;">mutate</span>(<span class="at" style="color: #657422;">ind_weight =</span> PERWT <span class="sc" style="color: #5E5E5E;">/</span> <span class="fu" style="color: #4758AB;">sum</span>(PERWT),</span>
<span id="cb9-28">         <span class="at" style="color: #657422;">hspd_weight =</span> hspd_num <span class="sc" style="color: #5E5E5E;">*</span> ind_weight) <span class="sc" style="color: #5E5E5E;">%&gt;%</span> <span class="co" style="color: #5E5E5E;"># PERWT is population and doesn't sum to 1. Rescale it to sum to one</span></span>
<span id="cb9-29">  <span class="fu" style="color: #4758AB;">summarize</span>(<span class="at" style="color: #657422;">group_mean =</span> <span class="fu" style="color: #4758AB;">sum</span>(hspd_weight),</span>
<span id="cb9-30">            <span class="at" style="color: #657422;">weight_check =</span> <span class="fu" style="color: #4758AB;">sum</span>(ind_weight), <span class="at" style="color: #657422;">.groups =</span> <span class="st" style="color: #20794D;">"drop"</span>) <span class="co" style="color: #5E5E5E;"># Check that my weights add up to one</span></span>
<span id="cb9-31"></span>
<span id="cb9-32">display_tbl <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">tibble</span>(</span>
<span id="cb9-33">  <span class="at" style="color: #657422;">mean =</span> <span class="fu" style="color: #4758AB;">mean</span>(sample_summary<span class="sc" style="color: #5E5E5E;">$</span>group_mean),</span>
<span id="cb9-34">  <span class="at" style="color: #657422;">sd =</span> <span class="fu" style="color: #4758AB;">sd</span>(sample_summary<span class="sc" style="color: #5E5E5E;">$</span>group_mean)</span>
<span id="cb9-35">) </span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">

<div id="exrrenlrkf" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#exrrenlrkf) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 50%;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #D3D3D3;
  border-right-style: solid;
  border-right-width: 3px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #D3D3D3;
  border-left-style: solid;
  border-left-width: 3px;
  border-left-color: #D3D3D3;
}

:where(#exrrenlrkf) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#exrrenlrkf) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#exrrenlrkf) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#exrrenlrkf) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#exrrenlrkf) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#exrrenlrkf) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#exrrenlrkf) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#exrrenlrkf) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#exrrenlrkf) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#exrrenlrkf) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#exrrenlrkf) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#exrrenlrkf) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#exrrenlrkf) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#exrrenlrkf) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#exrrenlrkf) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#exrrenlrkf) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#exrrenlrkf) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#exrrenlrkf) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#exrrenlrkf) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#exrrenlrkf) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#exrrenlrkf) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#exrrenlrkf) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#exrrenlrkf) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#exrrenlrkf) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#exrrenlrkf) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#exrrenlrkf) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#exrrenlrkf) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#exrrenlrkf) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#exrrenlrkf) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#exrrenlrkf) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#exrrenlrkf) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#exrrenlrkf) .gt_left {
  text-align: left;
}

:where(#exrrenlrkf) .gt_center {
  text-align: center;
}

:where(#exrrenlrkf) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#exrrenlrkf) .gt_font_normal {
  font-weight: normal;
}

:where(#exrrenlrkf) .gt_font_bold {
  font-weight: bold;
}

:where(#exrrenlrkf) .gt_font_italic {
  font-style: italic;
}

:where(#exrrenlrkf) .gt_super {
  font-size: 65%;
}

:where(#exrrenlrkf) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#exrrenlrkf) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#exrrenlrkf) .gt_indent_1 {
  text-indent: 5px;
}

:where(#exrrenlrkf) .gt_indent_2 {
  text-indent: 10px;
}

:where(#exrrenlrkf) .gt_indent_3 {
  text-indent: 15px;
}

:where(#exrrenlrkf) .gt_indent_4 {
  text-indent: 20px;
}

:where(#exrrenlrkf) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="mean">mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="sd">sd</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="mean" class="gt_row gt_right">0.7053407</td>
<td headers="sd" class="gt_row gt_right">0.002866898</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>We can also take a look at our bootstrap graphically. We want to check that the distribution of the sample is roughly normal. If it’s not, that means we didn’t do enough bootstrap samples for the Central Limit Theorem to kick in.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><span class="co" style="color: #5E5E5E;">#Check that the distribution is normal and than the middle of the distribution is close to the 70.5% we estimated had internet access above</span></span>
<span id="cb10-2"><span class="fu" style="color: #4758AB;">ggplot</span>(sample_summary, <span class="fu" style="color: #4758AB;">aes</span>(group_mean)) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb10-3">  <span class="fu" style="color: #4758AB;">geom_density</span>() <span class="sc" style="color: #5E5E5E;">+</span> <span class="fu" style="color: #4758AB;">theme_bw</span>() <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb10-4">  <span class="fu" style="color: #4758AB;">labs</span>(<span class="at" style="color: #657422;">title =</span> <span class="st" style="color: #20794D;">"Bootstrapped means of High Speed Internet Access"</span>,</span>
<span id="cb10-5">       <span class="at" style="color: #657422;">x =</span> <span class="st" style="color: #20794D;">"Mean"</span>, </span>
<span id="cb10-6">       <span class="at" style="color: #657422;">y =</span> <span class="st" style="color: #20794D;">"Kernel Density"</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://www.natekratzer.com/posts/census_internet_microdata/index_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="checking-our-results-against-the-survey-package" class="level2">
<h2 class="anchored" data-anchor-id="checking-our-results-against-the-survey-package">Checking our results against the survey package</h2>
<p>Above we found a mean of 0.705 for 2018 and and standard error of 0.0029 based on our bootstrap analysis. It’s worth checking that this is the same result we’d get using an analytic approach (instead of bootstrap).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><span class="co" style="color: #5E5E5E;"># Here we're assuming a simple design. </span></span>
<span id="cb11-2"><span class="co" style="color: #5E5E5E;"># Survey requires the creation of a design object and then has functions that work with that object.</span></span>
<span id="cb11-3"><span class="co" style="color: #5E5E5E;"># You can get more complicated, which is when the survey package would be most useful.</span></span>
<span id="cb11-4">svy_df <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">svydesign</span>(<span class="at" style="color: #657422;">ids =</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="dv" style="color: #AD0000;">1</span>, <span class="at" style="color: #657422;">weights =</span> <span class="sc" style="color: #5E5E5E;">~</span>PERWT, <span class="at" style="color: #657422;">data =</span> df2018)</span>
<span id="cb11-5"></span>
<span id="cb11-6"><span class="co" style="color: #5E5E5E;"># Taking the mean and standard error from our design object</span></span>
<span id="cb11-7">hint_tbl <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">svymean</span>(<span class="sc" style="color: #5E5E5E;">~</span>hspd_num, <span class="at" style="color: #657422;">design =</span> svy_df)</span>
<span id="cb11-8"></span>
<span id="cb11-9">hint_tbl <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">as_tibble</span>(hint_tbl)</span>
<span id="cb11-10"><span class="fu" style="color: #4758AB;">names</span>(hint_tbl) <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"mean"</span>, <span class="st" style="color: #20794D;">"sd"</span>) <span class="co" style="color: #5E5E5E;">#The names weren't coerced correctly when transforming into a tibble. </span></span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">

<div id="ntikghusxn" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#ntikghusxn) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 50%;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #D3D3D3;
  border-right-style: solid;
  border-right-width: 3px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #D3D3D3;
  border-left-style: solid;
  border-left-width: 3px;
  border-left-color: #D3D3D3;
}

:where(#ntikghusxn) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#ntikghusxn) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#ntikghusxn) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#ntikghusxn) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#ntikghusxn) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ntikghusxn) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#ntikghusxn) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#ntikghusxn) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#ntikghusxn) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#ntikghusxn) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#ntikghusxn) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#ntikghusxn) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#ntikghusxn) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#ntikghusxn) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#ntikghusxn) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#ntikghusxn) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#ntikghusxn) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ntikghusxn) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#ntikghusxn) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#ntikghusxn) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ntikghusxn) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#ntikghusxn) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#ntikghusxn) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ntikghusxn) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ntikghusxn) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#ntikghusxn) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#ntikghusxn) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ntikghusxn) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#ntikghusxn) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ntikghusxn) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#ntikghusxn) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ntikghusxn) .gt_left {
  text-align: left;
}

:where(#ntikghusxn) .gt_center {
  text-align: center;
}

:where(#ntikghusxn) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#ntikghusxn) .gt_font_normal {
  font-weight: normal;
}

:where(#ntikghusxn) .gt_font_bold {
  font-weight: bold;
}

:where(#ntikghusxn) .gt_font_italic {
  font-style: italic;
}

:where(#ntikghusxn) .gt_super {
  font-size: 65%;
}

:where(#ntikghusxn) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#ntikghusxn) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#ntikghusxn) .gt_indent_1 {
  text-indent: 5px;
}

:where(#ntikghusxn) .gt_indent_2 {
  text-indent: 10px;
}

:where(#ntikghusxn) .gt_indent_3 {
  text-indent: 15px;
}

:where(#ntikghusxn) .gt_indent_4 {
  text-indent: 20px;
}

:where(#ntikghusxn) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="mean">mean</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="sd">sd</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="mean" class="gt_row gt_right">0.7051774</td>
<td headers="sd" class="gt_row gt_right">0.00293509</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
<p>These results are very similar. Following the IPUMS recommendation we’ll continue on with the bootstrap, but it’s good to know the results are the same for practical purposes. So now instead of just doing 2018, we’ll need to do every year. We already know the mean values for every year, and they’re still saved in the <code>df_wide</code> variable right now. So let’s write a function for bootstrap that will let us find standard errors for every year or for any other grouping we choose.</p>
</section>
<section id="writing-a-bootstrap-function" class="level2">
<h2 class="anchored" data-anchor-id="writing-a-bootstrap-function">Writing a bootstrap function</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><span class="co" style="color: #5E5E5E;"># Create a helper function</span></span>
<span id="cb12-2"><span class="co" style="color: #5E5E5E;"># It needs to have a way to recieve the dataframe from the function that calls it, so we've added a second argument</span></span>
<span id="cb12-3">create_samples <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="cf" style="color: #003B4F;">function</span>(sample_id, df){</span>
<span id="cb12-4">  </span>
<span id="cb12-5">  df_out <span class="ot" style="color: #003B4F;">&lt;-</span> df[<span class="fu" style="color: #4758AB;">sample</span>(<span class="fu" style="color: #4758AB;">nrow</span>(df), <span class="fu" style="color: #4758AB;">nrow</span>(df), <span class="at" style="color: #657422;">replace =</span> <span class="cn" style="color: #8f5902;">TRUE</span>) , ] <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb12-6">    <span class="fu" style="color: #4758AB;">as_tibble</span>()</span>
<span id="cb12-7">  </span>
<span id="cb12-8">  df_out<span class="sc" style="color: #5E5E5E;">$</span>sample_id <span class="ot" style="color: #003B4F;">&lt;-</span> sample_id</span>
<span id="cb12-9">  </span>
<span id="cb12-10">  <span class="fu" style="color: #4758AB;">return</span>(df_out)</span>
<span id="cb12-11">}</span>
<span id="cb12-12"></span>
<span id="cb12-13"><span class="co" style="color: #5E5E5E;"># Need to be able to take in grouping variables so that the summaries can be specific to the groups</span></span>
<span id="cb12-14"><span class="co" style="color: #5E5E5E;"># Using the embrace {{}} notation allows use to pass in unquoted variables to the function. </span></span>
<span id="cb12-15"></span>
<span id="cb12-16">bootstrap_pums <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="cf" style="color: #003B4F;">function</span>(df, num_samples, group_vars) {</span>
<span id="cb12-17">  </span>
<span id="cb12-18">  nlist <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">as.list</span>(<span class="fu" style="color: #4758AB;">seq</span>(<span class="dv" style="color: #AD0000;">1</span>, num_samples, <span class="at" style="color: #657422;">by =</span> <span class="dv" style="color: #AD0000;">1</span>))</span>
<span id="cb12-19">  samples <span class="ot" style="color: #003B4F;">&lt;-</span> purrr<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">map_df</span>(nlist, create_samples, df)</span>
<span id="cb12-20">  </span>
<span id="cb12-21">  sample_summary <span class="ot" style="color: #003B4F;">&lt;-</span> samples <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb12-22">    <span class="fu" style="color: #4758AB;">group_by</span>( sample_id, <span class="fu" style="color: #4758AB;">across</span>( {{group_vars}} )) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb12-23">    <span class="fu" style="color: #4758AB;">mutate</span>(<span class="at" style="color: #657422;">ind_weight =</span> PERWT <span class="sc" style="color: #5E5E5E;">/</span> <span class="fu" style="color: #4758AB;">sum</span>(PERWT),</span>
<span id="cb12-24">           <span class="at" style="color: #657422;">hspd_weight =</span> hspd_n <span class="sc" style="color: #5E5E5E;">*</span> ind_weight) <span class="sc" style="color: #5E5E5E;">%&gt;%</span> <span class="co" style="color: #5E5E5E;"># PERWT sums to population instead of to 1. Rescale it to sum to 1.</span></span>
<span id="cb12-25">    <span class="fu" style="color: #4758AB;">summarize</span>(<span class="at" style="color: #657422;">group_mean =</span> <span class="fu" style="color: #4758AB;">sum</span>(hspd_weight), <span class="at" style="color: #657422;">.groups =</span> <span class="st" style="color: #20794D;">"drop"</span>) <span class="co" style="color: #5E5E5E;"># Not dropping .groups here results in problems in the next group_by call.</span></span>
<span id="cb12-26">  </span>
<span id="cb12-27">  sample_sd <span class="ot" style="color: #003B4F;">&lt;-</span> sample_summary <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb12-28">    <span class="fu" style="color: #4758AB;">group_by</span>( <span class="fu" style="color: #4758AB;">across</span>( {{ group_vars }} )) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb12-29">    <span class="fu" style="color: #4758AB;">summarize</span>(<span class="at" style="color: #657422;">sd =</span> <span class="fu" style="color: #4758AB;">sd</span>(group_mean), <span class="at" style="color: #657422;">.groups =</span> <span class="st" style="color: #20794D;">"drop"</span>)</span>
<span id="cb12-30">}</span>
<span id="cb12-31"></span>
<span id="cb12-32"><span class="co" style="color: #5E5E5E;"># We do need to prep the data a little so that we're not carrying through the whole dataframe.</span></span>
<span id="cb12-33">df_in <span class="ot" style="color: #003B4F;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb12-34">   <span class="fu" style="color: #4758AB;">filter</span>(<span class="sc" style="color: #5E5E5E;">!</span><span class="fu" style="color: #4758AB;">is.na</span>(hspd_int)) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb12-35">   <span class="fu" style="color: #4758AB;">mutate</span>(<span class="at" style="color: #657422;">hspd_n =</span> <span class="fu" style="color: #4758AB;">if_else</span>(hspd_int <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Yes"</span>, <span class="dv" style="color: #AD0000;">1</span>, <span class="dv" style="color: #AD0000;">0</span>)) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb12-36">   <span class="fu" style="color: #4758AB;">select</span>(hspd_n, PERWT, YEAR)</span>
<span id="cb12-37"></span>
<span id="cb12-38"><span class="co" style="color: #5E5E5E;"># And finally we can call the function</span></span>
<span id="cb12-39">boot_results <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">bootstrap_pums</span>(<span class="at" style="color: #657422;">df =</span> df_in, <span class="at" style="color: #657422;">num_samples =</span> <span class="dv" style="color: #AD0000;">500</span>, <span class="at" style="color: #657422;">group_vars =</span> YEAR)</span></code></pre></div>
</div>
<p>Now that we have our bootstrap standard errors we can combine them with the data and plot them. We’ll use 95% confidence intervals, which we get by multiplying the standard error by 1.96 (the number of standard deviations that corresponds to a 95% confidence interval).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1">df_plt <span class="ot" style="color: #003B4F;">&lt;-</span> df_wide <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb13-2">  <span class="fu" style="color: #4758AB;">full_join</span>(boot_results, <span class="at" style="color: #657422;">by =</span> <span class="st" style="color: #20794D;">"YEAR"</span>) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb13-3">  <span class="fu" style="color: #4758AB;">transmute</span>(<span class="at" style="color: #657422;">Year =</span> YEAR,</span>
<span id="cb13-4">            <span class="at" style="color: #657422;">Percent =</span> <span class="dv" style="color: #AD0000;">100</span> <span class="sc" style="color: #5E5E5E;">*</span> percent_hspd,</span>
<span id="cb13-5">            <span class="at" style="color: #657422;">me =</span> <span class="dv" style="color: #AD0000;">100</span> <span class="sc" style="color: #5E5E5E;">*</span> <span class="fl" style="color: #AD0000;">1.96</span> <span class="sc" style="color: #5E5E5E;">*</span> sd)</span>
<span id="cb13-6">  </span>
<span id="cb13-7">plt_int <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">ggplot</span>(df_plt, <span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">x =</span> Year, <span class="at" style="color: #657422;">y =</span> Percent)) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb13-8">  <span class="fu" style="color: #4758AB;">geom_errorbar</span>(<span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">ymin =</span> Percent <span class="sc" style="color: #5E5E5E;">-</span> me, <span class="at" style="color: #657422;">ymax =</span> Percent <span class="sc" style="color: #5E5E5E;">+</span> me), <span class="at" style="color: #657422;">width =</span> .<span class="dv" style="color: #AD0000;">1</span>) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb13-9">  <span class="fu" style="color: #4758AB;">geom_line</span>() <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb13-10">  <span class="fu" style="color: #4758AB;">geom_point</span>() <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb13-11">  <span class="fu" style="color: #4758AB;">theme_bw</span>() <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb13-12">  <span class="fu" style="color: #4758AB;">labs</span>(<span class="at" style="color: #657422;">title =</span> <span class="st" style="color: #20794D;">"High Speed Internet Access"</span>) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb13-13">  <span class="fu" style="color: #4758AB;">theme</span>(<span class="at" style="color: #657422;">legend.position =</span> <span class="st" style="color: #20794D;">"bottom"</span>)</span>
<span id="cb13-14"></span>
<span id="cb13-15">plt_int</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://www.natekratzer.com/posts/census_internet_microdata/index_files/figure-html/plot bootstrap-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="race-poverty-age-and-geography" class="level2">
<h2 class="anchored" data-anchor-id="race-poverty-age-and-geography">Race, Poverty, Age, and Geography</h2>
<p>Going a little deeper we can use microdata to get results by custom groupings. I’ll show examples for race, poverty, age, and geography, but for any group you can construct with available Census data you can produce an estimate for their internet acess.</p>
<section id="race" class="level3">
<h3 class="anchored" data-anchor-id="race">Race</h3>
<p>Next we’ll build a table by race and year.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><span class="co" style="color: #5E5E5E;"># Let's build a table first and then we'll do the standard errors</span></span>
<span id="cb14-2"></span>
<span id="cb14-3"><span class="co" style="color: #5E5E5E;"># Coding a race variable using case_when</span></span>
<span id="cb14-4">df <span class="ot" style="color: #003B4F;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb14-5">  <span class="fu" style="color: #4758AB;">mutate</span>(<span class="at" style="color: #657422;">race =</span> <span class="fu" style="color: #4758AB;">case_when</span>(</span>
<span id="cb14-6">            RACE <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">1</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"White"</span>,</span>
<span id="cb14-7">            RACE <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">2</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"Black"</span>,</span>
<span id="cb14-8">            RACE <span class="sc" style="color: #5E5E5E;">&gt;</span> <span class="dv" style="color: #AD0000;">3</span> <span class="sc" style="color: #5E5E5E;">&amp;</span> RACE <span class="sc" style="color: #5E5E5E;">&lt;</span> <span class="dv" style="color: #AD0000;">7</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"Asian"</span>,</span>
<span id="cb14-9">            HISPAN <span class="sc" style="color: #5E5E5E;">&gt;</span> <span class="dv" style="color: #AD0000;">0</span> <span class="sc" style="color: #5E5E5E;">&amp;</span> HISPAN <span class="sc" style="color: #5E5E5E;">&lt;</span> <span class="dv" style="color: #AD0000;">5</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"Hispanic"</span>,</span>
<span id="cb14-10">            <span class="cn" style="color: #8f5902;">TRUE</span> <span class="sc" style="color: #5E5E5E;">~</span> <span class="st" style="color: #20794D;">"All Others"</span></span>
<span id="cb14-11">          ))</span>
<span id="cb14-12"></span>
<span id="cb14-13">df_group <span class="ot" style="color: #003B4F;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb14-14">  <span class="fu" style="color: #4758AB;">group_by</span>(hspd_int, race, YEAR) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb14-15">  <span class="fu" style="color: #4758AB;">summarize</span>(<span class="at" style="color: #657422;">count =</span> <span class="fu" style="color: #4758AB;">sum</span>(PERWT), <span class="at" style="color: #657422;">.groups =</span> <span class="st" style="color: #20794D;">"drop"</span>)</span>
<span id="cb14-16"></span>
<span id="cb14-17"><span class="co" style="color: #5E5E5E;"># Pivot for easier percent calculations</span></span>
<span id="cb14-18">df_wide <span class="ot" style="color: #003B4F;">&lt;-</span> df_group  <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb14-19">  <span class="fu" style="color: #4758AB;">pivot_wider</span>(<span class="at" style="color: #657422;">id_cols =</span> <span class="fu" style="color: #4758AB;">c</span>(race, YEAR), <span class="at" style="color: #657422;">names_from =</span> hspd_int, <span class="at" style="color: #657422;">values_from =</span> count) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb14-20">  <span class="fu" style="color: #4758AB;">mutate</span>(<span class="at" style="color: #657422;">percent_hspd =</span> (Yes <span class="sc" style="color: #5E5E5E;">/</span> (Yes <span class="sc" style="color: #5E5E5E;">+</span> No)),</span>
<span id="cb14-21">         <span class="at" style="color: #657422;">percent_no =</span> <span class="dv" style="color: #AD0000;">1</span> <span class="sc" style="color: #5E5E5E;">-</span> percent_hspd,</span>
<span id="cb14-22">         <span class="at" style="color: #657422;">percent_NA =</span> (<span class="st" style="color: #20794D;">`</span><span class="at" style="color: #657422;">NA</span><span class="st" style="color: #20794D;">`</span> <span class="sc" style="color: #5E5E5E;">/</span> (Yes <span class="sc" style="color: #5E5E5E;">+</span> No <span class="sc" style="color: #5E5E5E;">+</span> <span class="st" style="color: #20794D;">`</span><span class="at" style="color: #657422;">NA</span><span class="st" style="color: #20794D;">`</span>)))</span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">

<div id="bezsmvzedz" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#bezsmvzedz) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 50%;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #D3D3D3;
  border-right-style: solid;
  border-right-width: 3px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #D3D3D3;
  border-left-style: solid;
  border-left-width: 3px;
  border-left-color: #D3D3D3;
}

:where(#bezsmvzedz) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#bezsmvzedz) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#bezsmvzedz) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#bezsmvzedz) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#bezsmvzedz) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#bezsmvzedz) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#bezsmvzedz) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#bezsmvzedz) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#bezsmvzedz) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#bezsmvzedz) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#bezsmvzedz) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#bezsmvzedz) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#bezsmvzedz) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#bezsmvzedz) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#bezsmvzedz) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#bezsmvzedz) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#bezsmvzedz) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#bezsmvzedz) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#bezsmvzedz) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#bezsmvzedz) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#bezsmvzedz) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#bezsmvzedz) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#bezsmvzedz) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#bezsmvzedz) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#bezsmvzedz) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#bezsmvzedz) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#bezsmvzedz) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#bezsmvzedz) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#bezsmvzedz) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#bezsmvzedz) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#bezsmvzedz) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#bezsmvzedz) .gt_left {
  text-align: left;
}

:where(#bezsmvzedz) .gt_center {
  text-align: center;
}

:where(#bezsmvzedz) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#bezsmvzedz) .gt_font_normal {
  font-weight: normal;
}

:where(#bezsmvzedz) .gt_font_bold {
  font-weight: bold;
}

:where(#bezsmvzedz) .gt_font_italic {
  font-style: italic;
}

:where(#bezsmvzedz) .gt_super {
  font-size: 65%;
}

:where(#bezsmvzedz) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#bezsmvzedz) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#bezsmvzedz) .gt_indent_1 {
  text-indent: 5px;
}

:where(#bezsmvzedz) .gt_indent_2 {
  text-indent: 10px;
}

:where(#bezsmvzedz) .gt_indent_3 {
  text-indent: 15px;
}

:where(#bezsmvzedz) .gt_indent_4 {
  text-indent: 20px;
}

:where(#bezsmvzedz) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  <thead class="gt_header">
    <tr>
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style="">Table 6: High Speed Internet Access</td>
    </tr>
    <tr>
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="">By Race and Ethnicity</td>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="2" colspan="1" scope="col" id="Year">Year</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Percent">
        <span class="gt_column_spanner">Percent</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Number of People">
        <span class="gt_column_spanner">Number of People</span>
      </th>
    </tr>
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Yes">Yes</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="No">No</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NA">NA</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Yes">Yes</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="No">No</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NA">NA</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Asian">Asian</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="Asian  YEAR" class="gt_row gt_center">2013</td>
<td headers="Asian  percent_hspd" class="gt_row gt_center">84%</td>
<td headers="Asian  percent_no" class="gt_row gt_center">16%</td>
<td headers="Asian  percent_NA" class="gt_row gt_center">4%</td>
<td headers="Asian  Yes" class="gt_row gt_center">42.2K</td>
<td headers="Asian  No" class="gt_row gt_center">8.03K</td>
<td headers="Asian  NA" class="gt_row gt_center">2.06K</td></tr>
    <tr><td headers="Asian  YEAR" class="gt_row gt_center gt_striped">2014</td>
<td headers="Asian  percent_hspd" class="gt_row gt_center gt_striped">76%</td>
<td headers="Asian  percent_no" class="gt_row gt_center gt_striped">24%</td>
<td headers="Asian  percent_NA" class="gt_row gt_center gt_striped">2%</td>
<td headers="Asian  Yes" class="gt_row gt_center gt_striped">41.6K</td>
<td headers="Asian  No" class="gt_row gt_center gt_striped">12.9K</td>
<td headers="Asian  NA" class="gt_row gt_center gt_striped">1.19K</td></tr>
    <tr><td headers="Asian  YEAR" class="gt_row gt_center">2015</td>
<td headers="Asian  percent_hspd" class="gt_row gt_center">83%</td>
<td headers="Asian  percent_no" class="gt_row gt_center">17%</td>
<td headers="Asian  percent_NA" class="gt_row gt_center">3%</td>
<td headers="Asian  Yes" class="gt_row gt_center">48.8K</td>
<td headers="Asian  No" class="gt_row gt_center">10.3K</td>
<td headers="Asian  NA" class="gt_row gt_center">1.76K</td></tr>
    <tr><td headers="Asian  YEAR" class="gt_row gt_center gt_striped">2016</td>
<td headers="Asian  percent_hspd" class="gt_row gt_center gt_striped">77%</td>
<td headers="Asian  percent_no" class="gt_row gt_center gt_striped">23%</td>
<td headers="Asian  percent_NA" class="gt_row gt_center gt_striped">10%</td>
<td headers="Asian  Yes" class="gt_row gt_center gt_striped">43.8K</td>
<td headers="Asian  No" class="gt_row gt_center gt_striped">13.0K</td>
<td headers="Asian  NA" class="gt_row gt_center gt_striped">6.55K</td></tr>
    <tr><td headers="Asian  YEAR" class="gt_row gt_center">2017</td>
<td headers="Asian  percent_hspd" class="gt_row gt_center">80%</td>
<td headers="Asian  percent_no" class="gt_row gt_center">20%</td>
<td headers="Asian  percent_NA" class="gt_row gt_center">1%</td>
<td headers="Asian  Yes" class="gt_row gt_center">52.5K</td>
<td headers="Asian  No" class="gt_row gt_center">12.9K</td>
<td headers="Asian  NA" class="gt_row gt_center">703</td></tr>
    <tr><td headers="Asian  YEAR" class="gt_row gt_center gt_striped">2018</td>
<td headers="Asian  percent_hspd" class="gt_row gt_center gt_striped">82%</td>
<td headers="Asian  percent_no" class="gt_row gt_center gt_striped">18%</td>
<td headers="Asian  percent_NA" class="gt_row gt_center gt_striped">3%</td>
<td headers="Asian  Yes" class="gt_row gt_center gt_striped">52.8K</td>
<td headers="Asian  No" class="gt_row gt_center gt_striped">11.7K</td>
<td headers="Asian  NA" class="gt_row gt_center gt_striped">1.66K</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Black">Black</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="Black  YEAR" class="gt_row gt_center">2013</td>
<td headers="Black  percent_hspd" class="gt_row gt_center">64%</td>
<td headers="Black  percent_no" class="gt_row gt_center">36%</td>
<td headers="Black  percent_NA" class="gt_row gt_center">9%</td>
<td headers="Black  Yes" class="gt_row gt_center">192K</td>
<td headers="Black  No" class="gt_row gt_center">106K</td>
<td headers="Black  NA" class="gt_row gt_center">28.7K</td></tr>
    <tr><td headers="Black  YEAR" class="gt_row gt_center gt_striped">2014</td>
<td headers="Black  percent_hspd" class="gt_row gt_center gt_striped">58%</td>
<td headers="Black  percent_no" class="gt_row gt_center gt_striped">42%</td>
<td headers="Black  percent_NA" class="gt_row gt_center gt_striped">9%</td>
<td headers="Black  Yes" class="gt_row gt_center gt_striped">171K</td>
<td headers="Black  No" class="gt_row gt_center gt_striped">122K</td>
<td headers="Black  NA" class="gt_row gt_center gt_striped">30.3K</td></tr>
    <tr><td headers="Black  YEAR" class="gt_row gt_center">2015</td>
<td headers="Black  percent_hspd" class="gt_row gt_center">62%</td>
<td headers="Black  percent_no" class="gt_row gt_center">38%</td>
<td headers="Black  percent_NA" class="gt_row gt_center">12%</td>
<td headers="Black  Yes" class="gt_row gt_center">183K</td>
<td headers="Black  No" class="gt_row gt_center">113K</td>
<td headers="Black  NA" class="gt_row gt_center">40.5K</td></tr>
    <tr><td headers="Black  YEAR" class="gt_row gt_center gt_striped">2016</td>
<td headers="Black  percent_hspd" class="gt_row gt_center gt_striped">62%</td>
<td headers="Black  percent_no" class="gt_row gt_center gt_striped">38%</td>
<td headers="Black  percent_NA" class="gt_row gt_center gt_striped">5%</td>
<td headers="Black  Yes" class="gt_row gt_center gt_striped">204K</td>
<td headers="Black  No" class="gt_row gt_center gt_striped">127K</td>
<td headers="Black  NA" class="gt_row gt_center gt_striped">15.6K</td></tr>
    <tr><td headers="Black  YEAR" class="gt_row gt_center">2017</td>
<td headers="Black  percent_hspd" class="gt_row gt_center">64%</td>
<td headers="Black  percent_no" class="gt_row gt_center">36%</td>
<td headers="Black  percent_NA" class="gt_row gt_center">2%</td>
<td headers="Black  Yes" class="gt_row gt_center">216K</td>
<td headers="Black  No" class="gt_row gt_center">122K</td>
<td headers="Black  NA" class="gt_row gt_center">8.04K</td></tr>
    <tr><td headers="Black  YEAR" class="gt_row gt_center gt_striped">2018</td>
<td headers="Black  percent_hspd" class="gt_row gt_center gt_striped">62%</td>
<td headers="Black  percent_no" class="gt_row gt_center gt_striped">38%</td>
<td headers="Black  percent_NA" class="gt_row gt_center gt_striped">3%</td>
<td headers="Black  Yes" class="gt_row gt_center gt_striped">200K</td>
<td headers="Black  No" class="gt_row gt_center gt_striped">122K</td>
<td headers="Black  NA" class="gt_row gt_center gt_striped">9.90K</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="Hispanic">Hispanic</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="Hispanic  YEAR" class="gt_row gt_center">2013</td>
<td headers="Hispanic  percent_hspd" class="gt_row gt_center">48%</td>
<td headers="Hispanic  percent_no" class="gt_row gt_center">52%</td>
<td headers="Hispanic  percent_NA" class="gt_row gt_center">4%</td>
<td headers="Hispanic  Yes" class="gt_row gt_center">21.6K</td>
<td headers="Hispanic  No" class="gt_row gt_center">23.8K</td>
<td headers="Hispanic  NA" class="gt_row gt_center">1.90K</td></tr>
    <tr><td headers="Hispanic  YEAR" class="gt_row gt_center gt_striped">2014</td>
<td headers="Hispanic  percent_hspd" class="gt_row gt_center gt_striped">38%</td>
<td headers="Hispanic  percent_no" class="gt_row gt_center gt_striped">62%</td>
<td headers="Hispanic  percent_NA" class="gt_row gt_center gt_striped">12%</td>
<td headers="Hispanic  Yes" class="gt_row gt_center gt_striped">15.7K</td>
<td headers="Hispanic  No" class="gt_row gt_center gt_striped">25.2K</td>
<td headers="Hispanic  NA" class="gt_row gt_center gt_striped">5.66K</td></tr>
    <tr><td headers="Hispanic  YEAR" class="gt_row gt_center">2015</td>
<td headers="Hispanic  percent_hspd" class="gt_row gt_center">47%</td>
<td headers="Hispanic  percent_no" class="gt_row gt_center">53%</td>
<td headers="Hispanic  percent_NA" class="gt_row gt_center">10%</td>
<td headers="Hispanic  Yes" class="gt_row gt_center">17.2K</td>
<td headers="Hispanic  No" class="gt_row gt_center">19.5K</td>
<td headers="Hispanic  NA" class="gt_row gt_center">4.01K</td></tr>
    <tr><td headers="Hispanic  YEAR" class="gt_row gt_center gt_striped">2016</td>
<td headers="Hispanic  percent_hspd" class="gt_row gt_center gt_striped">59%</td>
<td headers="Hispanic  percent_no" class="gt_row gt_center gt_striped">41%</td>
<td headers="Hispanic  percent_NA" class="gt_row gt_center gt_striped">4%</td>
<td headers="Hispanic  Yes" class="gt_row gt_center gt_striped">23.0K</td>
<td headers="Hispanic  No" class="gt_row gt_center gt_striped">15.8K</td>
<td headers="Hispanic  NA" class="gt_row gt_center gt_striped">1.59K</td></tr>
    <tr><td headers="Hispanic  YEAR" class="gt_row gt_center">2017</td>
<td headers="Hispanic  percent_hspd" class="gt_row gt_center">57%</td>
<td headers="Hispanic  percent_no" class="gt_row gt_center">43%</td>
<td headers="Hispanic  percent_NA" class="gt_row gt_center">1%</td>
<td headers="Hispanic  Yes" class="gt_row gt_center">24.7K</td>
<td headers="Hispanic  No" class="gt_row gt_center">18.5K</td>
<td headers="Hispanic  NA" class="gt_row gt_center">421</td></tr>
    <tr><td headers="Hispanic  YEAR" class="gt_row gt_center gt_striped">2018</td>
<td headers="Hispanic  percent_hspd" class="gt_row gt_center gt_striped">59%</td>
<td headers="Hispanic  percent_no" class="gt_row gt_center gt_striped">41%</td>
<td headers="Hispanic  percent_NA" class="gt_row gt_center gt_striped">1%</td>
<td headers="Hispanic  Yes" class="gt_row gt_center gt_striped">30.9K</td>
<td headers="Hispanic  No" class="gt_row gt_center gt_striped">21.1K</td>
<td headers="Hispanic  NA" class="gt_row gt_center gt_striped">616</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="White">White</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="White  YEAR" class="gt_row gt_center">2013</td>
<td headers="White  percent_hspd" class="gt_row gt_center">68%</td>
<td headers="White  percent_no" class="gt_row gt_center">32%</td>
<td headers="White  percent_NA" class="gt_row gt_center">4%</td>
<td headers="White  Yes" class="gt_row gt_center">2.45M</td>
<td headers="White  No" class="gt_row gt_center">1.16M</td>
<td headers="White  NA" class="gt_row gt_center">148K</td></tr>
    <tr><td headers="White  YEAR" class="gt_row gt_center gt_striped">2014</td>
<td headers="White  percent_hspd" class="gt_row gt_center gt_striped">68%</td>
<td headers="White  percent_no" class="gt_row gt_center gt_striped">32%</td>
<td headers="White  percent_NA" class="gt_row gt_center gt_striped">4%</td>
<td headers="White  Yes" class="gt_row gt_center gt_striped">2.44M</td>
<td headers="White  No" class="gt_row gt_center gt_striped">1.16M</td>
<td headers="White  NA" class="gt_row gt_center gt_striped">152K</td></tr>
    <tr><td headers="White  YEAR" class="gt_row gt_center">2015</td>
<td headers="White  percent_hspd" class="gt_row gt_center">70%</td>
<td headers="White  percent_no" class="gt_row gt_center">30%</td>
<td headers="White  percent_NA" class="gt_row gt_center">4%</td>
<td headers="White  Yes" class="gt_row gt_center">2.54M</td>
<td headers="White  No" class="gt_row gt_center">1.07M</td>
<td headers="White  NA" class="gt_row gt_center">164K</td></tr>
    <tr><td headers="White  YEAR" class="gt_row gt_center gt_striped">2016</td>
<td headers="White  percent_hspd" class="gt_row gt_center gt_striped">69%</td>
<td headers="White  percent_no" class="gt_row gt_center gt_striped">31%</td>
<td headers="White  percent_NA" class="gt_row gt_center gt_striped">3%</td>
<td headers="White  Yes" class="gt_row gt_center gt_striped">2.54M</td>
<td headers="White  No" class="gt_row gt_center gt_striped">1.13M</td>
<td headers="White  NA" class="gt_row gt_center gt_striped">102K</td></tr>
    <tr><td headers="White  YEAR" class="gt_row gt_center">2017</td>
<td headers="White  percent_hspd" class="gt_row gt_center">70%</td>
<td headers="White  percent_no" class="gt_row gt_center">30%</td>
<td headers="White  percent_NA" class="gt_row gt_center">3%</td>
<td headers="White  Yes" class="gt_row gt_center">2.54M</td>
<td headers="White  No" class="gt_row gt_center">1.11M</td>
<td headers="White  NA" class="gt_row gt_center">113K</td></tr>
    <tr><td headers="White  YEAR" class="gt_row gt_center gt_striped">2018</td>
<td headers="White  percent_hspd" class="gt_row gt_center gt_striped">71%</td>
<td headers="White  percent_no" class="gt_row gt_center gt_striped">29%</td>
<td headers="White  percent_NA" class="gt_row gt_center gt_striped">3%</td>
<td headers="White  Yes" class="gt_row gt_center gt_striped">2.61M</td>
<td headers="White  No" class="gt_row gt_center gt_striped">1.06M</td>
<td headers="White  NA" class="gt_row gt_center gt_striped">108K</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="7" class="gt_group_heading" scope="colgroup" id="All Other Races">All Other Races</th>
    </tr>
    <tr class="gt_row_group_first"><td headers="All Other Races  YEAR" class="gt_row gt_center">2013</td>
<td headers="All Other Races  percent_hspd" class="gt_row gt_center">72%</td>
<td headers="All Other Races  percent_no" class="gt_row gt_center">28%</td>
<td headers="All Other Races  percent_NA" class="gt_row gt_center">6%</td>
<td headers="All Other Races  Yes" class="gt_row gt_center">58.3K</td>
<td headers="All Other Races  No" class="gt_row gt_center">22.3K</td>
<td headers="All Other Races  NA" class="gt_row gt_center">4.90K</td></tr>
    <tr><td headers="All Other Races  YEAR" class="gt_row gt_center gt_striped">2014</td>
<td headers="All Other Races  percent_hspd" class="gt_row gt_center gt_striped">70%</td>
<td headers="All Other Races  percent_no" class="gt_row gt_center gt_striped">30%</td>
<td headers="All Other Races  percent_NA" class="gt_row gt_center gt_striped">4%</td>
<td headers="All Other Races  Yes" class="gt_row gt_center gt_striped">65.9K</td>
<td headers="All Other Races  No" class="gt_row gt_center gt_striped">27.7K</td>
<td headers="All Other Races  NA" class="gt_row gt_center gt_striped">3.91K</td></tr>
    <tr><td headers="All Other Races  YEAR" class="gt_row gt_center">2015</td>
<td headers="All Other Races  percent_hspd" class="gt_row gt_center">71%</td>
<td headers="All Other Races  percent_no" class="gt_row gt_center">29%</td>
<td headers="All Other Races  percent_NA" class="gt_row gt_center">7%</td>
<td headers="All Other Races  Yes" class="gt_row gt_center">59.6K</td>
<td headers="All Other Races  No" class="gt_row gt_center">24.3K</td>
<td headers="All Other Races  NA" class="gt_row gt_center">6.19K</td></tr>
    <tr><td headers="All Other Races  YEAR" class="gt_row gt_center gt_striped">2016</td>
<td headers="All Other Races  percent_hspd" class="gt_row gt_center gt_striped">75%</td>
<td headers="All Other Races  percent_no" class="gt_row gt_center gt_striped">25%</td>
<td headers="All Other Races  percent_NA" class="gt_row gt_center gt_striped">4%</td>
<td headers="All Other Races  Yes" class="gt_row gt_center gt_striped">63.2K</td>
<td headers="All Other Races  No" class="gt_row gt_center gt_striped">21.3K</td>
<td headers="All Other Races  NA" class="gt_row gt_center gt_striped">3.12K</td></tr>
    <tr><td headers="All Other Races  YEAR" class="gt_row gt_center">2017</td>
<td headers="All Other Races  percent_hspd" class="gt_row gt_center">71%</td>
<td headers="All Other Races  percent_no" class="gt_row gt_center">29%</td>
<td headers="All Other Races  percent_NA" class="gt_row gt_center">2%</td>
<td headers="All Other Races  Yes" class="gt_row gt_center">68.9K</td>
<td headers="All Other Races  No" class="gt_row gt_center">28.2K</td>
<td headers="All Other Races  NA" class="gt_row gt_center">2.23K</td></tr>
    <tr><td headers="All Other Races  YEAR" class="gt_row gt_center gt_striped">2018</td>
<td headers="All Other Races  percent_hspd" class="gt_row gt_center gt_striped">72%</td>
<td headers="All Other Races  percent_no" class="gt_row gt_center gt_striped">28%</td>
<td headers="All Other Races  percent_NA" class="gt_row gt_center gt_striped">5%</td>
<td headers="All Other Races  Yes" class="gt_row gt_center gt_striped">73.9K</td>
<td headers="All Other Races  No" class="gt_row gt_center gt_striped">29.4K</td>
<td headers="All Other Races  NA" class="gt_row gt_center gt_striped">5.28K</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="7">Yes and No percentages are calculated out of those who answered. NA is reported out of all the data to provide context on how much data is missing.</td>
    </tr>
    <tr>
      <td class="gt_sourcenote" colspan="7">Source: Author's analysis of IPUMS data.</td>
    </tr>
  </tfoot>
  
</table>
</div>
</div>
</div>
<p>While we do see high NA values in some years, overall they’re at reasonable levels and seem to be lowest in 2018. This table is quite long though. While that works for exploring the data, for an actual display we’d probably want to focus on just 2018 and show the history in a graph. Below is the table filtered to just 2018 and slightly reformatted.</p>
<div class="cell">
<div class="cell-output-display">

<div id="ewhkpzyrez" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#ewhkpzyrez) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 50%;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #D3D3D3;
  border-right-style: solid;
  border-right-width: 3px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #D3D3D3;
  border-left-style: solid;
  border-left-width: 3px;
  border-left-color: #D3D3D3;
}

:where(#ewhkpzyrez) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#ewhkpzyrez) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#ewhkpzyrez) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#ewhkpzyrez) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#ewhkpzyrez) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ewhkpzyrez) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#ewhkpzyrez) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#ewhkpzyrez) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#ewhkpzyrez) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#ewhkpzyrez) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#ewhkpzyrez) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#ewhkpzyrez) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#ewhkpzyrez) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#ewhkpzyrez) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#ewhkpzyrez) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#ewhkpzyrez) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#ewhkpzyrez) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ewhkpzyrez) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#ewhkpzyrez) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#ewhkpzyrez) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ewhkpzyrez) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#ewhkpzyrez) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#ewhkpzyrez) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ewhkpzyrez) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ewhkpzyrez) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#ewhkpzyrez) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#ewhkpzyrez) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#ewhkpzyrez) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#ewhkpzyrez) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ewhkpzyrez) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#ewhkpzyrez) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#ewhkpzyrez) .gt_left {
  text-align: left;
}

:where(#ewhkpzyrez) .gt_center {
  text-align: center;
}

:where(#ewhkpzyrez) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#ewhkpzyrez) .gt_font_normal {
  font-weight: normal;
}

:where(#ewhkpzyrez) .gt_font_bold {
  font-weight: bold;
}

:where(#ewhkpzyrez) .gt_font_italic {
  font-style: italic;
}

:where(#ewhkpzyrez) .gt_super {
  font-size: 65%;
}

:where(#ewhkpzyrez) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#ewhkpzyrez) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#ewhkpzyrez) .gt_indent_1 {
  text-indent: 5px;
}

:where(#ewhkpzyrez) .gt_indent_2 {
  text-indent: 10px;
}

:where(#ewhkpzyrez) .gt_indent_3 {
  text-indent: 15px;
}

:where(#ewhkpzyrez) .gt_indent_4 {
  text-indent: 20px;
}

:where(#ewhkpzyrez) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  <thead class="gt_header">
    <tr>
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style="">Table 7: High Speed Internet Access in 2018</td>
    </tr>
    <tr>
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="">By Race and Ethnicity</td>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="2" colspan="1" scope="col" id="Race/Ethnicity">Race/Ethnicity</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Percent">
        <span class="gt_column_spanner">Percent</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Number of People">
        <span class="gt_column_spanner">Number of People</span>
      </th>
    </tr>
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Yes">Yes</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="No">No</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NA">NA</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Yes">Yes</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="No">No</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NA">NA</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="race" class="gt_row gt_center">All Others</td>
<td headers="percent_hspd" class="gt_row gt_center">72%</td>
<td headers="percent_no" class="gt_row gt_center">28%</td>
<td headers="percent_NA" class="gt_row gt_center">5%</td>
<td headers="Yes" class="gt_row gt_center">73.9K</td>
<td headers="No" class="gt_row gt_center">29.4K</td>
<td headers="NA" class="gt_row gt_center">5.28K</td></tr>
    <tr><td headers="race" class="gt_row gt_center gt_striped">Asian</td>
<td headers="percent_hspd" class="gt_row gt_center gt_striped">82%</td>
<td headers="percent_no" class="gt_row gt_center gt_striped">18%</td>
<td headers="percent_NA" class="gt_row gt_center gt_striped">3%</td>
<td headers="Yes" class="gt_row gt_center gt_striped">52.8K</td>
<td headers="No" class="gt_row gt_center gt_striped">11.7K</td>
<td headers="NA" class="gt_row gt_center gt_striped">1.66K</td></tr>
    <tr><td headers="race" class="gt_row gt_center">Black</td>
<td headers="percent_hspd" class="gt_row gt_center">62%</td>
<td headers="percent_no" class="gt_row gt_center">38%</td>
<td headers="percent_NA" class="gt_row gt_center">3%</td>
<td headers="Yes" class="gt_row gt_center">200K</td>
<td headers="No" class="gt_row gt_center">122K</td>
<td headers="NA" class="gt_row gt_center">9.90K</td></tr>
    <tr><td headers="race" class="gt_row gt_center gt_striped">Hispanic</td>
<td headers="percent_hspd" class="gt_row gt_center gt_striped">59%</td>
<td headers="percent_no" class="gt_row gt_center gt_striped">41%</td>
<td headers="percent_NA" class="gt_row gt_center gt_striped">1%</td>
<td headers="Yes" class="gt_row gt_center gt_striped">30.9K</td>
<td headers="No" class="gt_row gt_center gt_striped">21.1K</td>
<td headers="NA" class="gt_row gt_center gt_striped">616</td></tr>
    <tr><td headers="race" class="gt_row gt_center">White</td>
<td headers="percent_hspd" class="gt_row gt_center">71%</td>
<td headers="percent_no" class="gt_row gt_center">29%</td>
<td headers="percent_NA" class="gt_row gt_center">3%</td>
<td headers="Yes" class="gt_row gt_center">2.61M</td>
<td headers="No" class="gt_row gt_center">1.06M</td>
<td headers="NA" class="gt_row gt_center">108K</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="7">Yes and No percentages are calculated out of those who answered. NA is reported out of all the data to provide context on how much data is missing.</td>
    </tr>
    <tr>
      <td class="gt_sourcenote" colspan="7">Source: Author's analysis of IPUMS data.</td>
    </tr>
  </tfoot>
  
</table>
</div>
</div>
</div>
<p>Now let’s add standard errors and graph the data. I’ll write the code for graphing the data as a function since we will use it again.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><span class="co" style="color: #5E5E5E;"># We do need to prep the data a little so that we're not carrying through the whole dataframe.</span></span>
<span id="cb15-2">df_in <span class="ot" style="color: #003B4F;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb15-3">  <span class="fu" style="color: #4758AB;">filter</span>(<span class="sc" style="color: #5E5E5E;">!</span><span class="fu" style="color: #4758AB;">is.na</span>(hspd_int)) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb15-4">  <span class="fu" style="color: #4758AB;">mutate</span>(<span class="at" style="color: #657422;">hspd_n =</span> <span class="fu" style="color: #4758AB;">if_else</span>(hspd_int <span class="sc" style="color: #5E5E5E;">==</span> <span class="st" style="color: #20794D;">"Yes"</span>, <span class="dv" style="color: #AD0000;">1</span>, <span class="dv" style="color: #AD0000;">0</span>)) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb15-5">  <span class="fu" style="color: #4758AB;">select</span>(hspd_n, PERWT, YEAR, race)</span>
<span id="cb15-6"></span>
<span id="cb15-7"><span class="co" style="color: #5E5E5E;"># And we can call the bootstrap function</span></span>
<span id="cb15-8">boot_results <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">bootstrap_pums</span>(<span class="at" style="color: #657422;">df =</span> df_in, <span class="at" style="color: #657422;">num_samples =</span> <span class="dv" style="color: #AD0000;">500</span>, <span class="at" style="color: #657422;">group_vars =</span> <span class="fu" style="color: #4758AB;">c</span>(YEAR, race))</span>
<span id="cb15-9"></span>
<span id="cb15-10">df_plt <span class="ot" style="color: #003B4F;">&lt;-</span> df_wide <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb15-11">  <span class="fu" style="color: #4758AB;">full_join</span>(boot_results, <span class="at" style="color: #657422;">by =</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"race"</span>, <span class="st" style="color: #20794D;">"YEAR"</span>)) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb15-12">  <span class="fu" style="color: #4758AB;">transmute</span>(<span class="at" style="color: #657422;">Year =</span> YEAR,</span>
<span id="cb15-13">            <span class="at" style="color: #657422;">Race =</span> race,</span>
<span id="cb15-14">            <span class="at" style="color: #657422;">Percent =</span> <span class="dv" style="color: #AD0000;">100</span> <span class="sc" style="color: #5E5E5E;">*</span> percent_hspd,</span>
<span id="cb15-15">            <span class="at" style="color: #657422;">me =</span> <span class="dv" style="color: #AD0000;">100</span> <span class="sc" style="color: #5E5E5E;">*</span> <span class="fl" style="color: #AD0000;">1.96</span> <span class="sc" style="color: #5E5E5E;">*</span> sd) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb15-16">  <span class="fu" style="color: #4758AB;">filter</span>(Race <span class="sc" style="color: #5E5E5E;">!=</span> <span class="st" style="color: #20794D;">"All Others"</span>) <span class="co" style="color: #5E5E5E;"># When plotting All Others overlaps White and having five lines makes it quite hard to read. </span></span>
<span id="cb15-17"></span>
<span id="cb15-18"><span class="co" style="color: #5E5E5E;"># At this point I'll introduce a function to plot multiple groups over time, since we'll use this again </span></span>
<span id="cb15-19">plt_by <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="cf" style="color: #003B4F;">function</span>(df, group_var, <span class="at" style="color: #657422;">title_text =</span> <span class="st" style="color: #20794D;">""</span>) {</span>
<span id="cb15-20">  </span>
<span id="cb15-21">  plt <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">ggplot</span>(<span class="at" style="color: #657422;">data =</span> df, <span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">x =</span> Year, <span class="at" style="color: #657422;">y =</span> Percent, <span class="at" style="color: #657422;">group =</span> {{group_var}}, <span class="at" style="color: #657422;">colour =</span> {{group_var}})) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb15-22">    <span class="fu" style="color: #4758AB;">geom_errorbar</span>(<span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">ymin =</span> Percent <span class="sc" style="color: #5E5E5E;">-</span> me, <span class="at" style="color: #657422;">ymax =</span> Percent <span class="sc" style="color: #5E5E5E;">+</span> me), <span class="at" style="color: #657422;">width =</span> .<span class="dv" style="color: #AD0000;">1</span>) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb15-23">    <span class="fu" style="color: #4758AB;">geom_point</span>() <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb15-24">    <span class="fu" style="color: #4758AB;">geom_line</span>() <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb15-25">    <span class="fu" style="color: #4758AB;">theme_bw</span>() <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb15-26">    <span class="fu" style="color: #4758AB;">labs</span>(<span class="at" style="color: #657422;">title =</span> title_text, <span class="at" style="color: #657422;">x =</span> <span class="st" style="color: #20794D;">"Year"</span>, <span class="at" style="color: #657422;">y =</span> <span class="st" style="color: #20794D;">"Percent"</span>) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb15-27">    <span class="fu" style="color: #4758AB;">theme</span>(<span class="at" style="color: #657422;">legend.position =</span> <span class="st" style="color: #20794D;">"bottom"</span>)</span>
<span id="cb15-28"></span>
<span id="cb15-29">  plt</span>
<span id="cb15-30">}</span>
<span id="cb15-31"></span>
<span id="cb15-32">plt_race <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">plt_by</span>(df_plt, Race, <span class="at" style="color: #657422;">title_text =</span> <span class="st" style="color: #20794D;">"High Speed Internet Access by Race and Ethnicity"</span>)</span>
<span id="cb15-33"></span>
<span id="cb15-34">plt_race</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://www.natekratzer.com/posts/census_internet_microdata/index_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="poverty-status" class="level3">
<h3 class="anchored" data-anchor-id="poverty-status">Poverty Status</h3>
<p>I’m going to skip showing the code for Poverty, Age, and Geography because it’s extremely similar to the code used for Race. The poverty variable in the IPUMS data is measured in income as a percent of the poverty line. So for this analysis I code under 100 as being in poverty, between 100 and 200 percent of the poverty line as near poverty, and above 200 percent as not being in poverty.</p>
<div class="cell">

</div>
<div class="cell">
<div class="cell-output-display">

<div id="npvlawpatz" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#npvlawpatz) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 50%;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #D3D3D3;
  border-right-style: solid;
  border-right-width: 3px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #D3D3D3;
  border-left-style: solid;
  border-left-width: 3px;
  border-left-color: #D3D3D3;
}

:where(#npvlawpatz) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#npvlawpatz) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#npvlawpatz) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#npvlawpatz) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#npvlawpatz) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#npvlawpatz) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#npvlawpatz) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#npvlawpatz) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#npvlawpatz) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#npvlawpatz) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#npvlawpatz) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#npvlawpatz) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#npvlawpatz) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#npvlawpatz) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#npvlawpatz) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#npvlawpatz) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#npvlawpatz) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#npvlawpatz) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#npvlawpatz) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#npvlawpatz) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#npvlawpatz) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#npvlawpatz) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#npvlawpatz) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#npvlawpatz) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#npvlawpatz) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#npvlawpatz) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#npvlawpatz) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#npvlawpatz) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#npvlawpatz) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#npvlawpatz) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#npvlawpatz) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#npvlawpatz) .gt_left {
  text-align: left;
}

:where(#npvlawpatz) .gt_center {
  text-align: center;
}

:where(#npvlawpatz) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#npvlawpatz) .gt_font_normal {
  font-weight: normal;
}

:where(#npvlawpatz) .gt_font_bold {
  font-weight: bold;
}

:where(#npvlawpatz) .gt_font_italic {
  font-style: italic;
}

:where(#npvlawpatz) .gt_super {
  font-size: 65%;
}

:where(#npvlawpatz) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#npvlawpatz) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#npvlawpatz) .gt_indent_1 {
  text-indent: 5px;
}

:where(#npvlawpatz) .gt_indent_2 {
  text-indent: 10px;
}

:where(#npvlawpatz) .gt_indent_3 {
  text-indent: 15px;
}

:where(#npvlawpatz) .gt_indent_4 {
  text-indent: 20px;
}

:where(#npvlawpatz) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  <thead class="gt_header">
    <tr>
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style="">Table 8: High Speed Internet Access in 2018</td>
    </tr>
    <tr>
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="">By Poverty Status</td>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="2" colspan="1" scope="col" id="Poverty Status">Poverty Status</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Percent">
        <span class="gt_column_spanner">Percent</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Number of People">
        <span class="gt_column_spanner">Number of People</span>
      </th>
    </tr>
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Yes">Yes</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="No">No</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NA">NA</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Yes">Yes</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="No">No</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NA">NA</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="poverty" class="gt_row gt_center">In Poverty</td>
<td headers="percent_hspd" class="gt_row gt_center">53%</td>
<td headers="percent_no" class="gt_row gt_center">47%</td>
<td headers="percent_NA" class="gt_row gt_center">4%</td>
<td headers="Yes" class="gt_row gt_center">376K</td>
<td headers="No" class="gt_row gt_center">335K</td>
<td headers="NA" class="gt_row gt_center">30.6K</td></tr>
    <tr><td headers="poverty" class="gt_row gt_center gt_striped">Near Poverty</td>
<td headers="percent_hspd" class="gt_row gt_center gt_striped">62%</td>
<td headers="percent_no" class="gt_row gt_center gt_striped">38%</td>
<td headers="percent_NA" class="gt_row gt_center gt_striped">4%</td>
<td headers="Yes" class="gt_row gt_center gt_striped">499K</td>
<td headers="No" class="gt_row gt_center gt_striped">311K</td>
<td headers="NA" class="gt_row gt_center gt_striped">29.7K</td></tr>
    <tr><td headers="poverty" class="gt_row gt_center">Not in Poverty</td>
<td headers="percent_hspd" class="gt_row gt_center">78%</td>
<td headers="percent_no" class="gt_row gt_center">22%</td>
<td headers="percent_NA" class="gt_row gt_center">2%</td>
<td headers="Yes" class="gt_row gt_center">2.09M</td>
<td headers="No" class="gt_row gt_center">595K</td>
<td headers="NA" class="gt_row gt_center">64.8K</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="7">Yes and No percentages are calculated out of those who answered. NA is reported out of all the data to provide context on how much data is missing.</td>
    </tr>
    <tr>
      <td class="gt_sourcenote" colspan="7">Source: Author's analysis of IPUMS data.</td>
    </tr>
  </tfoot>
  
</table>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://www.natekratzer.com/posts/census_internet_microdata/index_files/figure-html/unnamed-chunk-48-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="age" class="level3">
<h3 class="anchored" data-anchor-id="age">Age</h3>
<p>The age varible in IPUMS is the most straightforward, it’s just numeric age. It is worth pointing out that this is based on individual ages, while high speed internet is a household level variable. If we really wanted to do a deep dive into just age, we’d want to look at the age composition of the whole household. The really nice thing about microdata is you can slice and dice it any way you think is appropriate. So if you want to look at households that have individuals under 18 and over 65, you can. If you want to look at households with no one under 65, you can. I’ve just taken a high level cut of the data here though.</p>
<div class="cell">

</div>
<div class="cell">
<div class="cell-output-display">

<div id="xihovtakgy" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#xihovtakgy) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 50%;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #D3D3D3;
  border-right-style: solid;
  border-right-width: 3px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #D3D3D3;
  border-left-style: solid;
  border-left-width: 3px;
  border-left-color: #D3D3D3;
}

:where(#xihovtakgy) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#xihovtakgy) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#xihovtakgy) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#xihovtakgy) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#xihovtakgy) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#xihovtakgy) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#xihovtakgy) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#xihovtakgy) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#xihovtakgy) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#xihovtakgy) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#xihovtakgy) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#xihovtakgy) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#xihovtakgy) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#xihovtakgy) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#xihovtakgy) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#xihovtakgy) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#xihovtakgy) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#xihovtakgy) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#xihovtakgy) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#xihovtakgy) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#xihovtakgy) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#xihovtakgy) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#xihovtakgy) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#xihovtakgy) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#xihovtakgy) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#xihovtakgy) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#xihovtakgy) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#xihovtakgy) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#xihovtakgy) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#xihovtakgy) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#xihovtakgy) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#xihovtakgy) .gt_left {
  text-align: left;
}

:where(#xihovtakgy) .gt_center {
  text-align: center;
}

:where(#xihovtakgy) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#xihovtakgy) .gt_font_normal {
  font-weight: normal;
}

:where(#xihovtakgy) .gt_font_bold {
  font-weight: bold;
}

:where(#xihovtakgy) .gt_font_italic {
  font-style: italic;
}

:where(#xihovtakgy) .gt_super {
  font-size: 65%;
}

:where(#xihovtakgy) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#xihovtakgy) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#xihovtakgy) .gt_indent_1 {
  text-indent: 5px;
}

:where(#xihovtakgy) .gt_indent_2 {
  text-indent: 10px;
}

:where(#xihovtakgy) .gt_indent_3 {
  text-indent: 15px;
}

:where(#xihovtakgy) .gt_indent_4 {
  text-indent: 20px;
}

:where(#xihovtakgy) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  <thead class="gt_header">
    <tr>
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style="">Table 9: High Speed Internet Access in 2018</td>
    </tr>
    <tr>
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="">By Age Group</td>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="2" colspan="1" scope="col" id="Age Group">Age Group</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Percent">
        <span class="gt_column_spanner">Percent</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Number of People">
        <span class="gt_column_spanner">Number of People</span>
      </th>
    </tr>
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Yes">Yes</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="No">No</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NA">NA</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Yes">Yes</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="No">No</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NA">NA</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="age" class="gt_row gt_center">18 and under</td>
<td headers="percent_hspd" class="gt_row gt_center">74%</td>
<td headers="percent_no" class="gt_row gt_center">26%</td>
<td headers="percent_NA" class="gt_row gt_center">2%</td>
<td headers="Yes" class="gt_row gt_center">760K</td>
<td headers="No" class="gt_row gt_center">263K</td>
<td headers="NA" class="gt_row gt_center">26.0K</td></tr>
    <tr><td headers="age" class="gt_row gt_center gt_striped">19 to 64</td>
<td headers="percent_hspd" class="gt_row gt_center gt_striped">72%</td>
<td headers="percent_no" class="gt_row gt_center gt_striped">28%</td>
<td headers="percent_NA" class="gt_row gt_center gt_striped">3%</td>
<td headers="Yes" class="gt_row gt_center gt_striped">1.81M</td>
<td headers="No" class="gt_row gt_center gt_striped">691K</td>
<td headers="NA" class="gt_row gt_center gt_striped">76.7K</td></tr>
    <tr><td headers="age" class="gt_row gt_center">65+</td>
<td headers="percent_hspd" class="gt_row gt_center">58%</td>
<td headers="percent_no" class="gt_row gt_center">42%</td>
<td headers="percent_NA" class="gt_row gt_center">3%</td>
<td headers="Yes" class="gt_row gt_center">398K</td>
<td headers="No" class="gt_row gt_center">288K</td>
<td headers="NA" class="gt_row gt_center">22.4K</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="7">Yes and No percentages are calculated out of those who answered. NA is reported out of all the data to provide context on how much data is missing.</td>
    </tr>
    <tr>
      <td class="gt_sourcenote" colspan="7">Source: Author's analysis of IPUMS data.</td>
    </tr>
  </tfoot>
  
</table>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://www.natekratzer.com/posts/census_internet_microdata/index_files/figure-html/unnamed-chunk-54-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="geography" class="level3">
<h3 class="anchored" data-anchor-id="geography">Geography</h3>
<p>IPUMs provides categorizations of where people live as either being in a prinicipal city, in the metro but not the principal city, or outside of a metro area. I have chosen to present this as the more familiar (and shorter) urban, suburban, and rural. IPUMS also has a direct measure of density that would be useful in an analysis - but for tables and graphs the categorial variable is better.</p>
<div class="cell">

</div>
<div class="cell">
<div class="cell-output-display">

<div id="nmmdfrvztw" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

:where(#nmmdfrvztw) .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 50%;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: #D3D3D3;
  border-right-style: solid;
  border-right-width: 3px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: #D3D3D3;
  border-left-style: solid;
  border-left-width: 3px;
  border-left-color: #D3D3D3;
}

:where(#nmmdfrvztw) .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#nmmdfrvztw) .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

:where(#nmmdfrvztw) .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

:where(#nmmdfrvztw) .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

:where(#nmmdfrvztw) .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#nmmdfrvztw) .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

:where(#nmmdfrvztw) .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

:where(#nmmdfrvztw) .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

:where(#nmmdfrvztw) .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

:where(#nmmdfrvztw) .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

:where(#nmmdfrvztw) .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

:where(#nmmdfrvztw) .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

:where(#nmmdfrvztw) .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

:where(#nmmdfrvztw) .gt_from_md > :first-child {
  margin-top: 0;
}

:where(#nmmdfrvztw) .gt_from_md > :last-child {
  margin-bottom: 0;
}

:where(#nmmdfrvztw) .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

:where(#nmmdfrvztw) .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#nmmdfrvztw) .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

:where(#nmmdfrvztw) .gt_row_group_first td {
  border-top-width: 2px;
}

:where(#nmmdfrvztw) .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#nmmdfrvztw) .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

:where(#nmmdfrvztw) .gt_first_summary_row.thick {
  border-top-width: 2px;
}

:where(#nmmdfrvztw) .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#nmmdfrvztw) .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#nmmdfrvztw) .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

:where(#nmmdfrvztw) .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

:where(#nmmdfrvztw) .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

:where(#nmmdfrvztw) .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#nmmdfrvztw) .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#nmmdfrvztw) .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

:where(#nmmdfrvztw) .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

:where(#nmmdfrvztw) .gt_left {
  text-align: left;
}

:where(#nmmdfrvztw) .gt_center {
  text-align: center;
}

:where(#nmmdfrvztw) .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

:where(#nmmdfrvztw) .gt_font_normal {
  font-weight: normal;
}

:where(#nmmdfrvztw) .gt_font_bold {
  font-weight: bold;
}

:where(#nmmdfrvztw) .gt_font_italic {
  font-style: italic;
}

:where(#nmmdfrvztw) .gt_super {
  font-size: 65%;
}

:where(#nmmdfrvztw) .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

:where(#nmmdfrvztw) .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

:where(#nmmdfrvztw) .gt_indent_1 {
  text-indent: 5px;
}

:where(#nmmdfrvztw) .gt_indent_2 {
  text-indent: 10px;
}

:where(#nmmdfrvztw) .gt_indent_3 {
  text-indent: 15px;
}

:where(#nmmdfrvztw) .gt_indent_4 {
  text-indent: 20px;
}

:where(#nmmdfrvztw) .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table">
  <thead class="gt_header">
    <tr>
      <td colspan="7" class="gt_heading gt_title gt_font_normal" style="">Table 10: High Speed Internet Access in 2018</td>
    </tr>
    <tr>
      <td colspan="7" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="">By Metropolitan Status</td>
    </tr>
  </thead>
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="2" colspan="1" scope="col" id="Metropolitan Status">Metropolitan Status</th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Percent">
        <span class="gt_column_spanner">Percent</span>
      </th>
      <th class="gt_center gt_columns_top_border gt_column_spanner_outer" rowspan="1" colspan="3" scope="colgroup" id="Number of People">
        <span class="gt_column_spanner">Number of People</span>
      </th>
    </tr>
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Yes">Yes</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="No">No</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NA">NA</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Yes">Yes</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="No">No</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="NA">NA</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="metro" class="gt_row gt_center">City</td>
<td headers="percent_hspd" class="gt_row gt_center">85%</td>
<td headers="percent_no" class="gt_row gt_center">15%</td>
<td headers="percent_NA" class="gt_row gt_center">3%</td>
<td headers="Yes" class="gt_row gt_center">257K</td>
<td headers="No" class="gt_row gt_center">46.2K</td>
<td headers="NA" class="gt_row gt_center">8.16K</td></tr>
    <tr><td headers="metro" class="gt_row gt_center gt_striped">Mixed/Unknown</td>
<td headers="percent_hspd" class="gt_row gt_center gt_striped">68%</td>
<td headers="percent_no" class="gt_row gt_center gt_striped">32%</td>
<td headers="percent_NA" class="gt_row gt_center gt_striped">3%</td>
<td headers="Yes" class="gt_row gt_center gt_striped">1.60M</td>
<td headers="No" class="gt_row gt_center gt_striped">752K</td>
<td headers="NA" class="gt_row gt_center gt_striped">74.7K</td></tr>
    <tr><td headers="metro" class="gt_row gt_center">Rural</td>
<td headers="percent_hspd" class="gt_row gt_center">67%</td>
<td headers="percent_no" class="gt_row gt_center">33%</td>
<td headers="percent_NA" class="gt_row gt_center">3%</td>
<td headers="Yes" class="gt_row gt_center">694K</td>
<td headers="No" class="gt_row gt_center">341K</td>
<td headers="NA" class="gt_row gt_center">35.4K</td></tr>
    <tr><td headers="metro" class="gt_row gt_center gt_striped">Suburbs</td>
<td headers="percent_hspd" class="gt_row gt_center gt_striped">81%</td>
<td headers="percent_no" class="gt_row gt_center gt_striped">19%</td>
<td headers="percent_NA" class="gt_row gt_center gt_striped">1%</td>
<td headers="Yes" class="gt_row gt_center gt_striped">420K</td>
<td headers="No" class="gt_row gt_center gt_striped">102K</td>
<td headers="NA" class="gt_row gt_center gt_striped">6.77K</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="7">Yes and No percentages are calculated out of those who answered. NA is reported out of all the data to provide context on how much data is missing.</td>
    </tr>
    <tr>
      <td class="gt_sourcenote" colspan="7">Source: Author's analysis of IPUMS data.</td>
    </tr>
  </tfoot>
  
</table>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://www.natekratzer.com/posts/census_internet_microdata/index_files/figure-html/unnamed-chunk-60-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
</section>
<section id="mapping-the-data" class="level1">
<h1>Mapping the Data</h1>
<p>To map the data you’ll need to first get shapefiles for Public Use Microdata Areas. The tradeoff for using microdata is that it’s not available down to the tract level. It’s individual responses, so to protect the privacy of respondents all geographic areas have to include at least 100,000 people. Those areas are drawn by the census and are the public use microdata areas mentioned above. You can get shapefiles for them from the census <a href="https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-line-file.html">here</a>. You’ll need to unzip the folder and then the <code>rgdal</code> package points at the entire unzipped folder, not just an individual file.</p>
<p>There are a lot of options for mapping in R. I’ve chosen to use <code>sf</code> and <code>ggplot2</code> because it works well with the tidyverse and uses familiar ggplot2 syntax. I really like the <code>leaflet</code> package for making interactive maps, but static maps also have their place, and that’s what I’ve gone with here.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><span class="co" style="color: #5E5E5E;"># Set up shapefile as an sf object</span></span>
<span id="cb16-2">ky_shp <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">readOGR</span>(<span class="st" style="color: #20794D;">"tl_2019_21_puma10"</span>, <span class="at" style="color: #657422;">layer =</span> <span class="st" style="color: #20794D;">"tl_2019_21_puma10"</span>, <span class="at" style="color: #657422;">GDAL1_integer64_policy =</span> <span class="cn" style="color: #8f5902;">TRUE</span>, <span class="at" style="color: #657422;">verbose =</span> <span class="cn" style="color: #8f5902;">FALSE</span>)</span>
<span id="cb16-3">ky_shp<span class="sc" style="color: #5E5E5E;">@</span>data<span class="sc" style="color: #5E5E5E;">$</span>PUMA <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">as.numeric</span>(<span class="fu" style="color: #4758AB;">as.character</span>(ky_shp<span class="sc" style="color: #5E5E5E;">@</span>data<span class="sc" style="color: #5E5E5E;">$</span>PUMACE10))</span>
<span id="cb16-4">ky_sf <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">st_as_sf</span>(ky_shp)</span>
<span id="cb16-5"></span>
<span id="cb16-6"><span class="co" style="color: #5E5E5E;"># Calculate internet access at the PUMA level</span></span>
<span id="cb16-7">df_group <span class="ot" style="color: #003B4F;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb16-8">  <span class="fu" style="color: #4758AB;">filter</span>(YEAR <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">2018</span>) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb16-9">  <span class="fu" style="color: #4758AB;">group_by</span>(hspd_int, PUMA) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb16-10">  <span class="fu" style="color: #4758AB;">summarize</span>(<span class="at" style="color: #657422;">count =</span> <span class="fu" style="color: #4758AB;">sum</span>(PERWT), <span class="at" style="color: #657422;">.groups =</span> <span class="st" style="color: #20794D;">"drop"</span>)</span>
<span id="cb16-11"></span>
<span id="cb16-12"><span class="co" style="color: #5E5E5E;"># Pivot for easier percent calculations</span></span>
<span id="cb16-13">df_wide <span class="ot" style="color: #003B4F;">&lt;-</span> df_group  <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb16-14">  <span class="fu" style="color: #4758AB;">pivot_wider</span>(<span class="at" style="color: #657422;">id_cols =</span> PUMA, <span class="at" style="color: #657422;">names_from =</span> hspd_int, <span class="at" style="color: #657422;">values_from =</span> count) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb16-15">  <span class="fu" style="color: #4758AB;">mutate</span>(<span class="at" style="color: #657422;">percent_hspd =</span> (Yes <span class="sc" style="color: #5E5E5E;">/</span> (Yes <span class="sc" style="color: #5E5E5E;">+</span> No)),</span>
<span id="cb16-16">         <span class="at" style="color: #657422;">percent_no =</span> <span class="dv" style="color: #AD0000;">1</span> <span class="sc" style="color: #5E5E5E;">-</span> percent_hspd)</span>
<span id="cb16-17"></span>
<span id="cb16-18">int_puma <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">tibble</span>(</span>
<span id="cb16-19">  <span class="at" style="color: #657422;">PUMA =</span> df_wide<span class="sc" style="color: #5E5E5E;">$</span>PUMA,</span>
<span id="cb16-20">  <span class="at" style="color: #657422;">int_per =</span> df_wide<span class="sc" style="color: #5E5E5E;">$</span>percent_no <span class="sc" style="color: #5E5E5E;">*</span> <span class="dv" style="color: #AD0000;">100</span></span>
<span id="cb16-21">  )</span>
<span id="cb16-22"></span>
<span id="cb16-23">ky_sf <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">full_join</span>(ky_sf, int_puma, <span class="at" style="color: #657422;">by =</span> <span class="st" style="color: #20794D;">"PUMA"</span>)</span>
<span id="cb16-24"></span>
<span id="cb16-25"><span class="fu" style="color: #4758AB;">ggplot</span>(ky_sf) <span class="sc" style="color: #5E5E5E;">+</span> </span>
<span id="cb16-26">  <span class="fu" style="color: #4758AB;">geom_sf</span>(<span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">fill=</span>int_per)) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb16-27">  <span class="fu" style="color: #4758AB;">scale_fill_gradient</span>(<span class="at" style="color: #657422;">low =</span> <span class="st" style="color: #20794D;">"blue"</span>, <span class="at" style="color: #657422;">high =</span> <span class="st" style="color: #20794D;">"purple"</span>, <span class="at" style="color: #657422;">name =</span> <span class="st" style="color: #20794D;">"Percent"</span>) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb16-28">  <span class="fu" style="color: #4758AB;">theme_bw</span>() <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb16-29">  <span class="fu" style="color: #4758AB;">theme</span>(<span class="at" style="color: #657422;">panel.grid =</span> <span class="fu" style="color: #4758AB;">element_blank</span>(),</span>
<span id="cb16-30">        <span class="at" style="color: #657422;">axis.text =</span> <span class="fu" style="color: #4758AB;">element_blank</span>(),</span>
<span id="cb16-31">        <span class="at" style="color: #657422;">axis.ticks =</span> <span class="fu" style="color: #4758AB;">element_blank</span>(),</span>
<span id="cb16-32">        <span class="at" style="color: #657422;">axis.title =</span> <span class="fu" style="color: #4758AB;">element_blank</span>(),</span>
<span id="cb16-33">        <span class="at" style="color: #657422;">panel.border =</span> <span class="fu" style="color: #4758AB;">element_blank</span>()) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb16-34">  <span class="fu" style="color: #4758AB;">labs</span>(<span class="at" style="color: #657422;">title =</span> <span class="st" style="color: #20794D;">"People in Households without High Speed Internet Access"</span>,</span>
<span id="cb16-35">       <span class="at" style="color: #657422;">caption =</span> <span class="st" style="color: #20794D;">"Map is shaded by percent of people without high speed access in each Public Use Microdata Area"</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://www.natekratzer.com/posts/census_internet_microdata/index_files/figure-html/unnamed-chunk-62-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="school-age-children" class="level2">
<h2 class="anchored" data-anchor-id="school-age-children">School Age Children</h2>
<p>As I’ve mentioned, a nice feature of using microdata is that you can look at the data in ways that aren’t available in the premade Census tabulations. With a lot of school districts using online learning, a look at the percent of school age children (ages 5-18) without high speed internet access at home could be useful for policymakers. Here we can see that there are parts of Western Kentucky where up to 60% do not have high speed access at home.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><span class="co" style="color: #5E5E5E;">#need to recreate the sf object for the joins to work correctly</span></span>
<span id="cb17-2">ky_sf <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">st_as_sf</span>(ky_shp)</span>
<span id="cb17-3"></span>
<span id="cb17-4"><span class="co" style="color: #5E5E5E;"># Calculate internet access at the PUMA level</span></span>
<span id="cb17-5">df_group <span class="ot" style="color: #003B4F;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb17-6">  <span class="fu" style="color: #4758AB;">filter</span>(YEAR <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">2018</span> <span class="sc" style="color: #5E5E5E;">&amp;</span> AGE <span class="sc" style="color: #5E5E5E;">&gt;=</span> <span class="dv" style="color: #AD0000;">5</span> <span class="sc" style="color: #5E5E5E;">&amp;</span> AGE <span class="sc" style="color: #5E5E5E;">&lt;=</span> <span class="dv" style="color: #AD0000;">18</span>) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb17-7">  <span class="fu" style="color: #4758AB;">group_by</span>(hspd_int, PUMA) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb17-8">  <span class="fu" style="color: #4758AB;">summarize</span>(<span class="at" style="color: #657422;">count =</span> <span class="fu" style="color: #4758AB;">sum</span>(PERWT), <span class="at" style="color: #657422;">.groups =</span> <span class="st" style="color: #20794D;">"drop"</span>)</span>
<span id="cb17-9"></span>
<span id="cb17-10"><span class="co" style="color: #5E5E5E;"># Pivot for easier percent calculations</span></span>
<span id="cb17-11">df_wide <span class="ot" style="color: #003B4F;">&lt;-</span> df_group  <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb17-12">  <span class="fu" style="color: #4758AB;">pivot_wider</span>(<span class="at" style="color: #657422;">id_cols =</span> PUMA, <span class="at" style="color: #657422;">names_from =</span> hspd_int, <span class="at" style="color: #657422;">values_from =</span> count) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb17-13">  <span class="fu" style="color: #4758AB;">mutate</span>(<span class="at" style="color: #657422;">percent_hspd =</span> (Yes <span class="sc" style="color: #5E5E5E;">/</span> (Yes <span class="sc" style="color: #5E5E5E;">+</span> No)),</span>
<span id="cb17-14">         <span class="at" style="color: #657422;">percent_no =</span> <span class="dv" style="color: #AD0000;">1</span> <span class="sc" style="color: #5E5E5E;">-</span> percent_hspd)</span>
<span id="cb17-15"></span>
<span id="cb17-16">int_puma <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">tibble</span>(</span>
<span id="cb17-17">  <span class="at" style="color: #657422;">PUMA =</span> df_wide<span class="sc" style="color: #5E5E5E;">$</span>PUMA,</span>
<span id="cb17-18">  <span class="at" style="color: #657422;">int_per =</span> df_wide<span class="sc" style="color: #5E5E5E;">$</span>percent_no <span class="sc" style="color: #5E5E5E;">*</span> <span class="dv" style="color: #AD0000;">100</span>,</span>
<span id="cb17-19">  <span class="at" style="color: #657422;">int_num =</span> df_wide<span class="sc" style="color: #5E5E5E;">$</span>No</span>
<span id="cb17-20">  )</span>
<span id="cb17-21"></span>
<span id="cb17-22">ky_sf <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">full_join</span>(ky_sf, int_puma, <span class="at" style="color: #657422;">by =</span> <span class="st" style="color: #20794D;">"PUMA"</span>)</span>
<span id="cb17-23"></span>
<span id="cb17-24"><span class="fu" style="color: #4758AB;">ggplot</span>(ky_sf) <span class="sc" style="color: #5E5E5E;">+</span> </span>
<span id="cb17-25">  <span class="fu" style="color: #4758AB;">geom_sf</span>(<span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">fill=</span>int_per)) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb17-26">  <span class="fu" style="color: #4758AB;">scale_fill_gradient</span>(<span class="at" style="color: #657422;">low =</span> <span class="st" style="color: #20794D;">"blue"</span>, <span class="at" style="color: #657422;">high =</span> <span class="st" style="color: #20794D;">"purple"</span>, <span class="at" style="color: #657422;">name =</span> <span class="st" style="color: #20794D;">"Percent"</span>) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb17-27">  <span class="fu" style="color: #4758AB;">theme_bw</span>() <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb17-28">  <span class="fu" style="color: #4758AB;">theme</span>(<span class="at" style="color: #657422;">panel.grid =</span> <span class="fu" style="color: #4758AB;">element_blank</span>(),</span>
<span id="cb17-29">        <span class="at" style="color: #657422;">axis.text =</span> <span class="fu" style="color: #4758AB;">element_blank</span>(),</span>
<span id="cb17-30">        <span class="at" style="color: #657422;">axis.ticks =</span> <span class="fu" style="color: #4758AB;">element_blank</span>(),</span>
<span id="cb17-31">        <span class="at" style="color: #657422;">axis.title =</span> <span class="fu" style="color: #4758AB;">element_blank</span>(),</span>
<span id="cb17-32">        <span class="at" style="color: #657422;">panel.border =</span> <span class="fu" style="color: #4758AB;">element_blank</span>()) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb17-33">  <span class="fu" style="color: #4758AB;">labs</span>(<span class="at" style="color: #657422;">title =</span> <span class="st" style="color: #20794D;">"Children ages 5-18 in Households without High Speed Internet Access"</span>,</span>
<span id="cb17-34">       <span class="at" style="color: #657422;">caption =</span> <span class="st" style="color: #20794D;">"Map is shaded by percent of children without high speed access in each Public Use Microdata Area"</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://www.natekratzer.com/posts/census_internet_microdata/index_files/figure-html/unnamed-chunk-64-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="louisville-jefferson-county-with-labels" class="level3">
<h3 class="anchored" data-anchor-id="louisville-jefferson-county-with-labels">Louisville (Jefferson County) with Labels</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><span class="co" style="color: #5E5E5E;">#need to recreate the sf object for the joins to work correctly</span></span>
<span id="cb18-2">ky_sf <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">st_as_sf</span>(ky_shp) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb18-3">  <span class="fu" style="color: #4758AB;">filter</span>(PUMA <span class="sc" style="color: #5E5E5E;">%in%</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"1701"</span>, <span class="st" style="color: #20794D;">"1702"</span>, <span class="st" style="color: #20794D;">"1703"</span>, <span class="st" style="color: #20794D;">"1704"</span>, <span class="st" style="color: #20794D;">"1705"</span>, <span class="st" style="color: #20794D;">"1706"</span>))</span>
<span id="cb18-4"></span>
<span id="cb18-5"><span class="co" style="color: #5E5E5E;"># Calculate internet access at the PUMA level</span></span>
<span id="cb18-6"><span class="co" style="color: #5E5E5E;"># Filter to only the PUMAs in Jefferson County</span></span>
<span id="cb18-7">df_group <span class="ot" style="color: #003B4F;">&lt;-</span> df <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb18-8">  <span class="fu" style="color: #4758AB;">filter</span>(YEAR <span class="sc" style="color: #5E5E5E;">==</span> <span class="dv" style="color: #AD0000;">2018</span> <span class="sc" style="color: #5E5E5E;">&amp;</span> AGE <span class="sc" style="color: #5E5E5E;">&gt;=</span> <span class="dv" style="color: #AD0000;">5</span> <span class="sc" style="color: #5E5E5E;">&amp;</span> AGE <span class="sc" style="color: #5E5E5E;">&lt;=</span> <span class="dv" style="color: #AD0000;">18</span> <span class="sc" style="color: #5E5E5E;">&amp;</span> PUMA <span class="sc" style="color: #5E5E5E;">%in%</span> <span class="fu" style="color: #4758AB;">c</span>(<span class="st" style="color: #20794D;">"1701"</span>, <span class="st" style="color: #20794D;">"1702"</span>, <span class="st" style="color: #20794D;">"1703"</span>, <span class="st" style="color: #20794D;">"1704"</span>, <span class="st" style="color: #20794D;">"1705"</span>, <span class="st" style="color: #20794D;">"1706"</span>)) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb18-9">  <span class="fu" style="color: #4758AB;">group_by</span>(hspd_int, PUMA) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb18-10">  <span class="fu" style="color: #4758AB;">summarize</span>(<span class="at" style="color: #657422;">count =</span> <span class="fu" style="color: #4758AB;">sum</span>(PERWT), <span class="at" style="color: #657422;">.groups =</span> <span class="st" style="color: #20794D;">"drop"</span>)</span>
<span id="cb18-11"></span>
<span id="cb18-12"><span class="co" style="color: #5E5E5E;"># Pivot for easier percent calculations</span></span>
<span id="cb18-13">df_wide <span class="ot" style="color: #003B4F;">&lt;-</span> df_group  <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb18-14">  <span class="fu" style="color: #4758AB;">pivot_wider</span>(<span class="at" style="color: #657422;">id_cols =</span> PUMA, <span class="at" style="color: #657422;">names_from =</span> hspd_int, <span class="at" style="color: #657422;">values_from =</span> count) <span class="sc" style="color: #5E5E5E;">%&gt;%</span></span>
<span id="cb18-15">  <span class="fu" style="color: #4758AB;">mutate</span>(<span class="at" style="color: #657422;">percent_hspd =</span> (Yes <span class="sc" style="color: #5E5E5E;">/</span> (Yes <span class="sc" style="color: #5E5E5E;">+</span> No)),</span>
<span id="cb18-16">         <span class="at" style="color: #657422;">percent_no =</span> <span class="dv" style="color: #AD0000;">1</span> <span class="sc" style="color: #5E5E5E;">-</span> percent_hspd)</span>
<span id="cb18-17"></span>
<span id="cb18-18">int_puma <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">tibble</span>(</span>
<span id="cb18-19">  <span class="at" style="color: #657422;">PUMA =</span> df_wide<span class="sc" style="color: #5E5E5E;">$</span>PUMA,</span>
<span id="cb18-20">  <span class="at" style="color: #657422;">int_per =</span> df_wide<span class="sc" style="color: #5E5E5E;">$</span>percent_no <span class="sc" style="color: #5E5E5E;">*</span> <span class="dv" style="color: #AD0000;">100</span>,</span>
<span id="cb18-21">  <span class="at" style="color: #657422;">int_num =</span> formattable<span class="sc" style="color: #5E5E5E;">::</span><span class="fu" style="color: #4758AB;">comma</span>(<span class="fu" style="color: #4758AB;">round</span>(df_wide<span class="sc" style="color: #5E5E5E;">$</span>No, <span class="sc" style="color: #5E5E5E;">-</span><span class="dv" style="color: #AD0000;">2</span>), <span class="at" style="color: #657422;">digits =</span> <span class="dv" style="color: #AD0000;">0</span>)</span>
<span id="cb18-22">  )</span>
<span id="cb18-23"></span>
<span id="cb18-24">ky_sf <span class="ot" style="color: #003B4F;">&lt;-</span> <span class="fu" style="color: #4758AB;">full_join</span>(ky_sf, int_puma, <span class="at" style="color: #657422;">by =</span> <span class="st" style="color: #20794D;">"PUMA"</span>)</span>
<span id="cb18-25"></span>
<span id="cb18-26"><span class="fu" style="color: #4758AB;">ggplot</span>(ky_sf) <span class="sc" style="color: #5E5E5E;">+</span> </span>
<span id="cb18-27">  <span class="fu" style="color: #4758AB;">geom_sf</span>(<span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">fill=</span>int_per)) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb18-28">  <span class="fu" style="color: #4758AB;">geom_sf_label</span>(<span class="fu" style="color: #4758AB;">aes</span>(<span class="at" style="color: #657422;">label =</span> int_num, <span class="at" style="color: #657422;">fontface =</span> <span class="st" style="color: #20794D;">"bold"</span>)) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb18-29">  <span class="fu" style="color: #4758AB;">scale_fill_gradient</span>(<span class="at" style="color: #657422;">low =</span> <span class="st" style="color: #20794D;">"blue"</span>, <span class="at" style="color: #657422;">high =</span> <span class="st" style="color: #20794D;">"purple"</span>, <span class="at" style="color: #657422;">name =</span> <span class="st" style="color: #20794D;">"Percent"</span>) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb18-30">  <span class="fu" style="color: #4758AB;">theme_bw</span>() <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb18-31">  <span class="fu" style="color: #4758AB;">theme</span>(<span class="at" style="color: #657422;">panel.grid =</span> <span class="fu" style="color: #4758AB;">element_blank</span>(),</span>
<span id="cb18-32">        <span class="at" style="color: #657422;">axis.text =</span> <span class="fu" style="color: #4758AB;">element_blank</span>(),</span>
<span id="cb18-33">        <span class="at" style="color: #657422;">axis.ticks =</span> <span class="fu" style="color: #4758AB;">element_blank</span>(),</span>
<span id="cb18-34">        <span class="at" style="color: #657422;">axis.title =</span> <span class="fu" style="color: #4758AB;">element_blank</span>(),</span>
<span id="cb18-35">        <span class="at" style="color: #657422;">panel.border =</span> <span class="fu" style="color: #4758AB;">element_blank</span>()) <span class="sc" style="color: #5E5E5E;">+</span></span>
<span id="cb18-36">  <span class="fu" style="color: #4758AB;">labs</span>(<span class="at" style="color: #657422;">title =</span> <span class="st" style="color: #20794D;">"Children ages 5-18 in Households without High Speed Internet Access in Jefferson County"</span>,</span>
<span id="cb18-37">       <span class="at" style="color: #657422;">caption =</span> <span class="st" style="color: #20794D;">"Map is shaded by percent of children without access in each Public Use Microdata Area and </span></span>
<span id="cb18-38"><span class="st" style="color: #20794D;">       the number of children without access is given by the label rounded to the nearest 100"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning in st_point_on_surface.sfc(sf::st_zm(x)): st_point_on_surface may not
give correct results for longitude/latitude data</code></pre>
</div>
<div class="cell-output-display">
<p><img src="https://www.natekratzer.com/posts/census_internet_microdata/index_files/figure-html/unnamed-chunk-66-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
</section>
</section>
<section id="conclusion-and-next-steps" class="level1">
<h1>Conclusion and next steps</h1>
<p>The one thing we haven’t really touched on in this blog is applying this data. The focus is here is intentionally on getting to know the data and making descriptive statistics. A clear next step to making the analysis useful though is to start talking to subject matter experts. Is internet access better in other states? Other countries? Are there cities where access is higher? How did they do it? What’s the history of our broadband infrastructure? I recommend this <a href="https://www.theatlantic.com/technology/archive/2020/08/virtual-learning-when-you-dont-have-internet/615322/">article</a> from the Atlantic as a starting point if you’re interested in the high speed internet question. No matter what data you’re analyzing though, you’ll need to put it in context both to know how to explore and model it, and also to communicate the results in a way that will be meaningful to other people.</p>
<p>Once you get the hang of working with Census microdata it unlocks the ability to answer some really interesting questions. Like all analytics work, it’s important to first get to know the data, which is why we spent so long at the top of this post making wrong tables until figuring out the data structure. Visualizing uncertainty is also important when working with survey data. There are still a few places this analysis could be cleaned up. As one example, while I made functions for bootstrapping standard errors and for graphing the data over time, some of the cleaning code could be functionalized rather than repeated. The code should also be rearranged so that all the data gets recoded at the beginning rather than doing it piecemeal on an as needed basis. We could also start to look at how the categories we’ve analyzed (race, poverty, age, geography) overlap, either using more detailed crosstabs or by building some models. The goal here though was to show what a full analysis would look like, including stumbling through some of the initial exploration of the data.</p>


</section>

 ]]></description>
  <category>R</category>
  <category>Census</category>
  <category>Internet</category>
  <category>Policy</category>
  <guid>https://www.natekratzer.com/posts/census_internet_microdata/index.html</guid>
  <pubDate>Sun, 13 Sep 2020 04:00:00 GMT</pubDate>
  <media:content url="https://www.natekratzer.com/posts/census_internet_microdata/featured.png" medium="image" type="image/png" height="103" width="144"/>
</item>
<item>
  <title>Meritocracy is Unjust</title>
  <link>https://www.natekratzer.com/posts/meritocracy_unjust/index.html</link>
  <description><![CDATA[ 



<p>Equality of opportunity is one of the few goals that is still shared by policymakers in both parties (who disagree on how to achieve it, but pay it considerable lip service in speeches). It’s also shared by academics who spend considerable time and effort measuring just how likely it is that a child born to poor parents will end up middle-class or wealthy. Equality of opportunity and the meritocratic society it envisions (one where everyone has an equal opportunity to get what they deserve) assumes that the important thing is that those who deserve it have the opportunity to attain high economic outcomes.</p>
<p>To think that a more meritocratic society is a just one that is worth striving for is to misunderstand the nature of what it means to deserve something. Meritocracy tends to confuse a very practical sense of merit with a more abstract and moral one. An individual may deserve a high-paying job or admission to a selective college because they are productive or qualified. However, in a moral sense, individuals do not merit the skills and abilities they are born with, nor do they merit the environments they were born into that allowed them to develop those skills.</p>
<p><em>Should society really be structured such that smart kids who are born into poverty are able to escape poverty while less intelligent children are not?</em></p>
<p>This is undoubtedly better than a world in which no one escapes poverty, but is genetic predisposition for problem solving really the criteria by which we should determine who is condemned to the suffering that poverty entails? For that matter, the ability to focus and the development of a strong work ethic are also determined by factors outside of a child’s control. Some of those factors are genetic, and some are environmental but none of them are actually controlled by the child. Thus from the standpoint of the lottery of birth, a meritocratic society is not just, it’s arbitrary.</p>
<p>None of this is meant to deny the good work that is done in the name of equality of opportunity. It really is good to have better schools in poor communities. But it’s not because it means some percent of the children who are actually deserving will escape poverty (while the rest will be said to have had an opportunity and squandered it), it’s because all children deserve good schools.</p>
<p>People don’t choose where they’re born, to whom, with what genetic predispositions, or in what sort of environment they grow up. They don’t choose their intelligence, creativity, or work ethic. Unfortunately, equality of opportunity all too often turns into a way to sort people (particularly poor people of color) into deserving and undeserving. It’s time to stop sorting, and focus on making people’s lives better (or at least a bit less harsh). None of us <em>deserve</em> the life we’re born into. Shouldn’t those of us who were lucky enough to be born with the ability to help others use that ability to help them without stopping to inquire whether or not they deserve it?</p>



 ]]></description>
  <category>Philosophy</category>
  <category>Economics</category>
  <guid>https://www.natekratzer.com/posts/meritocracy_unjust/index.html</guid>
  <pubDate>Tue, 25 Oct 2016 04:00:00 GMT</pubDate>
  <media:content url="https://www.natekratzer.com/posts/meritocracy_unjust/ladder.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Non-Market Values and Policy Analysis</title>
  <link>https://www.natekratzer.com/posts/nonmarket_values/index.html</link>
  <description><![CDATA[ 



<p>Many of the things that are most valuable in life are not things that can be traded on the market. Love, friendship, the respect of your peers, and a sense of belonging are all incredibly important parts of life, and they’re also impossible to incorporate into economic analysis. Now, since they’re not economic goods, it normally wouldn’t be a problem that they aren’t subject to economic analysis. Unfortunately, economists have not been content to restrict themselves to economic goods, but instead attempt to provide analysis of public policy choices using economic methods.</p>
<p>Whenever I start criticizing markets people often read the criticism as being of all markets, all the time. That couldn’t be further from my position. I’m confident that markets are the way to go when it comes to commodity exchanges. The price of a new phone or a haircut absolutely should be set by the market (1). But not everything is a commodity. We’re currently debating the role of markets in education and health care. Neither of those are entirely reducible to commodity exchange. For the sake of space, I’ll just do a brief analysis of education and leave health care for another time.</p>
<p>The value of education can be thought of in multiple parts:</p>
<ol type="1">
<li>The credential (e.g.&nbsp;diploma or certificate).</li>
<li>The skill set</li>
<li>The network</li>
<li>The individual education</li>
</ol>
<p>Credential and skill sets clearly have a market value. You can decide if it’s worthwhile to learn the skills and get the credentials that will allow you to be a certified electrician based on the current market value of electrical services. The market value of having a network you meet in school is a little harder to evaluate, but it can be done. The part I’ve labeled ‘individual education,’ for lack of a better term, does not have a market value. The study of art, music, literature, and philosophy is not done for its marketable value. Nor is it, as some economists have suggested, done as a consumption good, the way you might buy some clothing or a vacation. Instead, this is education in the pure liberal arts sense of the term it is designed to change you in ways that have nothing to do with market value. The goal is to make you a better citizen, a better neighbor, parent, and more generally, a better person. It’s the part of education that’s worthwhile even if you decide that what you really want to do with your life is stay at home and never work in the paid market again.</p>
<p>I should note that even those parts of education that can be thought of in market terms often don’t work well in practical terms without society putting in a lot of effort to make those markets work. The education market is plagued by uncertainty, asymmetric information, and inter-generational transfers. Markets do not just exist in some pure form, but are instead created by society, and making an education market work would be difficult even for purely technical skills, and is impossible for the non-market value that is also produced by education.</p>
<p>One of the problems with doing analysis solely based on market values is that over time, this can actually change the value structure of society. Market norms can actually crowd out and replace social norms. People primed to think about economics as individual self-interest act more selfishly and show less concern for others. As behavioral economist Daniel Kahnemahn puts it, “living in a culture that surrounds us with reminders of money may shape our behavior and our attitudes in ways that we do not know about and of which we may not be proud.”</p>
<p>Market norms often win out for three reasons. First, they are convenient and agreed upon. Second, it serves the interest of people with high market values to base policy analysis on market values. Finally, there is a lack of agreement on how to incorporate non-market values into analysis.</p>
<p>One of the most promising approaches to integrating market and non-market values into a single framework is the capabilities approach of Amartya Sen and Martha Nussbaum. Sen argues that theories of justice can be evaluated in terms of the information they deem relevant. The problem with most methods of evaluating well-being is that they artificially restrict the information considered. Sen then lays out his capabilities approach,</p>
<blockquote class="blockquote">
<p>…for many evaluative purposes, the appropriate ‘space’ is neither that of utilities nor that of primary goods but that of substantive freedoms – the capabilities – to choose a life one has reason to value…</p>
</blockquote>
<blockquote class="blockquote">
<p>The concept of ‘functionings,’ which has distinctly Aristotelian roots, reflects the various things a person may value doing or being…</p>
</blockquote>
<blockquote class="blockquote">
<p>A person’s ‘capability’ refers to the alternative combinations of functionings that are feasible for her to achieve. Capability is thus a kind of freedom: the substantive freedom to achieve alternative functioning combinations (or, less formally put, the freedom to achieve various lifestyles.”</p>
</blockquote>
<p>By substantive freedom Sen is distinguishing himself from the formal freedom emphasized by libertarian thinkers. Formal freedom refers only to an absence of legal barriers and not the actual (substantive) ability to do something. For example, the freedom to eat does very little good without the substantive ability to produce or purchase food. The appeal of capabilities has a collection of potential functionings is that it does not restrict us to only part of human life, but includes all of the functionings (market and non-market) that we have reason to value.</p>
<p>Weighting the importance of various capabilities or even simply developing a list of relevant capabilities is a process for democratic discourse. As Sen argues, “To insist on the mechanical comfort of having just one homogenous “good thing” would be to deny our humanity as reasoning creatures.”</p>
<p>It’s important to be up-front about the fact that ignoring the capabilities methodology because it doesn’t have a clear weighting procedure is inconsistent, as most other methods for evaluating human well-being rely on implicit weighting. Surely it is better to be explicit about what we are valuing – even if we are reliant on democratic discourse to work out the details – than to simply issue an implicit judgment about what matters. Sen writes,</p>
<blockquote class="blockquote">
<p>Since the preference for market-price-based evaluation is quite strong among economists, it is also important to point out that all variables other than commodity holdings (important matters such as mortality, morbidity, education, liberties, and recognized rights get – implicitly – a zero direct weight in evaluations based exclusively on the real-income approach. They can get some indirect weight if – and only to the extent that – they enlarge real incomes and commodity holdings. The confounding of welfare comparison with real-income comparison exacts a heavy price.)</p>
</blockquote>
<p>There is also arguably a great deal of merit in such an explicitly non-technocratic approach. Sen has given us a way to include non-market values in analysis, and his approach has been very influential in Europe beginning to experiment with new indexes of social well-being (and, of course, the U.N. human development index). There remains more work to be done on evaluating capabilities and applying this as an aid to decision making instead of macro-level evaluation after policies have been put in place. I’d love to hear your ideas on how that can be done!</p>
<ol type="1">
<li>I need to qualify this, because some might read it as the libertarian take on markets in which markets spring up from nowhere and somehow still function. Markets are implemented by human society (usually but not always through government) and therefore subject to certain rules of exchange like health and safety laws. So a more detailed reading would suggest that the price of a haircut should be set on a market, but the rules of that market are, and should be, a subject of public debate.</li>
</ol>



 ]]></description>
  <category>Philosophy</category>
  <category>Economics</category>
  <category>Policy</category>
  <category>Kentucky</category>
  <guid>https://www.natekratzer.com/posts/nonmarket_values/index.html</guid>
  <pubDate>Tue, 15 Apr 2014 04:00:00 GMT</pubDate>
  <media:content url="https://www.natekratzer.com/posts/nonmarket_values/feature.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Rational Fools: Amartya Sen’s Critique of Economic Theory</title>
  <link>https://www.natekratzer.com/posts/rational_fools/index.html</link>
  <description><![CDATA[ 



<p>The formalizing of self-interest as an economic principle was largely the work of Francis Edgeworth. It is sometimes wrongly traced back to the work of Adam Smith. While Smith wrote about self-interest, he actually had a much, much more nuanced view of both when people would behave out of self-interest and when self-interested behavior could be good for society then he is usually given credit for. (He most certainly did not claim either that individuals are always self-interested or that self-interest always leads to optimal outcomes, and cited limits to self-interest in both Theory of Moral Sentiments and Wealth of Nations).</p>
<p>Amartya Sen, one of the few economists to also be a good philosopher, starts his critique by reviewing the work of Edgeworth. As it turns out, even though Edgeworth gave us the math for self-interest, he didn’t think it was a very good assumption except in the cases of (1) war and (2) contract. While this is a substantial restriction, it still covers a lot of ground, so it’s worth looking at how Edgeworth came to this conclusion.</p>
<p>Edgeworth gets there by rejecting the utilitarian premise that individuals act to maximize the greatest good for the greatest number. Having rejected that he concludes that individuals act not to maximize overall utility, but instead to maximize only their own utility. Sen notes that the rejection of utility is not sufficient grounds to adopt self-interest,</p>
<blockquote class="blockquote">
<p>between the claims of oneself and the claims of all lie the claims of a variety of groups-for example, families, friends, local communities, peer groups, and economic and social classes. The concepts of family responsibility, business ethics, class consciousness, and so on, relate to these intermediate areas of concern, and the dismissal of utilitarianism as a descriptive theory of behavior does not leave us with egoism as the only alternative.</p>
</blockquote>
<p>Edgeworth then shows that under assumptions of self-interest and in the absence of externalities, self-interest can lead to an equilibrium that maximizes the satisfaction of individual preferences. This is a position in the ‘core’ area of the economy. Sen’s reply is simple, ‘who cares?’</p>
<blockquote class="blockquote">
<p>Being in the core, however, is not as such a momentous achievement from the point of view of social welfare. A person who starts off ill-endowed may stay poor and deprived even after the transactions, and if being in the core is all that competition offers, the property-less person may be forgiven for not regarding this achievement as a “big deal.”</p>
</blockquote>
<p>Moving on from Edgeworth, the argument for self-interest and rationality has sometimes been given in the form of revealed preference. The basic idea is to determine one’s preferences, which can’t be directly observed, by asserting that they are the same as one’s behavior, which can be observed. As Sen notes, “Behavior, it appears, is to be “explained in terms of preferences, which are in turn defined only by behavior.” This comes close to simply being a definition that is devoid of any new content, but the idea of revealed preference still rests on the claim that preferences and behavior are consistent over time. This makes it falsifiable. And, in fact, it has been falsified.</p>
<p>Sen notes that revealed preference fails not only by assuming too much in terms of preferences being identical to behavior, but also by assuming too little in terms of other possible sources of information about preferences. As Sen puts it,</p>
<blockquote class="blockquote">
<p>…choice may reflect a compromise among a variety of considerations of which personal welfare may be just one. The complex psychological issues underlying choice have recently been forcefully brought out by a number of penetrating studies dealing with consumer decisions and production activities.It is very much an open question as to whether these behavioral characteristics can be at all captured within the formal limits of consistent choice on which the welfare-maximization approach depends.</p>
</blockquote>
<p>In my view the question is no longer open. Scholars like Kahnemahn, Ariely, and Thaler have shown that human behavior cannot be captured by the welfare-maximization framework, but Sen was writing in 1977, so it was more of an open question then.</p>
<p>After this critique, Sen then begins to build up his alternative vision. Sen distinguishes between cases of sympathy and cases of commitment. Sympathy involves an individual being linked to others, feeling sad when they are sad and happy when they are happy. In this sense, sympathy does not upset the basic model of preferences too much, it simply adds a new component. I prefer it when the people I care about are happy, and so I might give up some amount of my self-interested happiness in exchange for the happiness I feel when they are happy. (Since Sen’s writing this has been added to some models, particularly of charitable giving, usually under the name ‘warm glow’).</p>
<p>Commitment involves placing an ethical stance ahead of one’s own well-being. In Sen’s words, “One way of defining commitment is in terms of a person choosing an act that he believes will yield a lower level of personal welfare to him than an alternative that is also available to him.”</p>
<p>This may seem insignificant, but it’s important to remember that there are actually a lot of activities that we engage in frequently that don’t yield obvious benefits. Recycling, for instance, is a case of ignoring the economic logic that my individual recycling effort cannot make a difference. In theory, each person should free-ride on the efforts of others to preserve the environment, and yet I recycle, eat less meat, bike to work, etc., not because I believe the marginal benefits to these things outweighs the marginal cost, but rather because it is the right thing to do. Voting, obeying social norms, giving to charity, doing favors for strangers, tipping the server at a restaurant you’ll never return to, and many other cases also follow this same pattern.</p>
<p>Now, it is true that it’s difficult to separate out sympathy from commitment. One could argue that I enjoy doing the right thing, and therefore I’m still maximizing my own well-being. First, this reduces preferences to observed behavior, as mistake already critiqued above. The motive to do the right thing is different than the motive to enjoy oneself, and lumping them together is a categorical mistake. Second, we can think about the use of pre-commitment devices to combat weakness of will. Because preferences vary over time one can commit oneself to a certain course of action, in part because one knows ahead of time that ‘the right thing’ and ‘the preferred thing at the time of the decision might vary.’ As a simple example, by not having a parking pass for work, I encourage myself to bike, even when it’s raining or otherwise unpleasant outside. The use of pre-commitment devices seems to be a pretty clear case of placing a form of commitment ahead of individual well-being. Third, as Sen points out we can actually desire to have preferences different than the ones we currently have (i.e.&nbsp;I wish I liked vegetarian foods more, or I wish I cared more about others). These sorts of meta-preferences mean we can attempt to commit to changing our current preferences and thus bring our individual desires closer to our ethical ideal.</p>
<p>As Sen argues, economic man is significantly worse off because of a failure to recognize these distinctions:</p>
<blockquote class="blockquote">
<p>A person thus described may be “rational” in the limited sense of revealing no inconsistencies in his choice behavior, but if he has no use for these distinctions between quite different concepts, he must be a bit of a fool. The purely economic man is indeed close to being a social moron.</p>
</blockquote>
<p>All of these considerations have a lot of impact on how we think about setting up a society to that is both just and encourages human flourishing. Sen cautions not to make the same mistake Edgeworth made when rejecting utility and concluding that rejection implied self-interest (egoism). Sen writes, “The rejection of egoism as description of motivation does not, therefore, imply the acceptance of some universalized morality as the basis of actual behavior.” Instead, it means human behavior is, as it always has been, a complex phenomena driven by multiple motivations, including socialization.</p>
<p>Sen wrote in 1977, and while there’s been a lot of interesting behavioral economics that takes Sen’s critique seriously and explores actual human behavior, there’s still a tragic gap between what Sen and empirical observation teaches us, and what is taught in economic classrooms across the United States.</p>



 ]]></description>
  <category>Philosophy</category>
  <category>Economics</category>
  <category>Policy</category>
  <guid>https://www.natekratzer.com/posts/rational_fools/index.html</guid>
  <pubDate>Mon, 03 Feb 2014 05:00:00 GMT</pubDate>
  <media:content url="https://www.natekratzer.com/posts/rational_fools/sen.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>A Theory of Moral Sentiments</title>
  <link>https://www.natekratzer.com/posts/theory_of_moral_sentiments/index.html</link>
  <description><![CDATA[ 



<p>Adam Smith is largely responsible for starting the field of economics as an academic subject. His magnum opus <em>The Wealth of Nations</em> is considered the first work of modern economics, and Smith is sometimes referred to as “the father of modern economics.” I tell you this because I think Smith would be at least mildly ashamed of his academic progeny. Smith is perhaps best known for his famous statement on mutually beneficial trade:</p>
<blockquote class="blockquote">
<p>It is not from the benevolence of the butcher, the brewer, or the baker, that we expect our dinner, but from their own interest. We address ourselves, not to their humanity, but to their self-love, and never talk to them of our necessities, but of their advantages.</p>
</blockquote>
<p>Smith continues on to write (entirely correctly) about why it makes sense for people to specialize in tasks like butchery or baking and then trade with each other. However, the economics profession as a whole (with notable exceptions) has taken the idea of self-interest much farther than Smith intended. In addition to The Wealth of Nations, Smith’s other major work was A Theory of Moral Sentiments, which Smith opens with these words:</p>
<blockquote class="blockquote">
<p>How selfish soever man may be supposed, there are evidently some principles in his nature, which interest him in the fortune of others, and render their happiness necessary to him, though he derives nothing from it except the pleasure of seeing it.</p>
</blockquote>
<p>In fact, Smith goes on to argue that the entire basis of morality is sympathy, or ability to project ourselves into the others place and to feel with them either the pain or joy that they are experiencing:</p>
<blockquote class="blockquote">
<p>And hence it is, that to feel much for others and little for ourselves, that to restrain our selfish, and to indulge our benevolent affections, constitutes the perfection of human nature; and can alone produce among mankind that harmony of sentiments and passions in which consists their whole grace and propriety.</p>
</blockquote>
<p>Smith the moral philosopher seems radically different from Smith the economist, but Smith’s positions are not contradictory. Some have suggested that The Wealth of Nations, being written after A Theory of Moral Sentiments, represents a change in the direction of Smith’s thought, but in reality the same concerns the Smith expresses in his moral philosophy can be found in his economics. Smith’s analysis of human behavior is much, much more complex and layered than modern classical economics gives him credit for.</p>
<p>Smith, for instance, argues that stockholders often want policies that are not in the interest of the general public. Amartya Sen points out that while Smith believed that self-interest was sufficient to motivate market exchanges, there are problems involved in setting up markets equitably and managing externalities and public goods that self-interest is unable to deal with. To quote Sen:</p>
<blockquote class="blockquote">
<p>But in dealing with other problems, those of distribution and equity and rule-following for generating productive efficiency – Smith emphasized broader motivations. In these broad contexts, while prudence remained “of all virtues that which is most helpful to the individual,” he explained why “humanity, generosity, and public spirit, are the qualities most useful to others.” The variety of motivations that we have reason to accommodate is, in fact, quite central to Smith’s remarkably rich analysis of human behavior.</p>
</blockquote>
<p>Economists today often draw a distinction between self-interest and selfishness. The self can be interested in ends that are not selfish. To some extent, this is a semantics games, but it is one that Smith explicitly rejects.</p>
<blockquote class="blockquote">
<p>Those who are found of deducing all our sentiments from certain refinements of self-love, think themselves at no loss to account, according to their own principles, both for this pleasure and this pain. Man, say they, conscious of his own weakness, and of the need which he has for others, rejoices whenever he observes that they adopt his own passions, because he is then assured of assistance; and grieves whenever he observes the contrary, because he is then assured of opposition. But both the pleasure and the pain are felt so instantaneously, and often upon such frivolous occasions, that it seems evident that neither of them can be derived from any such self-interested consideration.</p>
</blockquote>
<p>Fortunately for us, behavioral economics is confirming experimentally most of what Smith already knew. Today, we know that exposure to money and to economics makes people more likely to act selfishly. Smith, however, is already a step ahead of us (he’s pretty spry for a dead guy). He knew that not only was this bad for society, it was bad for the individuals as well.</p>
<blockquote class="blockquote">
<p>Society and conversation, therefore, are the most powerful remedies for restoring the mind to its tranquility, if, at any time, it has unfortunately lost it; as well as the best preservatives of that equal and happy temper, which is so necessary to self-satisfaction and enjoyment.</p>
</blockquote>
<p>Smith was, no doubt, wrong about many things, but economics could be much further ahead if it had simply paid attention to its founding father. Today, you can get a PhD in economics without ever reading Smith. This is a tragedy for those of us who want to have an economics discipline that recognizes the rich variety in human behavior and is willing to grapple with the tough philosophical issues and value judgments that underlie the calculations and empirical methodologies.</p>



 ]]></description>
  <category>Economics</category>
  <category>Philosophy</category>
  <guid>https://www.natekratzer.com/posts/theory_of_moral_sentiments/index.html</guid>
  <pubDate>Tue, 03 Sep 2013 04:00:00 GMT</pubDate>
  <media:content url="https://www.natekratzer.com/posts/theory_of_moral_sentiments/moral_sentiments_book.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>What I Believe</title>
  <link>https://www.natekratzer.com/posts/what_I_believe/index.html</link>
  <description><![CDATA[ 



<p><em>Update on 2023-03-18</em>: Statements below do not necessarily reflect my current beliefs, but I enjoyed getting to re-read what I wrote a decade ago when transferring content over from my old blog, so I decided to transfer this post over.</p>
<section id="between-relativism-and-universalism" class="level2">
<h2 class="anchored" data-anchor-id="between-relativism-and-universalism">Between Relativism and Universalism</h2>
<p>First, it is important to start by saying that getting one’s beliefs correct is not, repeat not, the key to salvation (and we’ll discuss what I mean by salvation in a bit). One of the worst things that has happened to the church is that works-righteousness, the idea of earning ones way into heaven, was replaced not with grace, but with beliefs-righteousness, the idea that if one only believes the correct things fervently enough and without doubt one can earn their way into heaven. Like works-righteousness, beliefs-righteousness leaves one with a constant feeling of guilt. Unlike works-righteousness, which at least led to good works being done, beliefs-righteousness leads to petty theological squabbles and lots of unnecessary hatred. Grace, by definition, is unearned. Apparently, however, this is too difficult of a concept for most people to grasp and so they decided they must be required to do something… if not works, then beliefs.</p>
<p>There’s one other thing to clear up at the outset. No one has all of it figured out. But before you panic and starting screaming “MORAL RELATIVISM!!” at the top of your lungs, the fact that no one belief is correct does not mean that anything goes. We’ll get into right and wrong more later in the post, but for now think of it like building a house. There is no one correct way to build a house; it depends on climate, personal preference, society, how many people are going to live there, etc. There are, however, plenty of wrong ways to build a house. If the house collapses, catches on fire, explodes, is cramped and uncomfortable, or is just generally the result of shoddy craftsmanship then it is a bad house. If your religious beliefs cause you to be full of hatred, hurt others, and/or are generally incoherent, self-contradictory, and not well thought out, then you have a bad set of religious beliefs. This, by the way, is not only true of religious beliefs. In most of life there is more than one correct way to do things, and there are also several incorrect ways. My claim is not that I have The Truth, but rather that I have a relatively well thought out and helpful belief system. It is (hopefully) a truth, just not The Truth.</p>
</section>
<section id="why-believe-anything-at-all" class="level2">
<h2 class="anchored" data-anchor-id="why-believe-anything-at-all">Why Believe Anything At All?</h2>
<p>I begin with a short joke from David Foster Wallace:</p>
<blockquote class="blockquote">
<p>There are these two young fish swimming along and they happen to meet an older fish swimming the other way, who nods at them and says “Morning, boys. How’s the water?” And the two young fish swim on for a bit, and then eventually one of them looks over at the other and goes, “What the hell is water?”</p>
</blockquote>
<p>It is so inescapably true as to almost be banal that everything is about perspective, and our perspective limits us at least as much as it enlightens us. Perhaps the most important thing to understand is that you have a perspective. And there’s not much you can do about it. No one has put it better than Wallace in his commencement speech to Kenyon:</p>
<blockquote class="blockquote">
<p>Here is just one example of the total wrongness of something I tend to be automatically sure of: everything in my own immediate experience supports my deep belief that I am the absolute centre of the universe; the realest, most vivid and important person in existence. We rarely think about this sort of natural, basic self-centredness because it’s so socially repulsive. But it’s pretty much the same for all of us. It is our default setting, hard-wired into our boards at birth. Think about it: there is no experience you have had that you are not the absolute centre of. The world as you experience it is there in front of YOU or behind YOU, to the left or right of YOU, on YOUR TV or YOUR monitor. And so on. Other people’s thoughts and feelings have to be communicated to you somehow, but your own are so immediate, urgent, real.</p>
</blockquote>
<p>Our default perspective is formed by our immediate experience. Now it’s possible to expand that a little bit. By listening to other people and actively cultivating empathy you might be able to get a taste, but only a taste, of what life is like for other people. The cold, hard truth, is that you will have to make decisions based on what you think is best. Whether you choose to believe in a God, the gods, virtue, human progress, sacred scripture, or nothing at all is up to you. There is no certainty available. The one thing that is true is that you will have to choose, because trying not to choose is, in itself, a choice. It’s a choice to stick with the default setting, with our human wiring. Wallace writes,</p>
<blockquote class="blockquote">
<p>There is no such thing as not worshipping. Everybody worships. The only choice we get is what to worship. And the compelling reason for maybe choosing some sort of god or spiritual-type thing to worship–be it JC or Allah, be it YHWH or the Wiccan Mother Goddess, or the Four Noble Truths, or some inviolable set of ethical principles–is that pretty much anything else you worship will eat you alive. If you worship money and things, if they are where you tap real meaning in life, then you will never have enough, never feel you have enough. It’s the truth. Worship your body and beauty and sexual allure and you will always feel ugly.</p>
</blockquote>
<blockquote class="blockquote">
<p>Worship power, you will end up feeling weak and afraid, and you will need ever more power over others to numb you to your own fear. Worship your intellect, being seen as smart, you will end up feeling stupid, a fraud, always on the verge of being found out. But the insidious thing about these forms of worship is not that they’re evil or sinful, it’s that they’re unconscious. They are default settings.</p>
</blockquote>
<p>Our default settings rely on our own experiences of reality. Our own power, beauty, intellect, money, fame, things, place in society, and so on. There’s a good reason to move on from that default though and to consciously choose something to believe. Belief in this sense is not blind, but rather a conscious decision, a knowing leap of faith.</p>
<p>I’m going to move on to what I believe instead of just why I believe, but I encourage you to read Wallace’s <a href="https://www.economist.com/1843/2008/09/19/david-foster-wallace-in-his-own-words">whole speech</a> (or <a href="https://www.youtube.com/watch?v=PhhC_N6Bm_s">listen to it</a>).</p>
</section>
<section id="being-mystery-and-meaning" class="level2">
<h2 class="anchored" data-anchor-id="being-mystery-and-meaning">Being, Mystery, and Meaning</h2>
<p>God does not exist. At least, not in the way that we normally think about existence. God does not exist in the same way that a cat or a building can be said to exist.</p>
<p>God is instead the source of existence and of meaning. The mysterious and unknown answer to the unanswerable questions: Why is there being at all instead of nothing? Why am I here?</p>
<p>These core philosophical/theological questions are ones that cannot, ultimately, be answered. I have found Gabriel Marcel helpful here in making an (admittedly somewhat arbitrary) distinction between problem and mystery:</p>
<blockquote class="blockquote">
<p>A problem is something which I meet, which I find completely before me, but which I can therefore lay siege to and reduce. But a mystery is something in which I am myself involved, and it can therefore only be thought of as a sphere where the distinction between what is in me and what is before me loses its meaning and initial validity.</p>
</blockquote>
<p>A problem, conceived of this way, is like a jigsaw puzzle. All of the pieces are in front of you, and no matter who works on the puzzle the pieces will eventually fit together in the same way. A mystery, however, involves you. You cannot solve it because you are a part of it, and therefore you cannot attain an objective perspective. You can investigate a mystery, but it will change as you change.</p>
<p>When Albert Einstein spoke of religion, he spoke of mystery:</p>
<blockquote class="blockquote">
<p>The most beautiful experience we can have is the mysterious. It is the fundamental emotion which stands at the cradle of all true art and science. Whoever does not know it and can no longer wonder, no longer marvel, is as good as dead, and his eyes are dimmed. It was the experience of mystery – even if mixed with fear – that engendered religion. A knowledge of the existence of something we cannot penetrate, our perceptions of the profoundest reason and the most radiant beauty, which only in their most primitive forms are accessible to our minds – it is this knowledge and this emotion that constitute true religiosity; in this sense, and, and in this alone, I am a deeply religious man.</p>
</blockquote>
<p>Formal religion is born, at least in part, from this religious experience. All too often, religion, like many human institutions, has failed miserably. Ironically, religion has sometimes even denied this religious experience of awe in favor of fear. Nonetheless, religion (broadly construed) has something essential to offer, a way of living that infuses our lives with meaning and allows us to see the sacred in the everyday.</p>
</section>
<section id="choosing-a-religion" class="level2">
<h2 class="anchored" data-anchor-id="choosing-a-religion">Choosing a Religion</h2>
<p>There are two main reasons that I have chosen to remain Christian, and more specifically Lutheran (ELCA). To understand them you need to think of religion not as a set of beliefs but more in terms of a language and a story.</p>
<p>Thinking of religion as a language, I stay Lutheran because it is the religion in which I am fluent. Within the faith tradition I grew up in there are powerful stories of exile, exodus, and resurrection. There are stories and parables of the ways in which a power beyond my understanding can transform death into life, and bring healing into the dark and broken corners of human existence. There are many examples of this sort of religious language being applied to life, but one of the most beautiful I have come across is Wendell Berry’s reflections on topsoil:</p>
<blockquote class="blockquote">
<p>The topsoil exists as such because it is ceaselessly transforming death into life, ceaselessly supplying food and water to all that lives in it and from it;….if we are to live well on and from our land, we must live by faith in the ceaselessness of these processes and by faith in our own willingness and ability to collaborate with them. Christ’s prayer for “daily bread” is an affirmation of such faith, just as it is a repudiation of faith in “much goods laid up.” Our life and livelihood are the gift of topsoil and of our willingness and ability to care for it, to grow good wheat, to make good bread; they do not derive from stockpiles of raw materials or accumulations of purchasing power.</p>
</blockquote>
<p>The stories of the Bible have a great deal of meaning for me, and help me to understand the world around me. This is not to say that I do not borrow from other religions from time to time, much the way an English speaker might borrow a German word that expresses some interesting concept that does not exist in English. Nonetheless, Christianity is the language I am most fluent in, and therefore I remain Christian.</p>
<p>The other important reason is because I am a part of the story of Christianity. Quite simply, I am Christian because I grew up Christian. I used to see that as being an entirely insufficient reason because I was looking for some sort of universal and logical validation for my beliefs. Such certainty would be nice, but it simply is not available to human beings. Human beings are social creatures that construct meaning largely by telling stories. We tell stories about our own lives, about each other, about our ancestors, and about our religious beliefs. The stories of Christianity are now my stories.</p>
</section>
<section id="a-few-words-on-salvation" class="level2">
<h2 class="anchored" data-anchor-id="a-few-words-on-salvation">A Few Words on Salvation</h2>
<p>Salvation is not about life after death. It’s about this life. Let me say that again. Salvation is not about the afterlife, it’s about the here and now. It is, once again, about how you perceive the world. Here’s the thing about the fish and the water. The water is there whether the fish know it or not. Salvation is a real possibility, a way of being in the world and a way of relating to other people. A way to avoid being eaten alive by the default gods of power, fame, wealth, and intellect. By the way, I didn’t just make that up, it comes in part from my faith tradition:</p>
<blockquote class="blockquote">
<p>The Kingdom of God is not coming with things that can be observed; nor will they say, ‘Look, here it is!’ or ‘There it is!’ For, in fact, the kingdom of God is among you. — Luke 17:20-21</p>
</blockquote>
<p>Now, a lot of things have happened in Christian theology over the years, and there is no one definitive way to interpret the Bible. Nonetheless, Jesus clearly taught a way of life that had a lot to do with love, compassion, and prayer, and not as much to do with religious dogma (particularly when that dogma got in the way of compassion).</p>
<p>I have absolutely no idea what happens when we die, and don’t much care to speculate (although I will say I’m fairly sure it’s not a theology quiz). When I say that salvation is in this life I am not making a statement either way about the possibility of life after death. I am making a statement about this life, and how we have the very real possibility of living in awe of the mystery of life, the universe, and everything.</p>


</section>

 ]]></description>
  <category>Religion</category>
  <category>Philosophy</category>
  <guid>https://www.natekratzer.com/posts/what_I_believe/index.html</guid>
  <pubDate>Tue, 20 Aug 2013 04:00:00 GMT</pubDate>
  <media:content url="https://www.natekratzer.com/posts/what_I_believe/old_books.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>What is Education for?</title>
  <link>https://www.natekratzer.com/posts/what_is_education_for/index.html</link>
  <description><![CDATA[ 



<p>I did not major in philosophy to get a good job. I also did not major in philosophy in order to do well on standardized tests and get into graduate school, although philosophy majors, in fact, do extremely well on the GRE and LSAT.</p>
<p>I have lost count of the number of articles I have read analyzing the education system in terms of its profitability. Each week a new publication decides to ask if a college education is worth the money…and by worth the money they always seem to mean an analysis of lifetime earnings potential. Education is seen primarily or sometimes even only as job training.</p>
<p>Meaningful employment is an important part of human life, but it is not the only part of human life. The Canadian ecologist Stan Rowe suggest that the proper goal of education is “understanding what it means to be human in a living world.” The importance of this should be obvious, but Rowe goes on to note wryly, “After all, well-educated people, not illiterates, are wrecking the planet. Schools and universities are morally bankrupt [and] most research is worthless busywork…”</p>
<p>Rowe is harsher than I wish to be on schools and universities, but there are certainly elements of truth to his critique. In my field as a graduate student in public policy I have read all too many papers that are not well thought-out, but rather rely on sloppy assumptions and fancy mathematical modeling.</p>
<p>Frustrating as poor research is, it is not the most severe problem facing academia. The crisis is the push towards only the practical and immediately applicable, while relegating everything else to the status of less-important subjects. STEM (Science, Technology, Engineering, Math) are important, but so too are History, English, Philosophy, Sociology and all of the humanities. STEM often (at the undergraduate level) teaches a certain type of thinking, which is a very effective and practical way to solve problems. STEM fields seek answers, while the humanities focus first on training students to ask the correct questions, and to take an extremely broad view of any problem. A lot of damage has been done by narrow, practical solutions. The technology we have is an engineering marvel, and the economic abundance we possess is a tribute to the efficiency of solving practical problems. And yet for all our abundance we still have massive poverty and environmental degradation, as well as a society that is becoming increasingly polarized, distrustful, and distant. Perhaps we have been asking ourselves the wrong questions?</p>
<p>As Martin Luther King Jr.&nbsp;wrote:</p>
<blockquote class="blockquote">
<p>The function of education, therefore, is to teach one to think intensively and to think critically. But education which stops with efficiency may prove the greatest menace to society. The most dangerous criminal may be the man gifted with reason, but with no morals.</p>
</blockquote>
<p>There are, of course, great difficulties in the idea that schools ought to be responsible for teaching any form of morality. To be clear at the outset, my argument is that schools ought to teach individuals to ask moral questions, not that schools should provide answers. My first philosophy class quite literally changed my life on a daily basis, because it made me ask a new question: “What should I eat?” Like most 18 year olds I had always been content to eat whatever was tasty and reasonably priced, without much thought about where the food came from.</p>
<p>There are two other articles I still remember from that class and refer to frequently. One was by Peter Singer on morality and global poverty, and the other was on white privilege by Peggy McIntosh. (Both are short, and available for free online, so I strongly encourage you to read them).</p>
<p>What, you may be wondering, is the value of a question without an answer? There is not ‘an answer’ to the question of ‘What should I eat?’ and yet pondering that question as nonetheless affected my unavoidable answer to the daily question ‘What do I eat?’ In a similar manner there is not an answer to the question, “What is ethical/moral?” but by pondering it we may nonetheless improve our behavior.</p>
<p>The ultimate purpose of education is to bring up human beings, not merely workers. I majored in philosophy because I thought it would make me a better person, one who might have a chance at understanding what it means to be human in a living world. There are certainly other ways to do this (my personal enjoyment of philosophy is also a big part of why I chose to major in it), and my point is not about individual majors, but rather a general mindset towards education. Until we understand education as part of bringing up human beings and not merely an economic investment in future salary returns our attempts to reform education are likely to go astray, and may even harm society.</p>



 ]]></description>
  <category>Economics</category>
  <category>Philosophy</category>
  <category>Policy</category>
  <category>Education</category>
  <guid>https://www.natekratzer.com/posts/what_is_education_for/index.html</guid>
  <pubDate>Mon, 12 Aug 2013 04:00:00 GMT</pubDate>
  <media:content url="https://www.natekratzer.com/posts/what_is_education_for/education.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>What we know about race and racism in the United States</title>
  <link>https://www.natekratzer.com/posts/race_in_the_us/index.html</link>
  <description><![CDATA[ 



<p>Public discussions around race often focus on individual events that have focused national attention, often without enough context on the systematic roots of racism and why these events continue to happen. There is a vast academic literature on the impact of race in the United States. One of the problems with highlighting single case like the Trayvon Martin case is that it cannot tell us much about the overall situation in the United States. Even if we were completely sure of what happened, knowledge of one death in a country where <a href="https://www.cdc.gov/nchs/fastats/homicide.htm">44 people are killed each day</a> is of limited informational value. (All cases are important and have personal and emotional value, but individually none of them really give us the big picture).</p>
<p>Overt racism is down to around <a href="https://themonkeycage.org/2013/07/trayvon-martin-and-the-burden-of-being-a-black-male/">20 to 30 percent among whites</a>. Unfortunately, overt racism is not the only problem. The problem is implicit and aversive racism that leads to systems that exercise power in racially biased ways. Unconscious biases and impressions still turn into public policy. As OSU professor <a href="https://themonkeycage.org/2013/07/trayvon-martin-and-the-burden-of-being-a-black-male/">Corrine McConnaughy writes</a>:</p>
<blockquote class="blockquote">
<p>Stopping at overt racism, however, is stopping far too short. Research on aversive racism uses implicit measurement strategies to show that even those white Americans that express racially egalitarian views are not immune from holding—and acting upon—racial prejudice. Negative implicit views are most likely to produce discriminatory or harmful behavior toward blacks when there is no social monitoring of the behavior—that is, no one is “watching”—and the behavior can be justified or rationalized based on a factor other than race.</p>
</blockquote>
<p><a href="https://www.amazon.com/Disciplining-Poor-Neoliberal-Paternalism-Persistent/dp/0226768775">Soss, Fording, and Schram</a> go into more detail on how race impacts policy-making. They argue that it proceeds in three basic steps.</p>
<ol type="1">
<li>In order to design effective policies in a complex world, policy-makers rely on social classifications and group reputations.</li>
<li>If racial minorities are a salient group in a policy decision (as for example welfare reform, prison reform, zero tolerance policies, mandatory minimums, etc) then race will be used as a basis for social classification in order to target differences that are perceived as relevant to policy goals.</li>
<li>The likelihood of this leading to racially patterned (or biased) policy outcomes is dependent upon three factors: a) prevailing stereotypes, b) policy actors holding those stereotypes, and c) the presence of stereotype consistent cues.</li>
</ol>
<p>Soss, Fording, and Schram go on to show how this model played out in welfare reform, with the perception of black laziness peaking in 1996 during welfare reform after the abundant presence of social and media cues to reinforce that stereotype. They also show welfare reform playing out at the state and county (in FL) levels, and the clear relationships between race and welfare reform and sanctioning policy.</p>
<p>There is also abundant observational as well as experimental evidence of racial bias in the economy today. Simply looking at employment data, black individuals with some college have <a href="https://www.npr.org/2013/05/04/181053769/fewer-jobs-persistent-racial-disparity">a higher unemployment rate</a> than whites who dropped out of high school. As an experiment, <a href="https://www.nber.org/digest/sep03/w9873.html">researchers sent out identical resumes</a> with different names in order to test for bias in hiring. They found that, “<em>Job applicants with white names needed to send about 10 resumes to get one callback; those with African-American names needed to send around 15 resumes to get one callback.</em>”</p>
<p>In the absence of policy bias it is hard to explain the massive disparity in academic and economic achievement between blacks and whites, or the disparity in incarceration rates. One in three black men will spend time in prison in their lifetimes, compared to one in 17 white men (<a href="https://www.sentencingproject.org/wp-content/uploads/2016/01/Addressing-Racial-Disparities-in-Incarceration.pdf">Sentencing Project</a>). Even if this only reflected a higher rate of criminal activity one would still need to ask why so many young black men find themselves in situations that lead to criminal activity. I’ll get to the historical background in a moment, but first it’s worth pointing out that only 61 percent of the racial disparity is due to differing amounts of criminal activity, while the rest is due to biases within the criminal justice system (<a href="https://www.sentencingproject.org/wp-content/uploads/2016/01/Addressing-Racial-Disparities-in-Incarceration.pdf">Sentencing Project</a>).</p>
<p>The story of the creation of the urban ghetto is well-documented and relatively well known. The division of neighborhoods into white and black stems from a time of explicit racism. That division, and the attending economic and academic disparities, continues to this day. Less well known is the role of the G.I. Bill, which was implemented in a way that jump-started the creation of the post WWII white middle class while failing to do the same for black veterans. Nick Kotz reports the history well in the <a href="https://www.nytimes.com/2005/08/28/books/review/28KOTZL.html?pagewanted=print">NY Times</a>:</p>
<blockquote class="blockquote">
<p>Southern Congressional leaders made certain that the programs were directed not by Washington but by local white officials, businessmen, bankers and college administrators who would honor past practices. As a result, thousands of black veterans in the South — and the North as well — were denied housing and business loans, as well as admission to whites-only colleges and universities. They were also excluded from job-training programs for careers in promising new fields like radio and electrical work, commercial photography and mechanics. Instead, most African-Americans were channeled toward traditional, low-paying ”black jobs” and small black colleges, which were pitifully underfinanced and ill equipped to meet the needs of a surging enrollment of returning soldiers.</p>
</blockquote>
<blockquote class="blockquote">
<p>The statistics on disparate treatment are staggering. By October 1946, 6,500 former soldiers had been placed in nonfarm jobs by the employment service in Mississippi; 86 percent of the skilled and semiskilled jobs were filled by whites, 92 percent of the unskilled ones by blacks. In New York and northern New Jersey, ”fewer than 100 of the 67,000 mortgages insured by the G.I. Bill supported home purchases by nonwhites.” Discrimination continued as well in elite Northern colleges. The University of Pennsylvania, along with Columbia the least discriminatory of the Ivy League colleges, enrolled only 46 black students in its student body of 9,000 in 1946. The traditional black colleges did not have places for an estimated 70,000 black veterans in 1947. At the same time, white universities were doubling their enrollments and prospering with the infusion of public and private funds, and of students with their G.I. benefits.</p>
</blockquote>
<p>My grandfather came home from WWII, went to college on the GI Bill, got a job at IBM and sent my father and uncle to good private schools and then on to college. This educational privilege was passed on to me, and for all I know is the difference between me and a smart young Black man who went to bad public high schools and was never encouraged to go to college since no one in his family had. (Or perhaps went to college and dropped out due to lack of support).</p>
<p>The explicit racism in our society that persisted over hundreds of years still shapes us today. To ignore that is to ignore history. The history of explicit racism is still very recent in our society, with most of us having parents and all of us having grandparents that encountered it directly and were shaped by it. Hundreds of years of slavery, segregation, and discrimination are not going to be overcome less than 50 years after the civil rights movement.</p>



 ]]></description>
  <category>Policy</category>
  <guid>https://www.natekratzer.com/posts/race_in_the_us/index.html</guid>
  <pubDate>Sun, 21 Jul 2013 04:00:00 GMT</pubDate>
  <media:content url="https://www.natekratzer.com/posts/race_in_the_us/stop_racism.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>Market Norms are Crowding out Social Norms</title>
  <link>https://www.natekratzer.com/posts/market_norms_social_norms/index.html</link>
  <description><![CDATA[ 



<p>Imagine you are going over to a friend’s house for a nice dinner. You want to show appreciation for the lovely meal they’ve prepared for you, and you have a few options. You can offer to have them over for dinner in the future. You can bring a bottle of wine or a six pack of beer. You can simply say thank you and tell them what a lovely evening you have had. The one thing you would not want to do is offer to pay them the fair market value of the food and ambiance they have prepared for you. This would be a major social faux pas, the replacing of a social norm with a market interaction.</p>
<p>There are some situations that are governed by social norms and other situations that are governed by market norms. To an economist, however, if those norms ever do overlap, then they could only strengthen each other. After all, if someone is willing to do something based only on the strength of a social norm, shouldn’t they be more willing to do it for both the social norm and the additional monetary reward of the market? To be more concrete about it, if lawyers are willing to volunteer their time to help the elderly with legal analysis, it would be completely irrational for them to not be at least as willing to sell their time at a discount.</p>
<p>As it turns out, in many situations market norms don’t complement social norms, they crowd them out. The AARP really did ask some lawyers if they would offer services to retirees at a discount. The lawyers said no. Then the AARP asked if they would do it for free and they said yes. Now the economically rational thing to do would be for them to think of themselves as volunteers who get paid a small stipend, but once market norms were part of the consideration, social norms departed.</p>
<p>In <em>Predictably Irrational</em>, Dan Ariely writes about an experiment he set up to test market norms and social norms. Participants were asked to complete a mind-numbingly dull computer task, dragging circles into a square for 5 minutes. They split their participants into three groups, one group received 5 dollars, one group 50 cents, and one group was simply asked to complete the task as a favor to the experimenters. Those making 5 dollars outperformed those making only 50 cents by a wide margin, 159 to 101. The volunteers, however, dragged 168 circles. To be clear, that’s not significantly more than the 5 dollar group. If you pay people a reasonable wage to do a task they really will work hard at it. The point, however, is that the social norm was every bit as strong as the fair wage norm, and much, much stronger than the market norm created by offering substandard compensation.</p>
<p>One other concrete example of this crowding out of social norms comes from an Israeli daycare. The daycare decided to implement a fine on parents who were late to pick up their children. The fine backfired in epic fashion, and the number of parents who were late actually increased. Before, the parents felt bound by a social norm. Having worked in after-school care I can tell you that parents really do feel bad about inconveniencing the staff by being late. Once money enters the equation, however, being late is simply an extra service that can be paid for and falls under the realm of market norms.</p>
<p>The most disturbing part of the day care story is what happened next. The day care, realizing that the fine wasn’t working, decided to eliminate it. The parents behavior, however, did not revert to prior levels of lateness, in fact, it rose a little bit. Now that the social norm was gone it did not return, and having eliminated the market penalty as well it makes sense that tardiness increased. Once market norms have crowded out social norms it may not be easy to get them back.</p>
<p>It turns out that being exposed to market cues and signals has a negative effect on our social behavior. Psychologist use a technique called priming to see how certain unconscious cues affect our behavior. Priming works by exposing its subjects to something that will later impact their thinking. In this case, subjects were exposed to something money-related, i.e.&nbsp;a stack of monopoly money on a table or a computer screen saver with dollar bills floating in the water. Money primed people become more self-reliant, but also more selfish and less willing to help others. They were less social and showed an increased desire to be left alone.</p>
<p>Michael Sandel writes about the moral implications of our transition to a market driven society in <em>What Money Can’t Buy</em>:</p>
<blockquote class="blockquote">
<p>when we decide that certain goods may be bought and sold, we decide, at least implicitly, that it is appropriate to treat them as commodities, as instruments of profit and use. But not all goods are properly valued in this way.</p>
</blockquote>
<p>The problem is that over time, and without ever really discussing it,</p>
<blockquote class="blockquote">
<p>…we drifted from having a market economy to being a market society. The difference is this: A market economy is a tool – for organizing productive activity. A market society is a way of life in which market values seep into every aspect of human endeavor. It’s a place where social relations are made over in the image of the market.</p>
</blockquote>
<p>Now, a market economy is a good way to regulate the sales of books, clothing, shoes, technology, and a great many other things. But it’s not a good way to live a full and flourishing life as a human being. My problem is not with markets, but rather with a series of assumptions that associates human well-being with market well-being, as though the two were the same thing. For now let me conclude with some wise words from Robert F. Kennedy, who recognized this problem back in 1968:</p>
<blockquote class="blockquote">
<p>Our Gross National Product is now over 800 billion dollars a year. But that Gross National Product counts air pollution and cigarette advertising, and ambulances to clear our highways of carnage. It counts special locks for our doors and the jails for the people who break them. It counts the destruction of the redwood and the loss of our natural wonder in chaotic sprawl. It counts napalm and counts nuclear warheads and armored cars for the police to fight the riots in our cities. It counts…the television programs which glorify violence in order to sell toys to our children. Yet the Gross National Product does not allow for the health of our children, the quality of their education or the joy of their play. It does not include the beauty of our poetry or the strength of our marriages, the intelligence of our public debate or the integrity of our public officials. It measures neither our wit nor our courage, neither our wisdom nor our learning, neither our compassion nor our devotion to our country. It measures everything, in short, except that which makes life worthwhile.</p>
</blockquote>



 ]]></description>
  <category>Philosophy</category>
  <category>Economics</category>
  <guid>https://www.natekratzer.com/posts/market_norms_social_norms/index.html</guid>
  <pubDate>Sat, 13 Jul 2013 04:00:00 GMT</pubDate>
  <media:content url="https://www.natekratzer.com/posts/market_norms_social_norms/dinner_table.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>The Bible and Public Policy</title>
  <link>https://www.natekratzer.com/posts/bible_and_public_policy/index.html</link>
  <description><![CDATA[ 



<p>I am frequently asked what Jesus has to do with public policy. It is a difficult question to answer, because Jesus didn’t live in a participatory democracy in which he could clearly let us know his stand on the political controversies of the day. He lived in an occupied land where ultimate political power rested with the Roman empire and the proximate political power was the Sanhedrin (the Jewish court) that ruled over Israel. Since the Sanhedrin was a religious body, this meant that Jesus, like all Jews before him lived in a theocracy.</p>
<p>Needless to say, it is a little difficult to figure out how to apply the actions of an oppressed powerless Jew living two thousand years ago in a conquered theocracy to today’s politics. But there are a few things we can do to bridge that gap.</p>
<p>First, we need to remember that politics is simply the way in which we choose to order our cities. In a democracy we tend to think of partisan politics, but the actual word comes from the Greek ‘polis’ which simply meant the city-state. Politics is how we organize as a community, whether it is a democracy, theocracy, autocracy, or kingdom it is still a political order.</p>
<p>Second, we need to remember that Jesus’ life and death did not happen in isolation. We have the entire rest of the Bible to give context to Jesus’s life and ministry. And since this is a broad and important question, I’m going to start at the very beginning.</p>
<section id="from-genesis-through-the-kings" class="level2">
<h2 class="anchored" data-anchor-id="from-genesis-through-the-kings">From Genesis through the Kings</h2>
<p>In the beginning, God created the world out of love and God saw that the world was good and the world was God’s. (Gen 1:31) Then came the fall. Human beings gave into temptation to be God-like and were banished from paradise (Gen 3). This dual nature of human beings as being both good and made in the image of God (Gen 1:27) as well as fallen is a basis for the a theological anthropology that holds that each human being is at once both saint and sinner.</p>
<p>The stories of the patriarchs confirm both the saint and the sinner in humanity and end with the Hebrews being enslaved in Egypt as a result of Joseph’s use of the famine to put all of the land under the control of Pharaoh. (Gen 48:20-27)</p>
<p>By bringing the Hebrew people out of Egypt God is revealed as a God who liberates God’s people from oppression and leads them out of slavery into the promised land (Exodus 20:2, Deuteronomy 7:8 and others). Once there God gives them laws to live by and we get our first glimpse of what a society ordered by God looks like. There is no King, because God is their king (1 Samuel 12:12). The laws cover religion, politics, and economics. The economics laws in particular reveal a remarkable egalitarianism:</p>
<ul>
<li>During the harvest, anything that falls to the ground is to be left for the poor to come and gather (Deuteronomy 24:19-22).</li>
<li>Every seven years debts are to be forgiven(Deuteronomy 15:1).</li>
<li>Slaves are to be freed every seven years (Exodus 21:2-4, Deuteronomy 15:12).</li>
<li>Every fifty years land is to be restored to its original owners (Leviticus 25: 8-28).</li>
<li>There is to be no oppression of strangers living among them (Exodus 22:21, Exodus 23:9)</li>
<li>Do not oppress the widow or the orphan (Exodus 22: 22-24).</li>
<li>The terms of lending are not to include interest payments or take as collateral the borrowers means of production and shelter (Exodus 22:25-27, Deuteronomy 24:6).</li>
</ul>
<p>Eventually the people grow restless and desire a king. God tries to talk them out of it (1 Samuel 8:10-18, 1 Samuel 12:11-25, Deuteronomy 17:14-20) but relents and anoints Saul to be their king (1 Samuel 15:1) and then regrets appointing Saul a mere ten verses later (1 Samuel 15:10-11). Skipping over a wonderful succession narrative we then wind up with King David and the united Kingdom of Israel. King David reigned about 1,000 years before Jesus’ birth and from a political and economic perspective it was clearly the golden age of Israel. However, it all fell apart under King Solomon due to excessive taxation and the fact that the kingdom was only tentatively united to begin with. Israel split into a Northern Kingdom (Israel) and a Southern Kingdom (Judah). In 722 BCE the Northern Kingdom was conquered by the Assyrians and ceased to exist.</p>
</section>
<section id="the-prophets" class="level2">
<h2 class="anchored" data-anchor-id="the-prophets">The Prophets</h2>
<p>It is during the 8th Century BCE that the tradition of prophetic criticism of unjust government begins to emerge (Nathan had criticized King David for personal immorality regarding Bethsheba, but this is the beginning of a more general critique of justice).</p>
<p>Amos and Hosea prophesy in the Northern Kingdom and Isaiah and Micah in the south. Isaiah 1:13-17 sums it up well:</p>
<blockquote class="blockquote">
<p>…bringing offerings is futile; incense is an abomination to me….I cannot endure solemn assemblies with iniquity…When you stretch out your hands, I will hide my eyes from you; even though you make many prayers I will not listen; your hands are full of blood…cease to do evil, learn to do good, seek justice, rescue the oppressed, defend the orphan, plead for the widow.</p>
</blockquote>
<p>But Isaiah 1:13-17 is hardly alone. It is impossible to do justice to all the 8th century prophets had to say about justice, but here is a (by no means complete) collection of verses broken down by subject*:</p>
<ul>
<li>Concentrated wealth (Isaiah 5:7-8, Amos 6:4-8, Micah 6:10-16)</li>
<li>Oppression/Exploitation of the poor (Isaiah 3:13-15, Isaiah 32:1-8, Hosea 12:7-8, Amos 2:6-8, Amos 4:1, Amos 5:11-12, 15, Amos 8:4-6, Micah 2:1-9, Micah 3:1-8, Micah 7:3-4)</li>
<li>Peace (Isaiah 2:4, Hosea 10:13, Amos 3:10, Micah 4:3)</li>
<li>Liberation (Isaiah 14:3-5, Isaiah 31:8-9, Isaiah 35:5-7, Amos 9:7)</li>
<li>Justice (Isaiah 11:1-9, Isaiah 16: 3-5, Amos 5:23-24, Micah 6:8)</li>
</ul>
<p>Around or slightly after the time at which this critical prophetic tradition was developing there was also a new line of theological thought that is given its fullest expression in the books of Job and Ecclesiastes. The wisdom sages realized that sometimes bad things happen to good people and started asking questions we still ask today. This realization that being either poor or wealthy is not a direct manifestation of God’s will put the plight of the poor in a new light.</p>
<p>In the 6th century BCE (600 years before Christ) the Southern Kingdom was defeated by Babylon and sent into exile. This lead to a new series of prophets that were concerned with the theological implications of their defeat and removal from their sacred land. (Jeremiah’s idea of God writing a covenant on the heart of each Israelite probably owes something to the exile from sacred land (Jeremiah 31:31-34)). However, these prophets and those who oversaw the return from exile in the later half of the century were also concerned with just governance.</p>
<p>The most notable new development might be Jeremiah saying that to know the Lord is to do justice to the poor and needy (Jeremiah 22:16). Again, this is a rich period that deserves more attention than I can give it in this brief overview, but here are some notable verses again broken down by subject:</p>
<ul>
<li>Oppression/Exploitation of the poor (Ezekiel 35:17-20, Isaiah 65:19-25)</li>
<li>Peace (Jeremiah 29:7)</li>
<li>Liberation (Isaiah 65:19-25, Isaiah 61:1-2, 8, Ezekiel 37:14, Isaiah 41:17)</li>
<li>Justice (Jeremiah 7:5-6, Jeremiah 22:13-16, Isaiah chapters 58 and 59)</li>
</ul>
<p>After the Persians defeated the Babylonians the exile was ended, but Israel was now under Persian rule. When Ezra and Nehemiah rebuilt after the Exile they followed not only the religious laws, but also the economic ones (Nehemiah 5). They failed to include the resident alien and forbid intermarriage, but were rebuked by the storytelling of books like Jonah and Ruth, stories that cast aliens as heroes and even as the ancestor of King David.</p>
<p>In the 4th Century BCE Israel was conquered by the Macedonian empire of Alexander the Great, but as the Macedonian Empire declined Israel managed to seize about a century of freedom (the revolt of Judas Maccabeus and the Hasmonean dynasty) before being conquered by the Romans in the 1st century BCE.</p>
</section>
<section id="jesus" class="level2">
<h2 class="anchored" data-anchor-id="jesus">Jesus</h2>
<p>It is against all of this background that we can know begin to explore the political implications of Jesus’ ministry. The most common (though not the only) messianic notion of the time period was that the Messiah would be sent by God to restore the Davidic Kingdom, the golden age of Israel. Jesus, however, was clearly a nonviolent messiah (Matthew 26:52, Matthew 5:38-42, Luke 9:54) who did not call forth God’s wrath on Rome in order to free Israel from oppression. Instead, Jesus proclaimed the coming of the Kingdom of God.</p>
<p>Jesus is consistently engaged in debate with the pharisees (religious leaders) of his day over questions of the law and the prophets and their meaning for the present day. To speak in broad terms, within these debates Jesus tended to argue that compassion is more important than ritual purity. The summation of this thesis is found in Matthew 23:23 (cf.&nbsp;Luke 11:42) “For you tithe mint, dill, and cumin, but have neglected the weightier matters of the law: justice and mercy and faith.” Jesus sums up the law and prophets saying that they all hang on love of God and love of neighbor (Matthew 22:37-40, Luke 10:25-28). Jesus parable of the good Samaritan (Luke 10:29-37) shows that loving ones neighbor is even more important than preserving one’s ritual purity (the priest and the levite passed by in part because contact with a dead body would make them unclean). Some of Jesus’ other relevant teachings include***:</p>
<ul>
<li>Telling a young man that to be perfect he must sell all he has, give the money to the poor, and follow Jesus (Matthew 19:21, Mark 20-22, Luke 18:18-25)</li>
<li>Love your enemies (Matthew 5:38-48, Luke 6:27-36)</li>
<li>Forgive debts (Matthew 6:12, 18:21-35, Luke 16:1-13)</li>
<li>Bear good fruit (Matthew 3:8-10, 7:16-20, 12:33-35, 21:43, Luke 6:43-45)</li>
<li>Blessed are the poor, hungry, mourning, meek, merciful, pure in heart, peacemakers, and persecuted (Matthew 5:1-12, Luke 6:21-26)</li>
<li>Treat others as you would like to be treated (Matthew 7:12)</li>
<li>Care for sinners and spend time among them (Matthew 9:10-13, Luke 7:40-50, 19:5-10)</li>
<li>The signs of God’s kingdom are that the lame walk, the hungry are feed, and the blind see. (Matthew 11:4-6, Luke 4:18-19, 7:22-23)</li>
<li>The Sabbath is made for human beings; compassion and human need are more important. (Matthew 12:1-8, Mark 2:23-28, 3:1-5, Luke 13:12-15, 14:3-6)</li>
<li>It is what comes out of your mouth, not what goes in, that matters (Matthew 15:16-20, Mark 7:14-23)</li>
<li>Supporting your elderly parents monetarily is more important than temple offerings (Matthew 15:3-9, Mark 7:6-12)</li>
<li>Forbidding divorce in a culture where divorce left women economically desolate (Matthew 5:31, Matthew 19:9, Luke 16:18)</li>
<li>Tax collectors and prostitutes are more righteous than religious leaders (Matthew 21:31)</li>
<li>I came as a servant, not a master (Mark 10:45)</li>
<li>The powerful are brought down and the hungry are fed (Luke 1:52-53)</li>
<li>Share your coats and food with those who have none (Luke 3:11)</li>
<li>Abundant possessions will not help you (Luke 12:13-21)</li>
<li>“None of you can become my disciple if you do not give up all your possessions” (Luke 14:33)</li>
<li>Zacchaeus is praised for giving half of his possessions to the poor (Luke 19:8-9)</li>
<li>Condemning the scribes because “they devour widows’ houses” (Luke 20:47)</li>
</ul>
<p>Jesus’ life also witnessed to compassion with numerous healings and several instances of feeding the multitudes. It is the driving out of the money changersfrom the temple that leads to Jesus’ arrest (Matthew 21:12-13, Mark 11:17-18, Luke 19:45-48). Jesus has now threatened the monetary base of the religious and political authority and is handed over to the Romans to be put to death as a political prisoner. The theology of Christ’s death is a source of dispute but all theories I am aware of stress that it is an act of compassion and a means of reconciling God’s people back to God (Colossians 1:20, 2 Corinthians 5: 17-19).</p>
</section>
<section id="the-early-christian-community-and-the-kingdom-of-god" class="level2">
<h2 class="anchored" data-anchor-id="the-early-christian-community-and-the-kingdom-of-god">The early Christian Community and the Kingdom of God</h2>
<p>Finally, we must consider the practices of the early Christian community as we attempt to form a coherent vision of the Kingdom of God as preached by Jesus. The early followers of Christ experienced Pentecost and then lived together holding all of their possessions in common, selling whatever they had and distributing the proceeds to anyone who had need (Acts 2:43-47). None of them had any private property (Acts 4:32) and when Ananias tries to join but holds back property from the group he falls down and dies (Acts 5:1-6). These early followers of Christ were not yet known as Christians, but were called followers of the way (Acts 9:2). Though in later years much of the emphasis of Christians would shift from following Jesus’ teachings by living in a certain way to a system more focused on beliefs about Jesus, in the early years Jesus’ followers sought to live in a certain way, the way that Jesus taught.</p>
<p>It is in exploring the way of life that Jesus taught that we finally find what that way of life has to do with our current public policy. The Kingdom of God as proclaimed by Jesus is one that is:</p>
<ul>
<li>already present (Luke 7:22).</li>
<li>collaborative (Luke 17:20-21).</li>
<li>nonviolent (Matthew 26:52).</li>
</ul>
<p>The Kingdom of God is already present inasmuch as individuals are willing to collaborate with it, to enter into it and to live it out. It is also nonviolent, it does not overthrow power with violence but instead seeks to subvert that power (Matthew 5:38-41). The way of Jesus is to enter into this Kingdom that is typified by the teachings of Jesus, and the prophets, and the law. A kingdom is, of course, a form of political order. The Kingdom of God is one in which God is king, and clearly God is a very different kind of king than King David or any of the other kings of earth with whom we are familiar. Based on the overview given above there are a few characteristics that stand out to me:</p>
<ul>
<li>An overwhelming concern with and compassion for the poor and vulnerable.</li>
<li>A rejection of physical wealth and power as status symbols or a way to be secure.</li>
<li>A desire for proper relationships with God and among human beings.</li>
<li>Peace that comes through justice, not violence.</li>
</ul>
<p>The kingdom of God is collaborative, which means that we can’t do it without God. But it also means that God is waiting for us to accept and enter into the Kingdom of God by living it out in our churches and communities. No political order should ever be identified with the Kingdom, because all human beings are both saints and sinners. However, all political orders should be judged against the Kingdom as a standard, an ‘impossible but relevant ideal’ for which Christians are called to strive. This, then, is what Jesus has to do with public policy. Jesus invites us to enter the Kingdom, and by striving towards the Kingdom we are irrevocably committed to striving towards an impossible ideal in our community life and our social and political order.</p>
</section>
<section id="policy-in-a-nation-with-multiple-religious-views" class="level2">
<h2 class="anchored" data-anchor-id="policy-in-a-nation-with-multiple-religious-views">Policy in a nation with multiple religious views</h2>
<p>One of the frequent objections made to using the Bible as a source of public policy is that the United States is not a Christian nation and should not take its policy guidance from sacred scripture. This is an entirely correct reply to an argument that I have never made. The Bible is supposed to guide Christian views of public policy, but not to guide the U.S. government’s view of public policy.</p>
<p>Religious pluralism does not require Christians (or any other religious groups) to ignore the public policy implications of their theology and scripture, it simply requires that if they wish to be persuasive in public debate they use arguments that will resonate with their audience. If I were speaking to a large group about immigration reform I would talk about the economic benefits to immigration as well as a fairness argument arising from the lottery of birthplace. If I were speaking to a Christian congregation about immigration, I would start with theology (and also probably mention economics).</p>
<p>The Bible really does have a lot to say about public policy, but no one who doesn’t consider the Bible to be their sacred scripture needs to listen.</p>
<section id="footnotes" class="level3">
<h3 class="anchored" data-anchor-id="footnotes">Footnotes</h3>
<p>*In reading the prophets it is important to know that ‘the gate’ was the cite of legal proceedings. When the prophets call for justice in the gate or condemn injustice at the gate they are taking about the judicial system. Also, there is naturally quite a bit of overlap among the categories.</p>
<p>**The book of Isaiah is generally accepted by scholars as the work of three different prophets within the school of thought of Isaiah, the 8th century prophet. The other two are unnamed and prophesied during the exile and immediately after the exile (early and late 6th century BCE).</p>
<p>*** I have included teachings about Jesus that were said by Mary and John the Baptist</p>


</section>
</section>

 ]]></description>
  <category>Religion</category>
  <guid>https://www.natekratzer.com/posts/bible_and_public_policy/index.html</guid>
  <pubDate>Thu, 20 Dec 2012 05:00:00 GMT</pubDate>
  <media:content url="https://www.natekratzer.com/posts/bible_and_public_policy/book_question.jpg" medium="image" type="image/jpeg"/>
</item>
<item>
  <title>The Moral Limits of Markets</title>
  <link>https://www.natekratzer.com/posts/moral_limits_of_markets/index.html</link>
  <description><![CDATA[ 



<p>Michael Sandel’s new book What Money Can’t Buy: The Moral Limits of Markets is a well-timed critique not of capitalist economics, but of the spread of economic thinking well beyond the boundaries of traditional economic issues like trading, inflation, prices, wages, etc. I just started a microeconomics course in preparation for graduate school in the fall and the <a href="http://catalog.flatworldknowledge.com/bookhub/reader/21?e=rittenberg-ch01">textbook</a> simply defined economics as “the study of choice.”</p>
<p>Sandel’s thesis is relatively simple: “…we drifted from having a market economy to being a market society. The difference is this: A market economy is a tool - a valuable and effective tool - for organizing productive activity. A market society is a way of life in which market values seep into every aspect of human endeavor. It’s a place where social relations are made over in the image of the market.”</p>
<p>Sandel makes two key arguments for not extending economic thinking to other aspects of life. First, he argues applying prices to certain goods degrades the good itself. Second, he argues that pricing certain goods is unfair. He refers to these two objections as the corruption objection and the fairness objection. The fairness objection is relatively familiar, summed up well by Sandel, who writes “the willingness to pay for a good does not show who values it most highly. This is because market prices reflect the ability as well as the willingness to pay.” To illustrate his point Sandel talks about the growing market of paying people to <a href="http://linestanding.com/">stand in line</a> for things as varied as congressional hearings and free theatre performances of Shakespeare in Central Park.</p>
<p>Sandel argues that there are both goods that cannot be bought and sold, such as friendships and honorifics (Oscars, Nobel Prize, etc.) and goods that are degraded when they are sold. Some of the more obvious examples include websites that allow you to buy wedding toasts and services that will send people to apologize for you. The rise of giving money as a gift is another example. As Miss Manners writes that money and gift cards have “taken the heart and soul out of the holiday. You’re basically paying somebody - paying them to go away.” Gift giving is economically inefficient, and yet attempts to increase its efficiency through gift cards and direct money transfers destroy both the meaning and the joy behind giving.</p>
<p>As Sandel writes, “when we decide that certain goods may be bought and sold, we decide, at least implicitly, that it is appropriate to treat them as commodities, as instruments of profit and use. But not all goods are properly valued in this way.” Sandel continues,“Economists often assume that markets do not touch or taint the goods they regulate. But this is untrue. Markets leave their mark on social norms. Often, market incentives crowd out or erode nonmarket incentives.”</p>
<p>One of the best documented cases of crowded out comes from a two-part survey in Switzerland, in which a small community was asked about storing nuclear waste in a nearby mountain. There were initially simply asked to store the waste out of civic duty, and then in round two they were asked and offered an annual payment. As a result, the acceptance rate went down, from 51 percent who would accept the nuclear waste simply out of civic duty, to a mere 25 percent who would accept when offered an annual monetary payment. Economists then increased the monetary offer, but even that did not help. Sandel sums up, “If the community was found to be the safest storage site they were willing to bear the burden. Against the background of this civic commitment, the offer of cash to residents felt like a bribe, an effort to buy their vote. In fact, 83 percent of those who rejected the monetary proposal explained their opposition by saying they could not be bribed.”</p>
<p>Child care centers that begin charging late fees have also found that the number of late parents actually increases, because instead of viewing it as an inconvenience to the child care providers, it is a paid service. (In a sense, they are even one of the providers best customers).</p>
<p>Sandel is at his very best in a short section entitled ‘Two Tenets of Market Faith’: The first assumption is that “commercializing an activity doesn’t change it,” an assumption already critiqued by his arguments about corruption and the subsequent crowding out of non-market incentives. The second tenet is “that ethical behavior is a commodity that needs to be economized.” He cites several economists, including Lawrence Summers, who replied to an objection that markets rely on selfishness and greed by arguing, “We all have only so much altruism in us. Economists like me think of altruism as a valuable and rare good that needs conserving.”</p>
<p>Sandel’s take-down is blunt and immediate, “Altruism, generosity, solidarity, and civic spirit are not like commodities that are depleted with use. They are more like muscles that develop and grow stronger with exercise. One of the defects of a market-driven society is that it lets these virtues languish. To renew our public life we need to exercise them more strenuously.”</p>
<section id="why-inequality-matters" class="level1">
<h1>Why Inequality Matters</h1>
<p>Sandel’s key insight is his ability to insist that the market is simultaneously an invaluable tool for the distribution of commodities, and a terrible danger to society when goods that should never be treated as commodities are placed on the market to be bought and sold like the latest computer gadgets or fashions. With that in mind, Sandel offers a better argument for why inequality matters than any I have heard or read before:</p>
<blockquote class="blockquote">
<p>If the only advantage of affluence were the ability to buy yachts, sports cars, and fancy vacations, inequalities of income and wealth would not matter very much. But as money comes to buy more and more - political influence, good medical care, a home in a safe neighborhood rather than a crime-ridden one, access to elite schools rather than failing ones - the distribution of income and wealth looms larger and larger. Where all good things are bought and sold, having money makes all the difference in the world.</p>
</blockquote>
<p>My only quibble is that he left out clean drinking water and the non-destruction of lands that have been in families for generations. The impacts of mountaintop removal coal mining are horrifying, and simply would not be allowed to happen in rich areas of the country. For the price of a few high wage but incredibly dangerous and hard jobs, coal companies have been allowed to do almost anything they want to the residents of Appalachia.</p>


</section>

 ]]></description>
  <category>Philosophy</category>
  <category>Economics</category>
  <guid>https://www.natekratzer.com/posts/moral_limits_of_markets/index.html</guid>
  <pubDate>Sat, 26 May 2012 04:00:00 GMT</pubDate>
  <media:content url="https://www.natekratzer.com/posts/moral_limits_of_markets/money_cant_buy.jpg" medium="image" type="image/jpeg"/>
</item>
</channel>
</rss>
